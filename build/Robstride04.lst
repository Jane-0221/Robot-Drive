ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"Robstride04.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "User/Hardware/Robstride04.c"
  19              		.global	Index_List
  20              		.section	.rodata.Index_List,"a"
  21              		.align	2
  24              	Index_List:
  25 0000 0570     		.short	28677
  26 0002 0670     		.short	28678
  27 0004 0A70     		.short	28682
  28 0006 0B70     		.short	28683
  29 0008 1070     		.short	28688
  30 000a 1170     		.short	28689
  31 000c 1470     		.short	28692
  32 000e 1670     		.short	28694
  33 0010 1770     		.short	28695
  34 0012 1870     		.short	28696
  35 0014 1970     		.short	28697
  36 0016 1A70     		.short	28698
  37 0018 1B70     		.short	28699
  38 001a 1C70     		.short	28700
  39 001c 1D70     		.short	28701
  40              		.global	Mailbox
  41              		.section	.bss.Mailbox,"aw",%nobits
  42              		.align	2
  45              	Mailbox:
  46 0000 00000000 		.space	4
  47              		.section	.text.uint16_to_float_lz,"ax",%progbits
  48              		.align	1
  49              		.global	uint16_to_float_lz
  50              		.syntax unified
  51              		.thumb
  52              		.thumb_func
  54              	uint16_to_float_lz:
  55              	.LFB144:
   1:User/Hardware/Robstride04.c **** #include "Robstride04.h"
   2:User/Hardware/Robstride04.c **** #include <string.h>
   3:User/Hardware/Robstride04.c **** #include "fdcan.h"
   4:User/Hardware/Robstride04.c **** 
   5:User/Hardware/Robstride04.c **** // 外部CAN句柄声明（保留原有硬件句柄命名，仅修改函数参数）
   6:User/Hardware/Robstride04.c **** 
   7:User/Hardware/Robstride04.c **** // RS04电机参数范围
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 2


   8:User/Hardware/Robstride04.c **** #define P_MIN -12.57f      // RS04: -12.57rad
   9:User/Hardware/Robstride04.c **** #define P_MAX 12.57f       // RS04: 12.57rad
  10:User/Hardware/Robstride04.c **** #define V_MIN -15.0f       // RS04: -15rad/s
  11:User/Hardware/Robstride04.c **** #define V_MAX 15.0f        // RS04: 15rad/s
  12:User/Hardware/Robstride04.c **** #define KP_MIN 0.0f
  13:User/Hardware/Robstride04.c **** #define KP_MAX 5000.0f     // RS04: 0~5000
  14:User/Hardware/Robstride04.c **** #define KD_MIN 0.0f
  15:User/Hardware/Robstride04.c **** #define KD_MAX 100.0f      // RS04: 0~100
  16:User/Hardware/Robstride04.c **** #define T_MIN -120.0f      // RS04: -120Nm
  17:User/Hardware/Robstride04.c **** #define T_MAX 120.0f       // RS04: 120Nm
  18:User/Hardware/Robstride04.c **** 
  19:User/Hardware/Robstride04.c **** const uint16_t Index_List[] = {0X7005, 0X7006, 0X700A, 0X700B, 0X7010, 0X7011, 0X7014, 0X7016, 0X70
  20:User/Hardware/Robstride04.c **** 
  21:User/Hardware/Robstride04.c **** uint32_t Mailbox; // 邮箱变量
  22:User/Hardware/Robstride04.c **** 
  23:User/Hardware/Robstride04.c **** // 如果没有定义CAN相关类型，定义它们
  24:User/Hardware/Robstride04.c **** #ifndef CAN_TxHeaderTypeDef
  25:User/Hardware/Robstride04.c **** typedef struct {
  26:User/Hardware/Robstride04.c ****     uint32_t StdId;
  27:User/Hardware/Robstride04.c ****     uint32_t ExtId;
  28:User/Hardware/Robstride04.c ****     uint32_t IDE;
  29:User/Hardware/Robstride04.c ****     uint32_t RTR;
  30:User/Hardware/Robstride04.c ****     uint32_t DLC;
  31:User/Hardware/Robstride04.c **** } CAN_TxHeaderTypeDef;
  32:User/Hardware/Robstride04.c **** #endif
  33:User/Hardware/Robstride04.c **** 
  34:User/Hardware/Robstride04.c **** #ifndef CAN_ID_EXT
  35:User/Hardware/Robstride04.c **** #define CAN_ID_EXT 1
  36:User/Hardware/Robstride04.c **** #endif
  37:User/Hardware/Robstride04.c **** 
  38:User/Hardware/Robstride04.c **** #ifndef CAN_ID_STD
  39:User/Hardware/Robstride04.c **** #define CAN_ID_STD 0
  40:User/Hardware/Robstride04.c **** #endif
  41:User/Hardware/Robstride04.c **** 
  42:User/Hardware/Robstride04.c **** #ifndef CAN_RTR_DATA
  43:User/Hardware/Robstride04.c **** #define CAN_RTR_DATA 0
  44:User/Hardware/Robstride04.c **** #endif
  45:User/Hardware/Robstride04.c **** 
  46:User/Hardware/Robstride04.c **** /*******************************************************************************
  47:User/Hardware/Robstride04.c **** * 函数功能  : uint16_t型转float型浮点数
  48:User/Hardware/Robstride04.c **** *******************************************************************************/
  49:User/Hardware/Robstride04.c **** float uint16_to_float_lz(uint16_t x, float x_min, float x_max, uint8_t bits)
  50:User/Hardware/Robstride04.c **** {
  56              		.loc 1 50 1
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 24
  59              		@ frame_needed = 1, uses_anonymous_args = 0
  60              		@ link register save eliminated.
  61 0000 80B4     		push	{r7}
  62              	.LCFI0:
  63              		.cfi_def_cfa_offset 4
  64              		.cfi_offset 7, -4
  65 0002 87B0     		sub	sp, sp, #28
  66              	.LCFI1:
  67              		.cfi_def_cfa_offset 32
  68 0004 00AF     		add	r7, sp, #0
  69              	.LCFI2:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 3


  70              		.cfi_def_cfa_register 7
  71 0006 0346     		mov	r3, r0
  72 0008 87ED020A 		vstr.32	s0, [r7, #8]
  73 000c C7ED010A 		vstr.32	s1, [r7, #4]
  74 0010 0A46     		mov	r2, r1
  75 0012 FB81     		strh	r3, [r7, #14]	@ movhi
  76 0014 1346     		mov	r3, r2
  77 0016 7B73     		strb	r3, [r7, #13]
  51:User/Hardware/Robstride04.c ****     uint32_t span = (1 << bits) - 1;
  78              		.loc 1 51 24
  79 0018 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
  80 001a 0122     		movs	r2, #1
  81 001c 02FA03F3 		lsl	r3, r2, r3
  82              		.loc 1 51 33
  83 0020 013B     		subs	r3, r3, #1
  84              		.loc 1 51 14
  85 0022 7B61     		str	r3, [r7, #20]
  52:User/Hardware/Robstride04.c ****     x &= span;
  86              		.loc 1 52 7
  87 0024 7B69     		ldr	r3, [r7, #20]
  88 0026 9AB2     		uxth	r2, r3
  89 0028 FB89     		ldrh	r3, [r7, #14]	@ movhi
  90 002a 1340     		ands	r3, r3, r2
  91 002c FB81     		strh	r3, [r7, #14]	@ movhi
  53:User/Hardware/Robstride04.c ****     float offset = x_max - x_min;
  92              		.loc 1 53 11
  93 002e 97ED017A 		vldr.32	s14, [r7, #4]
  94 0032 D7ED027A 		vldr.32	s15, [r7, #8]
  95 0036 77EE677A 		vsub.f32	s15, s14, s15
  96 003a C7ED047A 		vstr.32	s15, [r7, #16]
  54:User/Hardware/Robstride04.c ****     return offset * x / span + x_min;
  97              		.loc 1 54 19
  98 003e FB89     		ldrh	r3, [r7, #14]
  99 0040 07EE903A 		vmov	s15, r3	@ int
 100 0044 B8EEE77A 		vcvt.f32.s32	s14, s15
 101 0048 D7ED047A 		vldr.32	s15, [r7, #16]
 102 004c 67EE276A 		vmul.f32	s13, s14, s15
 103              		.loc 1 54 23
 104 0050 7B69     		ldr	r3, [r7, #20]
 105 0052 07EE903A 		vmov	s15, r3	@ int
 106 0056 F8EE677A 		vcvt.f32.u32	s15, s15
 107 005a 86EEA77A 		vdiv.f32	s14, s13, s15
 108              		.loc 1 54 30
 109 005e D7ED027A 		vldr.32	s15, [r7, #8]
 110 0062 77EE277A 		vadd.f32	s15, s14, s15
  55:User/Hardware/Robstride04.c **** }
 111              		.loc 1 55 1
 112 0066 B0EE670A 		vmov.f32	s0, s15
 113 006a 1C37     		adds	r7, r7, #28
 114              	.LCFI3:
 115              		.cfi_def_cfa_offset 4
 116 006c BD46     		mov	sp, r7
 117              	.LCFI4:
 118              		.cfi_def_cfa_register 13
 119              		@ sp needed
 120 006e 5DF8047B 		ldr	r7, [sp], #4
 121              	.LCFI5:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 4


 122              		.cfi_restore 7
 123              		.cfi_def_cfa_offset 0
 124 0072 7047     		bx	lr
 125              		.cfi_endproc
 126              	.LFE144:
 128              		.section	.text.float_to_uint_lz_lz,"ax",%progbits
 129              		.align	1
 130              		.global	float_to_uint_lz_lz
 131              		.syntax unified
 132              		.thumb
 133              		.thumb_func
 135              	float_to_uint_lz_lz:
 136              	.LFB145:
  56:User/Hardware/Robstride04.c **** 
  57:User/Hardware/Robstride04.c **** /*******************************************************************************
  58:User/Hardware/Robstride04.c **** * 函数功能  : float浮点数转int型
  59:User/Hardware/Robstride04.c **** *******************************************************************************/
  60:User/Hardware/Robstride04.c **** uint16_t float_to_uint_lz_lz(float x, float x_min, float x_max, uint8_t bits)
  61:User/Hardware/Robstride04.c **** {
 137              		.loc 1 61 1
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 24
 140              		@ frame_needed = 1, uses_anonymous_args = 0
 141              		@ link register save eliminated.
 142 0000 80B4     		push	{r7}
 143              	.LCFI6:
 144              		.cfi_def_cfa_offset 4
 145              		.cfi_offset 7, -4
 146 0002 87B0     		sub	sp, sp, #28
 147              	.LCFI7:
 148              		.cfi_def_cfa_offset 32
 149 0004 00AF     		add	r7, sp, #0
 150              	.LCFI8:
 151              		.cfi_def_cfa_register 7
 152 0006 87ED030A 		vstr.32	s0, [r7, #12]
 153 000a C7ED020A 		vstr.32	s1, [r7, #8]
 154 000e 87ED011A 		vstr.32	s2, [r7, #4]
 155 0012 0346     		mov	r3, r0
 156 0014 FB70     		strb	r3, [r7, #3]
  62:User/Hardware/Robstride04.c ****     float span = x_max - x_min;
 157              		.loc 1 62 11
 158 0016 97ED017A 		vldr.32	s14, [r7, #4]
 159 001a D7ED027A 		vldr.32	s15, [r7, #8]
 160 001e 77EE677A 		vsub.f32	s15, s14, s15
 161 0022 C7ED057A 		vstr.32	s15, [r7, #20]
  63:User/Hardware/Robstride04.c ****     float offset = x_min;
 162              		.loc 1 63 11
 163 0026 BB68     		ldr	r3, [r7, #8]	@ float
 164 0028 3B61     		str	r3, [r7, #16]	@ float
  64:User/Hardware/Robstride04.c ****     if (x > x_max) x = x_max;
 165              		.loc 1 64 8
 166 002a 97ED037A 		vldr.32	s14, [r7, #12]
 167 002e D7ED017A 		vldr.32	s15, [r7, #4]
 168 0032 B4EEE77A 		vcmpe.f32	s14, s15
 169 0036 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 170 003a 02DD     		ble	.L11
 171              		.loc 1 64 22 discriminator 1
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 5


 172 003c 7B68     		ldr	r3, [r7, #4]	@ float
 173 003e FB60     		str	r3, [r7, #12]	@ float
 174 0040 0AE0     		b	.L6
 175              	.L11:
  65:User/Hardware/Robstride04.c ****     else if (x < x_min) x = x_min;
 176              		.loc 1 65 13
 177 0042 97ED037A 		vldr.32	s14, [r7, #12]
 178 0046 D7ED027A 		vldr.32	s15, [r7, #8]
 179 004a B4EEE77A 		vcmpe.f32	s14, s15
 180 004e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 181 0052 01D5     		bpl	.L6
 182              		.loc 1 65 27 discriminator 1
 183 0054 BB68     		ldr	r3, [r7, #8]	@ float
 184 0056 FB60     		str	r3, [r7, #12]	@ float
 185              	.L6:
  66:User/Hardware/Robstride04.c ****     return (uint16_t)((x - offset) * ((float)((1 << bits) - 1)) / span);
 186              		.loc 1 66 26
 187 0058 97ED037A 		vldr.32	s14, [r7, #12]
 188 005c D7ED047A 		vldr.32	s15, [r7, #16]
 189 0060 37EE677A 		vsub.f32	s14, s14, s15
 190              		.loc 1 66 50
 191 0064 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 192 0066 0122     		movs	r2, #1
 193 0068 02FA03F3 		lsl	r3, r2, r3
 194              		.loc 1 66 59
 195 006c 013B     		subs	r3, r3, #1
 196              		.loc 1 66 39
 197 006e 07EE903A 		vmov	s15, r3	@ int
 198 0072 F8EEE77A 		vcvt.f32.s32	s15, s15
 199              		.loc 1 66 36
 200 0076 67EE276A 		vmul.f32	s13, s14, s15
 201              		.loc 1 66 65
 202 007a 97ED057A 		vldr.32	s14, [r7, #20]
 203 007e C6EE877A 		vdiv.f32	s15, s13, s14
 204              		.loc 1 66 12
 205 0082 FCEEE77A 		vcvt.u32.f32	s15, s15
 206 0086 17EE903A 		vmov	r3, s15	@ int
 207 008a 9BB2     		uxth	r3, r3
  67:User/Hardware/Robstride04.c **** }
 208              		.loc 1 67 1
 209 008c 1846     		mov	r0, r3
 210 008e 1C37     		adds	r7, r7, #28
 211              	.LCFI9:
 212              		.cfi_def_cfa_offset 4
 213 0090 BD46     		mov	sp, r7
 214              	.LCFI10:
 215              		.cfi_def_cfa_register 13
 216              		@ sp needed
 217 0092 5DF8047B 		ldr	r7, [sp], #4
 218              	.LCFI11:
 219              		.cfi_restore 7
 220              		.cfi_def_cfa_offset 0
 221 0096 7047     		bx	lr
 222              		.cfi_endproc
 223              	.LFE145:
 225              		.section	.text.Byte_to_float,"ax",%progbits
 226              		.align	1
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 6


 227              		.global	Byte_to_float
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 232              	Byte_to_float:
 233              	.LFB146:
  68:User/Hardware/Robstride04.c **** 
  69:User/Hardware/Robstride04.c **** /*******************************************************************************
  70:User/Hardware/Robstride04.c **** * 函数功能  : uint8_t数组转float浮点数
  71:User/Hardware/Robstride04.c **** *******************************************************************************/
  72:User/Hardware/Robstride04.c **** float Byte_to_float(uint8_t* bytedata)
  73:User/Hardware/Robstride04.c **** {
 234              		.loc 1 73 1
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 16
 237              		@ frame_needed = 1, uses_anonymous_args = 0
 238              		@ link register save eliminated.
 239 0000 80B4     		push	{r7}
 240              	.LCFI12:
 241              		.cfi_def_cfa_offset 4
 242              		.cfi_offset 7, -4
 243 0002 85B0     		sub	sp, sp, #20
 244              	.LCFI13:
 245              		.cfi_def_cfa_offset 24
 246 0004 00AF     		add	r7, sp, #0
 247              	.LCFI14:
 248              		.cfi_def_cfa_register 7
 249 0006 7860     		str	r0, [r7, #4]
  74:User/Hardware/Robstride04.c ****     uint32_t data = (uint32_t)bytedata[7] << 24 | (uint32_t)bytedata[6] << 16 | (uint32_t)bytedata[
 250              		.loc 1 74 39
 251 0008 7B68     		ldr	r3, [r7, #4]
 252 000a 0733     		adds	r3, r3, #7
 253 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 254              		.loc 1 74 43
 255 000e 1A06     		lsls	r2, r3, #24
 256              		.loc 1 74 69
 257 0010 7B68     		ldr	r3, [r7, #4]
 258 0012 0633     		adds	r3, r3, #6
 259 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 260              		.loc 1 74 73
 261 0016 1B04     		lsls	r3, r3, #16
 262              		.loc 1 74 49
 263 0018 1A43     		orrs	r2, r2, r3
 264              		.loc 1 74 99
 265 001a 7B68     		ldr	r3, [r7, #4]
 266 001c 0533     		adds	r3, r3, #5
 267 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 268              		.loc 1 74 103
 269 0020 1B02     		lsls	r3, r3, #8
 270              		.loc 1 74 79
 271 0022 1343     		orrs	r3, r3, r2
 272              		.loc 1 74 118
 273 0024 7A68     		ldr	r2, [r7, #4]
 274 0026 0432     		adds	r2, r2, #4
 275 0028 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 276              		.loc 1 74 108
 277 002a 1343     		orrs	r3, r3, r2
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 7


 278              		.loc 1 74 14
 279 002c BB60     		str	r3, [r7, #8]
  75:User/Hardware/Robstride04.c ****     float data_float = *(float*)(&data);
 280              		.loc 1 75 34
 281 002e 07F10803 		add	r3, r7, #8
 282              		.loc 1 75 11
 283 0032 1B68     		ldr	r3, [r3]	@ float
 284 0034 FB60     		str	r3, [r7, #12]	@ float
  76:User/Hardware/Robstride04.c ****     return data_float;
 285              		.loc 1 76 12
 286 0036 FB68     		ldr	r3, [r7, #12]	@ float
 287 0038 07EE903A 		vmov	s15, r3
  77:User/Hardware/Robstride04.c **** }
 288              		.loc 1 77 1
 289 003c B0EE670A 		vmov.f32	s0, s15
 290 0040 1437     		adds	r7, r7, #20
 291              	.LCFI15:
 292              		.cfi_def_cfa_offset 4
 293 0042 BD46     		mov	sp, r7
 294              	.LCFI16:
 295              		.cfi_def_cfa_register 13
 296              		@ sp needed
 297 0044 5DF8047B 		ldr	r7, [sp], #4
 298              	.LCFI17:
 299              		.cfi_restore 7
 300              		.cfi_def_cfa_offset 0
 301 0048 7047     		bx	lr
 302              		.cfi_endproc
 303              	.LFE146:
 305              		.section	.text.mapFaults,"ax",%progbits
 306              		.align	1
 307              		.global	mapFaults
 308              		.syntax unified
 309              		.thumb
 310              		.thumb_func
 312              	mapFaults:
 313              	.LFB147:
  78:User/Hardware/Robstride04.c **** 
  79:User/Hardware/Robstride04.c **** /*******************************************************************************
  80:User/Hardware/Robstride04.c **** * 函数功能  : MIT错位码转换至私有模式错位码
  81:User/Hardware/Robstride04.c **** *******************************************************************************/
  82:User/Hardware/Robstride04.c **** uint8_t mapFaults(uint16_t fault16)
  83:User/Hardware/Robstride04.c **** {
 314              		.loc 1 83 1
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 16
 317              		@ frame_needed = 1, uses_anonymous_args = 0
 318              		@ link register save eliminated.
 319 0000 80B4     		push	{r7}
 320              	.LCFI18:
 321              		.cfi_def_cfa_offset 4
 322              		.cfi_offset 7, -4
 323 0002 85B0     		sub	sp, sp, #20
 324              	.LCFI19:
 325              		.cfi_def_cfa_offset 24
 326 0004 00AF     		add	r7, sp, #0
 327              	.LCFI20:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 8


 328              		.cfi_def_cfa_register 7
 329 0006 0346     		mov	r3, r0
 330 0008 FB80     		strh	r3, [r7, #6]	@ movhi
  84:User/Hardware/Robstride04.c ****     uint8_t fault8 = 0;
 331              		.loc 1 84 13
 332 000a 0023     		movs	r3, #0
 333 000c FB73     		strb	r3, [r7, #15]
  85:User/Hardware/Robstride04.c ****     
  86:User/Hardware/Robstride04.c ****     // 根据RS04说明书第55页的故障位定义进行映射
  87:User/Hardware/Robstride04.c ****     if (fault16 & (1 << 16)) fault8 |= (1 << 0); // A相电流采样过流 -> 欠压故障(位0)
 334              		.loc 1 87 17
 335 000e FB88     		ldrh	r3, [r7, #6]
 336 0010 03F48033 		and	r3, r3, #65536
 337              		.loc 1 87 8
 338 0014 002B     		cmp	r3, #0
 339 0016 03D0     		beq	.L15
 340              		.loc 1 87 37 discriminator 1
 341 0018 FB7B     		ldrb	r3, [r7, #15]
 342 001a 43F00103 		orr	r3, r3, #1
 343 001e FB73     		strb	r3, [r7, #15]
 344              	.L15:
  88:User/Hardware/Robstride04.c ****     if (fault16 & (1 << 14)) fault8 |= (1 << 4); // 电机堵转过载算法保护 -> 过载故障(位4)
 345              		.loc 1 88 17
 346 0020 FB88     		ldrh	r3, [r7, #6]
 347 0022 03F48043 		and	r3, r3, #16384
 348              		.loc 1 88 8
 349 0026 002B     		cmp	r3, #0
 350 0028 03D0     		beq	.L16
 351              		.loc 1 88 37 discriminator 1
 352 002a FB7B     		ldrb	r3, [r7, #15]
 353 002c 43F01003 		orr	r3, r3, #16
 354 0030 FB73     		strb	r3, [r7, #15]
 355              	.L16:
  89:User/Hardware/Robstride04.c ****     if (fault16 & (1 << 9))  fault8 |= (1 << 5); // 位置初始化故障 -> 未标定(位5)
 356              		.loc 1 89 17
 357 0032 FB88     		ldrh	r3, [r7, #6]
 358 0034 03F40073 		and	r3, r3, #512
 359              		.loc 1 89 8
 360 0038 002B     		cmp	r3, #0
 361 003a 03D0     		beq	.L17
 362              		.loc 1 89 37 discriminator 1
 363 003c FB7B     		ldrb	r3, [r7, #15]
 364 003e 43F02003 		orr	r3, r3, #32
 365 0042 FB73     		strb	r3, [r7, #15]
 366              	.L17:
  90:User/Hardware/Robstride04.c ****     if (fault16 & (1 << 8))  fault8 |= (1 << 1); // 硬件识别故障 -> 驱动故障(位1)
 367              		.loc 1 90 17
 368 0044 FB88     		ldrh	r3, [r7, #6]
 369 0046 03F48073 		and	r3, r3, #256
 370              		.loc 1 90 8
 371 004a 002B     		cmp	r3, #0
 372 004c 03D0     		beq	.L18
 373              		.loc 1 90 37 discriminator 1
 374 004e FB7B     		ldrb	r3, [r7, #15]
 375 0050 43F00203 		orr	r3, r3, #2
 376 0054 FB73     		strb	r3, [r7, #15]
 377              	.L18:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 9


  91:User/Hardware/Robstride04.c ****     if (fault16 & (1 << 7))  fault8 |= (1 << 5); // 编码器未标定 -> 未标定(位5)
 378              		.loc 1 91 17
 379 0056 FB88     		ldrh	r3, [r7, #6]
 380 0058 03F08003 		and	r3, r3, #128
 381              		.loc 1 91 8
 382 005c 002B     		cmp	r3, #0
 383 005e 03D0     		beq	.L19
 384              		.loc 1 91 37 discriminator 1
 385 0060 FB7B     		ldrb	r3, [r7, #15]
 386 0062 43F02003 		orr	r3, r3, #32
 387 0066 FB73     		strb	r3, [r7, #15]
 388              	.L19:
  92:User/Hardware/Robstride04.c ****     if (fault16 & (1 << 5))  fault8 |= (1 << 2); // C相电流采样过流 -> 过温(位2)
 389              		.loc 1 92 17
 390 0068 FB88     		ldrh	r3, [r7, #6]
 391 006a 03F02003 		and	r3, r3, #32
 392              		.loc 1 92 8
 393 006e 002B     		cmp	r3, #0
 394 0070 03D0     		beq	.L20
 395              		.loc 1 92 37 discriminator 1
 396 0072 FB7B     		ldrb	r3, [r7, #15]
 397 0074 43F00403 		orr	r3, r3, #4
 398 0078 FB73     		strb	r3, [r7, #15]
 399              	.L20:
  93:User/Hardware/Robstride04.c ****     if (fault16 & (1 << 4))  fault8 |= (1 << 2); // B相电流采样过流 -> 过温(位2)
 400              		.loc 1 93 17
 401 007a FB88     		ldrh	r3, [r7, #6]
 402 007c 03F01003 		and	r3, r3, #16
 403              		.loc 1 93 8
 404 0080 002B     		cmp	r3, #0
 405 0082 03D0     		beq	.L21
 406              		.loc 1 93 37 discriminator 1
 407 0084 FB7B     		ldrb	r3, [r7, #15]
 408 0086 43F00403 		orr	r3, r3, #4
 409 008a FB73     		strb	r3, [r7, #15]
 410              	.L21:
  94:User/Hardware/Robstride04.c ****     if (fault16 & (1 << 3))  fault8 |= (1 << 3); // 过压故障 -> 磁编码故障(位3)
 411              		.loc 1 94 17
 412 008c FB88     		ldrh	r3, [r7, #6]
 413 008e 03F00803 		and	r3, r3, #8
 414              		.loc 1 94 8
 415 0092 002B     		cmp	r3, #0
 416 0094 03D0     		beq	.L22
 417              		.loc 1 94 37 discriminator 1
 418 0096 FB7B     		ldrb	r3, [r7, #15]
 419 0098 43F00803 		orr	r3, r3, #8
 420 009c FB73     		strb	r3, [r7, #15]
 421              	.L22:
  95:User/Hardware/Robstride04.c ****     
  96:User/Hardware/Robstride04.c ****     return fault8;
 422              		.loc 1 96 12
 423 009e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  97:User/Hardware/Robstride04.c **** }
 424              		.loc 1 97 1
 425 00a0 1846     		mov	r0, r3
 426 00a2 1437     		adds	r7, r7, #20
 427              	.LCFI21:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 10


 428              		.cfi_def_cfa_offset 4
 429 00a4 BD46     		mov	sp, r7
 430              	.LCFI22:
 431              		.cfi_def_cfa_register 13
 432              		@ sp needed
 433 00a6 5DF8047B 		ldr	r7, [sp], #4
 434              	.LCFI23:
 435              		.cfi_restore 7
 436              		.cfi_def_cfa_offset 0
 437 00aa 7047     		bx	lr
 438              		.cfi_endproc
 439              	.LFE147:
 441              		.section	.text.RobStride_Motor_Init,"ax",%progbits
 442              		.align	1
 443              		.global	RobStride_Motor_Init
 444              		.syntax unified
 445              		.thumb
 446              		.thumb_func
 448              	RobStride_Motor_Init:
 449              	.LFB148:
  98:User/Hardware/Robstride04.c **** 
  99:User/Hardware/Robstride04.c **** /*******************************************************************************
 100:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机初始化
 101:User/Hardware/Robstride04.c **** *******************************************************************************/
 102:User/Hardware/Robstride04.c **** void RobStride_Motor_Init(RobStride_Motor_t* motor, uint8_t CAN_Id, bool MIT_mode)
 103:User/Hardware/Robstride04.c **** {
 450              		.loc 1 103 1
 451              		.cfi_startproc
 452              		@ args = 0, pretend = 0, frame = 8
 453              		@ frame_needed = 1, uses_anonymous_args = 0
 454 0000 80B5     		push	{r7, lr}
 455              	.LCFI24:
 456              		.cfi_def_cfa_offset 8
 457              		.cfi_offset 7, -8
 458              		.cfi_offset 14, -4
 459 0002 82B0     		sub	sp, sp, #8
 460              	.LCFI25:
 461              		.cfi_def_cfa_offset 16
 462 0004 00AF     		add	r7, sp, #0
 463              	.LCFI26:
 464              		.cfi_def_cfa_register 7
 465 0006 7860     		str	r0, [r7, #4]
 466 0008 0B46     		mov	r3, r1
 467 000a FB70     		strb	r3, [r7, #3]
 468 000c 1346     		mov	r3, r2
 469 000e BB70     		strb	r3, [r7, #2]
 104:User/Hardware/Robstride04.c ****     motor->CAN_ID = CAN_Id;
 470              		.loc 1 104 19
 471 0010 7B68     		ldr	r3, [r7, #4]
 472 0012 FA78     		ldrb	r2, [r7, #3]
 473 0014 1A70     		strb	r2, [r3]
 105:User/Hardware/Robstride04.c ****     motor->Master_CAN_ID = 0xFD;
 474              		.loc 1 105 26
 475 0016 7B68     		ldr	r3, [r7, #4]
 476 0018 FD22     		movs	r2, #253
 477 001a 1A82     		strh	r2, [r3, #16]	@ movhi
 106:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_motor_mode = move_control_mode;
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 11


 478              		.loc 1 106 41
 479 001c 7B68     		ldr	r3, [r7, #4]
 480 001e 0022     		movs	r2, #0
 481 0020 1A75     		strb	r2, [r3, #20]
 107:User/Hardware/Robstride04.c ****     motor->MIT_Mode = MIT_mode;
 482              		.loc 1 107 21
 483 0022 7B68     		ldr	r3, [r7, #4]
 484 0024 BA78     		ldrb	r2, [r7, #2]
 485 0026 83F84120 		strb	r2, [r3, #65]
 108:User/Hardware/Robstride04.c ****     motor->MIT_Type = operationControl;
 486              		.loc 1 108 21
 487 002a 7B68     		ldr	r3, [r7, #4]
 488 002c 0022     		movs	r2, #0
 489 002e 83F84220 		strb	r2, [r3, #66]
 109:User/Hardware/Robstride04.c ****     
 110:User/Hardware/Robstride04.c ****     // 初始化数据读写结构
 111:User/Hardware/Robstride04.c ****     data_read_write_init(&motor->drw);
 490              		.loc 1 111 5
 491 0032 7B68     		ldr	r3, [r7, #4]
 492 0034 6033     		adds	r3, r3, #96
 493 0036 1846     		mov	r0, r3
 494 0038 FFF7FEFF 		bl	data_read_write_init
 112:User/Hardware/Robstride04.c **** }
 495              		.loc 1 112 1
 496 003c 00BF     		nop
 497 003e 0837     		adds	r7, r7, #8
 498              	.LCFI27:
 499              		.cfi_def_cfa_offset 8
 500 0040 BD46     		mov	sp, r7
 501              	.LCFI28:
 502              		.cfi_def_cfa_register 13
 503              		@ sp needed
 504 0042 80BD     		pop	{r7, pc}
 505              		.cfi_endproc
 506              	.LFE148:
 508              		.section	.text.RobStride_Motor_Init_Offset,"ax",%progbits
 509              		.align	1
 510              		.global	RobStride_Motor_Init_Offset
 511              		.syntax unified
 512              		.thumb
 513              		.thumb_func
 515              	RobStride_Motor_Init_Offset:
 516              	.LFB149:
 113:User/Hardware/Robstride04.c **** 
 114:User/Hardware/Robstride04.c **** void RobStride_Motor_Init_Offset(RobStride_Motor_t* motor, uint8_t CAN_Id, bool MIT_mode)
 115:User/Hardware/Robstride04.c **** {
 517              		.loc 1 115 1
 518              		.cfi_startproc
 519              		@ args = 0, pretend = 0, frame = 8
 520              		@ frame_needed = 1, uses_anonymous_args = 0
 521 0000 80B5     		push	{r7, lr}
 522              	.LCFI29:
 523              		.cfi_def_cfa_offset 8
 524              		.cfi_offset 7, -8
 525              		.cfi_offset 14, -4
 526 0002 82B0     		sub	sp, sp, #8
 527              	.LCFI30:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 12


 528              		.cfi_def_cfa_offset 16
 529 0004 00AF     		add	r7, sp, #0
 530              	.LCFI31:
 531              		.cfi_def_cfa_register 7
 532 0006 7860     		str	r0, [r7, #4]
 533 0008 0B46     		mov	r3, r1
 534 000a FB70     		strb	r3, [r7, #3]
 535 000c 1346     		mov	r3, r2
 536 000e BB70     		strb	r3, [r7, #2]
 116:User/Hardware/Robstride04.c ****     RobStride_Motor_Init(motor, CAN_Id, MIT_mode);
 537              		.loc 1 116 5
 538 0010 BA78     		ldrb	r2, [r7, #2]	@ zero_extendqisi2
 539 0012 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 540 0014 1946     		mov	r1, r3
 541 0016 7868     		ldr	r0, [r7, #4]
 542 0018 FFF7FEFF 		bl	RobStride_Motor_Init
 117:User/Hardware/Robstride04.c **** }
 543              		.loc 1 117 1
 544 001c 00BF     		nop
 545 001e 0837     		adds	r7, r7, #8
 546              	.LCFI32:
 547              		.cfi_def_cfa_offset 8
 548 0020 BD46     		mov	sp, r7
 549              	.LCFI33:
 550              		.cfi_def_cfa_register 13
 551              		@ sp needed
 552 0022 80BD     		pop	{r7, pc}
 553              		.cfi_endproc
 554              	.LFE149:
 556              		.section	.text.RobStride_Motor_Analysis,"ax",%progbits
 557              		.align	1
 558              		.global	RobStride_Motor_Analysis
 559              		.syntax unified
 560              		.thumb
 561              		.thumb_func
 563              	RobStride_Motor_Analysis:
 564              	.LFB150:
 118:User/Hardware/Robstride04.c **** 
 119:User/Hardware/Robstride04.c **** /*******************************************************************************
 120:User/Hardware/Robstride04.c **** * 函数功能  : 接收处理函数
 121:User/Hardware/Robstride04.c **** *******************************************************************************/
 122:User/Hardware/Robstride04.c **** void RobStride_Motor_Analysis(RobStride_Motor_t* motor, uint8_t* DataFrame, uint32_t ID_ExtId)
 123:User/Hardware/Robstride04.c **** {
 565              		.loc 1 123 1
 566              		.cfi_startproc
 567              		@ args = 0, pretend = 0, frame = 32
 568              		@ frame_needed = 1, uses_anonymous_args = 0
 569 0000 80B5     		push	{r7, lr}
 570              	.LCFI34:
 571              		.cfi_def_cfa_offset 8
 572              		.cfi_offset 7, -8
 573              		.cfi_offset 14, -4
 574 0002 88B0     		sub	sp, sp, #32
 575              	.LCFI35:
 576              		.cfi_def_cfa_offset 40
 577 0004 00AF     		add	r7, sp, #0
 578              	.LCFI36:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 13


 579              		.cfi_def_cfa_register 7
 580 0006 F860     		str	r0, [r7, #12]
 581 0008 B960     		str	r1, [r7, #8]
 582 000a 7A60     		str	r2, [r7, #4]
 124:User/Hardware/Robstride04.c ****     if (motor->MIT_Mode)
 583              		.loc 1 124 14
 584 000c FB68     		ldr	r3, [r7, #12]
 585 000e 93F84130 		ldrb	r3, [r3, #65]	@ zero_extendqisi2
 586              		.loc 1 124 8
 587 0012 002B     		cmp	r3, #0
 588 0014 00F0A480 		beq	.L27
 125:User/Hardware/Robstride04.c ****     {
 126:User/Hardware/Robstride04.c ****         // MIT协议使用标准帧，主机ID为0xFD
 127:User/Hardware/Robstride04.c ****         if ((ID_ExtId & 0xFF) == 0xFD)
 589              		.loc 1 127 23
 590 0018 7B68     		ldr	r3, [r7, #4]
 591 001a DBB2     		uxtb	r3, r3
 592              		.loc 1 127 12
 593 001c FD2B     		cmp	r3, #253
 594 001e 40F09280 		bne	.L28
 128:User/Hardware/Robstride04.c ****         {
 129:User/Hardware/Robstride04.c ****             // 检查是否为故障反馈帧
 130:User/Hardware/Robstride04.c ****             if (DataFrame[3] == 0x00 && DataFrame[4] == 0x00 && DataFrame[5] == 0x00 &&
 595              		.loc 1 130 26
 596 0022 BB68     		ldr	r3, [r7, #8]
 597 0024 0333     		adds	r3, r3, #3
 598 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 599              		.loc 1 130 16
 600 0028 002B     		cmp	r3, #0
 601 002a 27D1     		bne	.L29
 602              		.loc 1 130 50 discriminator 1
 603 002c BB68     		ldr	r3, [r7, #8]
 604 002e 0433     		adds	r3, r3, #4
 605 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 606              		.loc 1 130 38 discriminator 1
 607 0032 002B     		cmp	r3, #0
 608 0034 22D1     		bne	.L29
 609              		.loc 1 130 74 discriminator 2
 610 0036 BB68     		ldr	r3, [r7, #8]
 611 0038 0533     		adds	r3, r3, #5
 612 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 613              		.loc 1 130 62 discriminator 2
 614 003c 002B     		cmp	r3, #0
 615 003e 1DD1     		bne	.L29
 131:User/Hardware/Robstride04.c ****                 DataFrame[6] == 0x00 && DataFrame[7] == 0x00)
 616              		.loc 1 131 26
 617 0040 BB68     		ldr	r3, [r7, #8]
 618 0042 0633     		adds	r3, r3, #6
 619 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 130:User/Hardware/Robstride04.c ****                 DataFrame[6] == 0x00 && DataFrame[7] == 0x00)
 620              		.loc 1 130 86 discriminator 3
 621 0046 002B     		cmp	r3, #0
 622 0048 18D1     		bne	.L29
 623              		.loc 1 131 50
 624 004a BB68     		ldr	r3, [r7, #8]
 625 004c 0733     		adds	r3, r3, #7
 626 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 14


 627              		.loc 1 131 38
 628 0050 002B     		cmp	r3, #0
 629 0052 13D1     		bne	.L29
 630              	.LBB2:
 132:User/Hardware/Robstride04.c ****             {
 133:User/Hardware/Robstride04.c ****                 // 故障信息在Byte1-2中
 134:User/Hardware/Robstride04.c ****                 uint16_t fault16 = (uint16_t)(DataFrame[1] << 8) | DataFrame[2];
 631              		.loc 1 134 56
 632 0054 BB68     		ldr	r3, [r7, #8]
 633 0056 0133     		adds	r3, r3, #1
 634 0058 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 635              		.loc 1 134 36
 636 005a 1B02     		lsls	r3, r3, #8
 637 005c 9BB2     		uxth	r3, r3
 638              		.loc 1 134 77
 639 005e BA68     		ldr	r2, [r7, #8]
 640 0060 0232     		adds	r2, r2, #2
 641 0062 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 642              		.loc 1 134 26
 643 0064 1343     		orrs	r3, r3, r2
 644 0066 7B83     		strh	r3, [r7, #26]	@ movhi
 135:User/Hardware/Robstride04.c ****                 motor->error_code = mapFaults(fault16);
 645              		.loc 1 135 37
 646 0068 7B8B     		ldrh	r3, [r7, #26]
 647 006a 1846     		mov	r0, r3
 648 006c FFF7FEFF 		bl	mapFaults
 649 0070 0346     		mov	r3, r0
 650 0072 1A46     		mov	r2, r3
 651              		.loc 1 135 35 discriminator 1
 652 0074 FB68     		ldr	r3, [r7, #12]
 653 0076 83F84020 		strb	r2, [r3, #64]
 654              	.LBE2:
 132:User/Hardware/Robstride04.c ****             {
 655              		.loc 1 132 13
 656 007a D0E1     		b	.L31
 657              	.L29:
 658              	.LBB3:
 136:User/Hardware/Robstride04.c ****             }
 137:User/Hardware/Robstride04.c ****             else
 138:User/Hardware/Robstride04.c ****             {
 139:User/Hardware/Robstride04.c ****                 // 正常数据帧解析
 140:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Angle = uint16_to_float_lz((uint16_t)(DataFrame[1] << 8) | DataFram
 659              		.loc 1 140 80
 660 007c BB68     		ldr	r3, [r7, #8]
 661 007e 0133     		adds	r3, r3, #1
 662 0080 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 663              		.loc 1 140 60
 664 0082 1B02     		lsls	r3, r3, #8
 665 0084 9BB2     		uxth	r3, r3
 666              		.loc 1 140 101
 667 0086 BA68     		ldr	r2, [r7, #8]
 668 0088 0232     		adds	r2, r2, #2
 669 008a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 670              		.loc 1 140 41
 671 008c 1343     		orrs	r3, r3, r2
 672 008e 9BB2     		uxth	r3, r3
 673 0090 1021     		movs	r1, #16
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 15


 674 0092 DFEDBD0A 		vldr.32	s1, .L57
 675 0096 9FEDBD0A 		vldr.32	s0, .L57+4
 676 009a 1846     		mov	r0, r3
 677 009c FFF7FEFF 		bl	uint16_to_float_lz
 678 00a0 F0EE407A 		vmov.f32	s15, s0
 679              		.loc 1 140 39 discriminator 1
 680 00a4 FB68     		ldr	r3, [r7, #12]
 681 00a6 C3ED137A 		vstr.32	s15, [r3, #76]
 141:User/Hardware/Robstride04.c ****                 
 142:User/Hardware/Robstride04.c ****                 // 速度：12位
 143:User/Hardware/Robstride04.c ****                 uint16_t speed_raw = (uint16_t)(DataFrame[3] << 4) | (DataFrame[4] >> 4);
 682              		.loc 1 143 58
 683 00aa BB68     		ldr	r3, [r7, #8]
 684 00ac 0333     		adds	r3, r3, #3
 685 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 686              		.loc 1 143 38
 687 00b0 1B01     		lsls	r3, r3, #4
 688 00b2 9BB2     		uxth	r3, r3
 689              		.loc 1 143 80
 690 00b4 BA68     		ldr	r2, [r7, #8]
 691 00b6 0432     		adds	r2, r2, #4
 692 00b8 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 693              		.loc 1 143 68
 694 00ba 1209     		lsrs	r2, r2, #4
 695 00bc D2B2     		uxtb	r2, r2
 696              		.loc 1 143 26
 697 00be 1343     		orrs	r3, r3, r2
 698 00c0 3B83     		strh	r3, [r7, #24]	@ movhi
 144:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Speed = uint16_to_float_lz(speed_raw, V_MIN, V_MAX, 12);
 699              		.loc 1 144 41
 700 00c2 3B8B     		ldrh	r3, [r7, #24]
 701 00c4 0C21     		movs	r1, #12
 702 00c6 F2EE0E0A 		vmov.f32	s1, #1.5e+1
 703 00ca BAEE0E0A 		vmov.f32	s0, #-1.5e+1
 704 00ce 1846     		mov	r0, r3
 705 00d0 FFF7FEFF 		bl	uint16_to_float_lz
 706 00d4 F0EE407A 		vmov.f32	s15, s0
 707              		.loc 1 144 39 discriminator 1
 708 00d8 FB68     		ldr	r3, [r7, #12]
 709 00da C3ED147A 		vstr.32	s15, [r3, #80]
 145:User/Hardware/Robstride04.c ****                 
 146:User/Hardware/Robstride04.c ****                 // 力矩：12位
 147:User/Hardware/Robstride04.c ****                 uint16_t torque_raw = (uint16_t)((DataFrame[4] & 0x0F) << 8) | DataFrame[5];
 710              		.loc 1 147 60
 711 00de BB68     		ldr	r3, [r7, #8]
 712 00e0 0433     		adds	r3, r3, #4
 713 00e2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 714              		.loc 1 147 72
 715 00e4 1BB2     		sxth	r3, r3
 716 00e6 1B02     		lsls	r3, r3, #8
 717 00e8 1BB2     		sxth	r3, r3
 718              		.loc 1 147 39
 719 00ea 03F47063 		and	r3, r3, #3840
 720 00ee 1AB2     		sxth	r2, r3
 721              		.loc 1 147 89
 722 00f0 BB68     		ldr	r3, [r7, #8]
 723 00f2 0533     		adds	r3, r3, #5
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 16


 724 00f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 725 00f6 1BB2     		sxth	r3, r3
 726              		.loc 1 147 78
 727 00f8 1343     		orrs	r3, r3, r2
 728 00fa 1BB2     		sxth	r3, r3
 729              		.loc 1 147 26
 730 00fc FB82     		strh	r3, [r7, #22]	@ movhi
 148:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Torque = uint16_to_float_lz(torque_raw, T_MIN, T_MAX, 12);
 731              		.loc 1 148 42
 732 00fe FB8A     		ldrh	r3, [r7, #22]
 733 0100 0C21     		movs	r1, #12
 734 0102 DFEDA30A 		vldr.32	s1, .L57+8
 735 0106 9FEDA30A 		vldr.32	s0, .L57+12
 736 010a 1846     		mov	r0, r3
 737 010c FFF7FEFF 		bl	uint16_to_float_lz
 738 0110 F0EE407A 		vmov.f32	s15, s0
 739              		.loc 1 148 40 discriminator 1
 740 0114 FB68     		ldr	r3, [r7, #12]
 741 0116 C3ED157A 		vstr.32	s15, [r3, #84]
 149:User/Hardware/Robstride04.c ****                 
 150:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Temp = (float)((uint16_t)(DataFrame[6] << 8) | DataFrame[7]) * 0.1f
 742              		.loc 1 150 68
 743 011a BB68     		ldr	r3, [r7, #8]
 744 011c 0633     		adds	r3, r3, #6
 745 011e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 746              		.loc 1 150 48
 747 0120 1B02     		lsls	r3, r3, #8
 748 0122 9BB2     		uxth	r3, r3
 749 0124 1A46     		mov	r2, r3
 750              		.loc 1 150 89
 751 0126 BB68     		ldr	r3, [r7, #8]
 752 0128 0733     		adds	r3, r3, #7
 753 012a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 754              		.loc 1 150 78
 755 012c 1343     		orrs	r3, r3, r2
 756              		.loc 1 150 40
 757 012e 07EE903A 		vmov	s15, r3	@ int
 758 0132 F8EEE77A 		vcvt.f32.s32	s15, s15
 759              		.loc 1 150 94
 760 0136 9FED987A 		vldr.32	s14, .L57+16
 761 013a 67EE877A 		vmul.f32	s15, s15, s14
 762              		.loc 1 150 38
 763 013e FB68     		ldr	r3, [r7, #12]
 764 0140 C3ED167A 		vstr.32	s15, [r3, #88]
 765              	.LBE3:
 151:User/Hardware/Robstride04.c ****             }
 152:User/Hardware/Robstride04.c ****         }
 153:User/Hardware/Robstride04.c ****         else if ((ID_ExtId & 0xFF) == 0xFE)
 154:User/Hardware/Robstride04.c ****         {
 155:User/Hardware/Robstride04.c ****             // 获取ID应答帧
 156:User/Hardware/Robstride04.c ****             memcpy(&motor->Unique_ID, DataFrame, 8);
 157:User/Hardware/Robstride04.c ****         }
 158:User/Hardware/Robstride04.c ****     }
 159:User/Hardware/Robstride04.c ****     else
 160:User/Hardware/Robstride04.c ****     {
 161:User/Hardware/Robstride04.c ****         // 私有协议解析
 162:User/Hardware/Robstride04.c ****         if (((ID_ExtId >> 8) & 0xFF) == motor->CAN_ID)
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 17


 163:User/Hardware/Robstride04.c ****         {
 164:User/Hardware/Robstride04.c ****             uint8_t communication_type = (uint8_t)((ID_ExtId >> 24) & 0x3F);
 165:User/Hardware/Robstride04.c ****             
 166:User/Hardware/Robstride04.c ****             if (communication_type == 2)
 167:User/Hardware/Robstride04.c ****             {
 168:User/Hardware/Robstride04.c ****                 // 通信类型2：电机反馈数据
 169:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Angle = uint16_to_float_lz((uint16_t)(DataFrame[0] << 8) | DataFram
 170:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Speed = uint16_to_float_lz((uint16_t)(DataFrame[2] << 8) | DataFram
 171:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Torque = uint16_to_float_lz((uint16_t)(DataFrame[4] << 8) | DataFra
 172:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Temp = (float)((uint16_t)(DataFrame[6] << 8) | DataFrame[7]) * 0.1f
 173:User/Hardware/Robstride04.c ****                 
 174:User/Hardware/Robstride04.c ****                 motor->error_code = (uint8_t)((ID_ExtId >> 16) & 0x3F);
 175:User/Hardware/Robstride04.c ****                 motor->Pos_Info.pattern = (uint8_t)((ID_ExtId >> 22) & 0x03);
 176:User/Hardware/Robstride04.c ****             }
 177:User/Hardware/Robstride04.c ****             else if (communication_type == 17)
 178:User/Hardware/Robstride04.c ****             {
 179:User/Hardware/Robstride04.c ****                 // 通信类型17：参数读取应答
 180:User/Hardware/Robstride04.c ****                 uint16_t index = (uint16_t)(DataFrame[1] << 8) | DataFrame[0];
 181:User/Hardware/Robstride04.c ****                 
 182:User/Hardware/Robstride04.c ****                 for (uint8_t index_num = 0; index_num <= 13; index_num++)
 183:User/Hardware/Robstride04.c ****                 {
 184:User/Hardware/Robstride04.c ****                     if (index == Index_List[index_num])
 185:User/Hardware/Robstride04.c ****                     {
 186:User/Hardware/Robstride04.c ****                         switch (index_num)
 187:User/Hardware/Robstride04.c ****                         {
 188:User/Hardware/Robstride04.c ****                             case 0:
 189:User/Hardware/Robstride04.c ****                                 motor->drw.run_mode.data = (float)DataFrame[4];
 190:User/Hardware/Robstride04.c ****                                 break;
 191:User/Hardware/Robstride04.c ****                             case 1:
 192:User/Hardware/Robstride04.c ****                                 motor->drw.iq_ref.data = Byte_to_float(DataFrame);
 193:User/Hardware/Robstride04.c ****                                 break;
 194:User/Hardware/Robstride04.c ****                             case 2:
 195:User/Hardware/Robstride04.c ****                                 motor->drw.spd_ref.data = Byte_to_float(DataFrame);
 196:User/Hardware/Robstride04.c ****                                 break;
 197:User/Hardware/Robstride04.c ****                             case 3:
 198:User/Hardware/Robstride04.c ****                                 motor->drw.imit_torque.data = Byte_to_float(DataFrame);
 199:User/Hardware/Robstride04.c ****                                 break;
 200:User/Hardware/Robstride04.c ****                             case 4:
 201:User/Hardware/Robstride04.c ****                                 motor->drw.cur_kp.data = Byte_to_float(DataFrame);
 202:User/Hardware/Robstride04.c ****                                 break;
 203:User/Hardware/Robstride04.c ****                             case 5:
 204:User/Hardware/Robstride04.c ****                                 motor->drw.cur_ki.data = Byte_to_float(DataFrame);
 205:User/Hardware/Robstride04.c ****                                 break;
 206:User/Hardware/Robstride04.c ****                             case 6:
 207:User/Hardware/Robstride04.c ****                                 motor->drw.cur_filt_gain.data = Byte_to_float(DataFrame);
 208:User/Hardware/Robstride04.c ****                                 break;
 209:User/Hardware/Robstride04.c ****                             case 7:
 210:User/Hardware/Robstride04.c ****                                 motor->drw.loc_ref.data = Byte_to_float(DataFrame);
 211:User/Hardware/Robstride04.c ****                                 break;
 212:User/Hardware/Robstride04.c ****                             case 8:
 213:User/Hardware/Robstride04.c ****                                 motor->drw.limit_spd.data = Byte_to_float(DataFrame);
 214:User/Hardware/Robstride04.c ****                                 break;
 215:User/Hardware/Robstride04.c ****                             case 9:
 216:User/Hardware/Robstride04.c ****                                 motor->drw.limit_cur.data = Byte_to_float(DataFrame);
 217:User/Hardware/Robstride04.c ****                                 break;
 218:User/Hardware/Robstride04.c ****                             case 10:
 219:User/Hardware/Robstride04.c ****                                 motor->drw.mechPos.data = Byte_to_float(DataFrame);
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 18


 220:User/Hardware/Robstride04.c ****                                 break;
 221:User/Hardware/Robstride04.c ****                             case 11:
 222:User/Hardware/Robstride04.c ****                                 motor->drw.iqf.data = Byte_to_float(DataFrame);
 223:User/Hardware/Robstride04.c ****                                 break;
 224:User/Hardware/Robstride04.c ****                             case 12:
 225:User/Hardware/Robstride04.c ****                                 motor->drw.mechVel.data = Byte_to_float(DataFrame);
 226:User/Hardware/Robstride04.c ****                                 break;
 227:User/Hardware/Robstride04.c ****                             case 13:
 228:User/Hardware/Robstride04.c ****                                 motor->drw.VBUS.data = Byte_to_float(DataFrame);
 229:User/Hardware/Robstride04.c ****                                 break;
 230:User/Hardware/Robstride04.c ****                         }
 231:User/Hardware/Robstride04.c ****                         break;
 232:User/Hardware/Robstride04.c ****                     }
 233:User/Hardware/Robstride04.c ****                 }
 234:User/Hardware/Robstride04.c ****             }
 235:User/Hardware/Robstride04.c ****             else if ((ID_ExtId & 0xFF) == 0xFE)
 236:User/Hardware/Robstride04.c ****             {
 237:User/Hardware/Robstride04.c ****                 // 获取ID应答帧
 238:User/Hardware/Robstride04.c ****                 motor->CAN_ID = (uint8_t)((ID_ExtId >> 8) & 0xFF);
 239:User/Hardware/Robstride04.c ****                 memcpy(&motor->Unique_ID, DataFrame, 8);
 240:User/Hardware/Robstride04.c ****             }
 241:User/Hardware/Robstride04.c ****         }
 242:User/Hardware/Robstride04.c ****     }
 243:User/Hardware/Robstride04.c **** }
 766              		.loc 1 243 1
 767 0144 6BE1     		b	.L54
 768              	.L28:
 153:User/Hardware/Robstride04.c ****         {
 769              		.loc 1 153 28
 770 0146 7B68     		ldr	r3, [r7, #4]
 771 0148 DBB2     		uxtb	r3, r3
 153:User/Hardware/Robstride04.c ****         {
 772              		.loc 1 153 17
 773 014a FE2B     		cmp	r3, #254
 774 014c 40F06781 		bne	.L54
 156:User/Hardware/Robstride04.c ****         }
 775              		.loc 1 156 20
 776 0150 FB68     		ldr	r3, [r7, #12]
 777 0152 0833     		adds	r3, r3, #8
 156:User/Hardware/Robstride04.c ****         }
 778              		.loc 1 156 13
 779 0154 0822     		movs	r2, #8
 780 0156 B968     		ldr	r1, [r7, #8]
 781 0158 1846     		mov	r0, r3
 782 015a FFF7FEFF 		bl	memcpy
 783              		.loc 1 243 1
 784 015e 5EE1     		b	.L54
 785              	.L27:
 162:User/Hardware/Robstride04.c ****         {
 786              		.loc 1 162 24
 787 0160 7B68     		ldr	r3, [r7, #4]
 788 0162 1B0A     		lsrs	r3, r3, #8
 162:User/Hardware/Robstride04.c ****         {
 789              		.loc 1 162 30
 790 0164 DBB2     		uxtb	r3, r3
 162:User/Hardware/Robstride04.c ****         {
 791              		.loc 1 162 46
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 19


 792 0166 FA68     		ldr	r2, [r7, #12]
 793 0168 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 162:User/Hardware/Robstride04.c ****         {
 794              		.loc 1 162 12
 795 016a 9342     		cmp	r3, r2
 796 016c 40F05781 		bne	.L54
 797              	.LBB4:
 164:User/Hardware/Robstride04.c ****             
 798              		.loc 1 164 62
 799 0170 7B68     		ldr	r3, [r7, #4]
 800 0172 1B0E     		lsrs	r3, r3, #24
 164:User/Hardware/Robstride04.c ****             
 801              		.loc 1 164 42
 802 0174 DBB2     		uxtb	r3, r3
 164:User/Hardware/Robstride04.c ****             
 803              		.loc 1 164 21
 804 0176 03F03F03 		and	r3, r3, #63
 805 017a BB77     		strb	r3, [r7, #30]
 166:User/Hardware/Robstride04.c ****             {
 806              		.loc 1 166 16
 807 017c BB7F     		ldrb	r3, [r7, #30]	@ zero_extendqisi2
 808 017e 022B     		cmp	r3, #2
 809 0180 6BD1     		bne	.L32
 169:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Speed = uint16_to_float_lz((uint16_t)(DataFrame[2] << 8) | DataFram
 810              		.loc 1 169 80
 811 0182 BB68     		ldr	r3, [r7, #8]
 812 0184 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 169:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Speed = uint16_to_float_lz((uint16_t)(DataFrame[2] << 8) | DataFram
 813              		.loc 1 169 60
 814 0186 1B02     		lsls	r3, r3, #8
 815 0188 9BB2     		uxth	r3, r3
 169:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Speed = uint16_to_float_lz((uint16_t)(DataFrame[2] << 8) | DataFram
 816              		.loc 1 169 101
 817 018a BA68     		ldr	r2, [r7, #8]
 818 018c 0132     		adds	r2, r2, #1
 819 018e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 169:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Speed = uint16_to_float_lz((uint16_t)(DataFrame[2] << 8) | DataFram
 820              		.loc 1 169 41
 821 0190 1343     		orrs	r3, r3, r2
 822 0192 9BB2     		uxth	r3, r3
 823 0194 1021     		movs	r1, #16
 824 0196 DFED7C0A 		vldr.32	s1, .L57
 825 019a 9FED7C0A 		vldr.32	s0, .L57+4
 826 019e 1846     		mov	r0, r3
 827 01a0 FFF7FEFF 		bl	uint16_to_float_lz
 828 01a4 F0EE407A 		vmov.f32	s15, s0
 169:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Speed = uint16_to_float_lz((uint16_t)(DataFrame[2] << 8) | DataFram
 829              		.loc 1 169 39 discriminator 1
 830 01a8 FB68     		ldr	r3, [r7, #12]
 831 01aa C3ED137A 		vstr.32	s15, [r3, #76]
 170:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Torque = uint16_to_float_lz((uint16_t)(DataFrame[4] << 8) | DataFra
 832              		.loc 1 170 80
 833 01ae BB68     		ldr	r3, [r7, #8]
 834 01b0 0233     		adds	r3, r3, #2
 835 01b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 170:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Torque = uint16_to_float_lz((uint16_t)(DataFrame[4] << 8) | DataFra
 836              		.loc 1 170 60
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 20


 837 01b4 1B02     		lsls	r3, r3, #8
 838 01b6 9BB2     		uxth	r3, r3
 170:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Torque = uint16_to_float_lz((uint16_t)(DataFrame[4] << 8) | DataFra
 839              		.loc 1 170 101
 840 01b8 BA68     		ldr	r2, [r7, #8]
 841 01ba 0332     		adds	r2, r2, #3
 842 01bc 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 170:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Torque = uint16_to_float_lz((uint16_t)(DataFrame[4] << 8) | DataFra
 843              		.loc 1 170 41
 844 01be 1343     		orrs	r3, r3, r2
 845 01c0 9BB2     		uxth	r3, r3
 846 01c2 1021     		movs	r1, #16
 847 01c4 F2EE0E0A 		vmov.f32	s1, #1.5e+1
 848 01c8 BAEE0E0A 		vmov.f32	s0, #-1.5e+1
 849 01cc 1846     		mov	r0, r3
 850 01ce FFF7FEFF 		bl	uint16_to_float_lz
 851 01d2 F0EE407A 		vmov.f32	s15, s0
 170:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Torque = uint16_to_float_lz((uint16_t)(DataFrame[4] << 8) | DataFra
 852              		.loc 1 170 39 discriminator 1
 853 01d6 FB68     		ldr	r3, [r7, #12]
 854 01d8 C3ED147A 		vstr.32	s15, [r3, #80]
 171:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Temp = (float)((uint16_t)(DataFrame[6] << 8) | DataFrame[7]) * 0.1f
 855              		.loc 1 171 81
 856 01dc BB68     		ldr	r3, [r7, #8]
 857 01de 0433     		adds	r3, r3, #4
 858 01e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 171:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Temp = (float)((uint16_t)(DataFrame[6] << 8) | DataFrame[7]) * 0.1f
 859              		.loc 1 171 61
 860 01e2 1B02     		lsls	r3, r3, #8
 861 01e4 9BB2     		uxth	r3, r3
 171:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Temp = (float)((uint16_t)(DataFrame[6] << 8) | DataFrame[7]) * 0.1f
 862              		.loc 1 171 102
 863 01e6 BA68     		ldr	r2, [r7, #8]
 864 01e8 0532     		adds	r2, r2, #5
 865 01ea 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 171:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Temp = (float)((uint16_t)(DataFrame[6] << 8) | DataFrame[7]) * 0.1f
 866              		.loc 1 171 42
 867 01ec 1343     		orrs	r3, r3, r2
 868 01ee 9BB2     		uxth	r3, r3
 869 01f0 1021     		movs	r1, #16
 870 01f2 DFED670A 		vldr.32	s1, .L57+8
 871 01f6 9FED670A 		vldr.32	s0, .L57+12
 872 01fa 1846     		mov	r0, r3
 873 01fc FFF7FEFF 		bl	uint16_to_float_lz
 874 0200 F0EE407A 		vmov.f32	s15, s0
 171:User/Hardware/Robstride04.c ****                 motor->Pos_Info.Temp = (float)((uint16_t)(DataFrame[6] << 8) | DataFrame[7]) * 0.1f
 875              		.loc 1 171 40 discriminator 1
 876 0204 FB68     		ldr	r3, [r7, #12]
 877 0206 C3ED157A 		vstr.32	s15, [r3, #84]
 172:User/Hardware/Robstride04.c ****                 
 878              		.loc 1 172 68
 879 020a BB68     		ldr	r3, [r7, #8]
 880 020c 0633     		adds	r3, r3, #6
 881 020e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 172:User/Hardware/Robstride04.c ****                 
 882              		.loc 1 172 48
 883 0210 1B02     		lsls	r3, r3, #8
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 21


 884 0212 9BB2     		uxth	r3, r3
 885 0214 1A46     		mov	r2, r3
 172:User/Hardware/Robstride04.c ****                 
 886              		.loc 1 172 89
 887 0216 BB68     		ldr	r3, [r7, #8]
 888 0218 0733     		adds	r3, r3, #7
 889 021a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 172:User/Hardware/Robstride04.c ****                 
 890              		.loc 1 172 78
 891 021c 1343     		orrs	r3, r3, r2
 172:User/Hardware/Robstride04.c ****                 
 892              		.loc 1 172 40
 893 021e 07EE903A 		vmov	s15, r3	@ int
 894 0222 F8EEE77A 		vcvt.f32.s32	s15, s15
 172:User/Hardware/Robstride04.c ****                 
 895              		.loc 1 172 94
 896 0226 9FED5C7A 		vldr.32	s14, .L57+16
 897 022a 67EE877A 		vmul.f32	s15, s15, s14
 172:User/Hardware/Robstride04.c ****                 
 898              		.loc 1 172 38
 899 022e FB68     		ldr	r3, [r7, #12]
 900 0230 C3ED167A 		vstr.32	s15, [r3, #88]
 174:User/Hardware/Robstride04.c ****                 motor->Pos_Info.pattern = (uint8_t)((ID_ExtId >> 22) & 0x03);
 901              		.loc 1 174 57
 902 0234 7B68     		ldr	r3, [r7, #4]
 903 0236 1B0C     		lsrs	r3, r3, #16
 174:User/Hardware/Robstride04.c ****                 motor->Pos_Info.pattern = (uint8_t)((ID_ExtId >> 22) & 0x03);
 904              		.loc 1 174 37
 905 0238 DBB2     		uxtb	r3, r3
 906 023a 03F03F03 		and	r3, r3, #63
 907 023e DAB2     		uxtb	r2, r3
 174:User/Hardware/Robstride04.c ****                 motor->Pos_Info.pattern = (uint8_t)((ID_ExtId >> 22) & 0x03);
 908              		.loc 1 174 35
 909 0240 FB68     		ldr	r3, [r7, #12]
 910 0242 83F84020 		strb	r2, [r3, #64]
 175:User/Hardware/Robstride04.c ****             }
 911              		.loc 1 175 63
 912 0246 7B68     		ldr	r3, [r7, #4]
 913 0248 9B0D     		lsrs	r3, r3, #22
 175:User/Hardware/Robstride04.c ****             }
 914              		.loc 1 175 43
 915 024a DBB2     		uxtb	r3, r3
 916 024c 03F00303 		and	r3, r3, #3
 917 0250 DAB2     		uxtb	r2, r3
 175:User/Hardware/Robstride04.c ****             }
 918              		.loc 1 175 41
 919 0252 FB68     		ldr	r3, [r7, #12]
 920 0254 83F85C20 		strb	r2, [r3, #92]
 921              	.LBE4:
 922              		.loc 1 243 1
 923 0258 E1E0     		b	.L54
 924              	.L32:
 925              	.LBB9:
 177:User/Hardware/Robstride04.c ****             {
 926              		.loc 1 177 21
 927 025a BB7F     		ldrb	r3, [r7, #30]	@ zero_extendqisi2
 928 025c 112B     		cmp	r3, #17
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 22


 929 025e 40F0CC80 		bne	.L33
 930              	.LBB5:
 180:User/Hardware/Robstride04.c ****                 
 931              		.loc 1 180 54
 932 0262 BB68     		ldr	r3, [r7, #8]
 933 0264 0133     		adds	r3, r3, #1
 934 0266 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 180:User/Hardware/Robstride04.c ****                 
 935              		.loc 1 180 34
 936 0268 1B02     		lsls	r3, r3, #8
 937 026a 9BB2     		uxth	r3, r3
 180:User/Hardware/Robstride04.c ****                 
 938              		.loc 1 180 75
 939 026c BA68     		ldr	r2, [r7, #8]
 940 026e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 180:User/Hardware/Robstride04.c ****                 
 941              		.loc 1 180 26
 942 0270 1343     		orrs	r3, r3, r2
 943 0272 BB83     		strh	r3, [r7, #28]	@ movhi
 944              	.LBB6:
 182:User/Hardware/Robstride04.c ****                 {
 945              		.loc 1 182 30
 946 0274 0023     		movs	r3, #0
 947 0276 FB77     		strb	r3, [r7, #31]
 182:User/Hardware/Robstride04.c ****                 {
 948              		.loc 1 182 17
 949 0278 BAE0     		b	.L34
 950              	.L53:
 184:User/Hardware/Robstride04.c ****                     {
 951              		.loc 1 184 44
 952 027a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 953 027c 474A     		ldr	r2, .L57+20
 954 027e 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 184:User/Hardware/Robstride04.c ****                     {
 955              		.loc 1 184 24
 956 0282 BA8B     		ldrh	r2, [r7, #28]
 957 0284 9A42     		cmp	r2, r3
 958 0286 40F0B080 		bne	.L35
 186:User/Hardware/Robstride04.c ****                         {
 959              		.loc 1 186 25
 960 028a FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 961 028c 0D2B     		cmp	r3, #13
 962 028e 00F2C580 		bhi	.L55
 963 0292 01A2     		adr	r2, .L38
 964 0294 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 965              		.p2align 2
 966              	.L38:
 967 0298 D1020000 		.word	.L51+1
 968 029c E7020000 		.word	.L50+1
 969 02a0 F9020000 		.word	.L49+1
 970 02a4 0B030000 		.word	.L48+1
 971 02a8 1D030000 		.word	.L47+1
 972 02ac 2F030000 		.word	.L46+1
 973 02b0 41030000 		.word	.L45+1
 974 02b4 53030000 		.word	.L44+1
 975 02b8 65030000 		.word	.L43+1
 976 02bc 77030000 		.word	.L42+1
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 23


 977 02c0 A1030000 		.word	.L41+1
 978 02c4 B3030000 		.word	.L40+1
 979 02c8 C5030000 		.word	.L39+1
 980 02cc D7030000 		.word	.L37+1
 981              		.p2align 1
 982              	.L51:
 189:User/Hardware/Robstride04.c ****                                 break;
 983              		.loc 1 189 76
 984 02d0 BB68     		ldr	r3, [r7, #8]
 985 02d2 0433     		adds	r3, r3, #4
 986 02d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 189:User/Hardware/Robstride04.c ****                                 break;
 987              		.loc 1 189 60
 988 02d6 07EE903A 		vmov	s15, r3	@ int
 989 02da F8EE677A 		vcvt.f32.u32	s15, s15
 189:User/Hardware/Robstride04.c ****                                 break;
 990              		.loc 1 189 58
 991 02de FB68     		ldr	r3, [r7, #12]
 992 02e0 C3ED197A 		vstr.32	s15, [r3, #100]
 190:User/Hardware/Robstride04.c ****                             case 1:
 993              		.loc 1 190 33
 994 02e4 80E0     		b	.L36
 995              	.L50:
 192:User/Hardware/Robstride04.c ****                                 break;
 996              		.loc 1 192 58
 997 02e6 B868     		ldr	r0, [r7, #8]
 998 02e8 FFF7FEFF 		bl	Byte_to_float
 999 02ec F0EE407A 		vmov.f32	s15, s0
 192:User/Hardware/Robstride04.c ****                                 break;
 1000              		.loc 1 192 56 discriminator 1
 1001 02f0 FB68     		ldr	r3, [r7, #12]
 1002 02f2 C3ED1B7A 		vstr.32	s15, [r3, #108]
 193:User/Hardware/Robstride04.c ****                             case 2:
 1003              		.loc 1 193 33
 1004 02f6 77E0     		b	.L36
 1005              	.L49:
 195:User/Hardware/Robstride04.c ****                                 break;
 1006              		.loc 1 195 59
 1007 02f8 B868     		ldr	r0, [r7, #8]
 1008 02fa FFF7FEFF 		bl	Byte_to_float
 1009 02fe F0EE407A 		vmov.f32	s15, s0
 195:User/Hardware/Robstride04.c ****                                 break;
 1010              		.loc 1 195 57 discriminator 1
 1011 0302 FB68     		ldr	r3, [r7, #12]
 1012 0304 C3ED1D7A 		vstr.32	s15, [r3, #116]
 196:User/Hardware/Robstride04.c ****                             case 3:
 1013              		.loc 1 196 33
 1014 0308 6EE0     		b	.L36
 1015              	.L48:
 198:User/Hardware/Robstride04.c ****                                 break;
 1016              		.loc 1 198 63
 1017 030a B868     		ldr	r0, [r7, #8]
 1018 030c FFF7FEFF 		bl	Byte_to_float
 1019 0310 F0EE407A 		vmov.f32	s15, s0
 198:User/Hardware/Robstride04.c ****                                 break;
 1020              		.loc 1 198 61 discriminator 1
 1021 0314 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 24


 1022 0316 C3ED1F7A 		vstr.32	s15, [r3, #124]
 199:User/Hardware/Robstride04.c ****                             case 4:
 1023              		.loc 1 199 33
 1024 031a 65E0     		b	.L36
 1025              	.L47:
 201:User/Hardware/Robstride04.c ****                                 break;
 1026              		.loc 1 201 58
 1027 031c B868     		ldr	r0, [r7, #8]
 1028 031e FFF7FEFF 		bl	Byte_to_float
 1029 0322 F0EE407A 		vmov.f32	s15, s0
 201:User/Hardware/Robstride04.c ****                                 break;
 1030              		.loc 1 201 56 discriminator 1
 1031 0326 FB68     		ldr	r3, [r7, #12]
 1032 0328 C3ED217A 		vstr.32	s15, [r3, #132]
 202:User/Hardware/Robstride04.c ****                             case 5:
 1033              		.loc 1 202 33
 1034 032c 5CE0     		b	.L36
 1035              	.L46:
 204:User/Hardware/Robstride04.c ****                                 break;
 1036              		.loc 1 204 58
 1037 032e B868     		ldr	r0, [r7, #8]
 1038 0330 FFF7FEFF 		bl	Byte_to_float
 1039 0334 F0EE407A 		vmov.f32	s15, s0
 204:User/Hardware/Robstride04.c ****                                 break;
 1040              		.loc 1 204 56 discriminator 1
 1041 0338 FB68     		ldr	r3, [r7, #12]
 1042 033a C3ED237A 		vstr.32	s15, [r3, #140]
 205:User/Hardware/Robstride04.c ****                             case 6:
 1043              		.loc 1 205 33
 1044 033e 53E0     		b	.L36
 1045              	.L45:
 207:User/Hardware/Robstride04.c ****                                 break;
 1046              		.loc 1 207 65
 1047 0340 B868     		ldr	r0, [r7, #8]
 1048 0342 FFF7FEFF 		bl	Byte_to_float
 1049 0346 F0EE407A 		vmov.f32	s15, s0
 207:User/Hardware/Robstride04.c ****                                 break;
 1050              		.loc 1 207 63 discriminator 1
 1051 034a FB68     		ldr	r3, [r7, #12]
 1052 034c C3ED257A 		vstr.32	s15, [r3, #148]
 208:User/Hardware/Robstride04.c ****                             case 7:
 1053              		.loc 1 208 33
 1054 0350 4AE0     		b	.L36
 1055              	.L44:
 210:User/Hardware/Robstride04.c ****                                 break;
 1056              		.loc 1 210 59
 1057 0352 B868     		ldr	r0, [r7, #8]
 1058 0354 FFF7FEFF 		bl	Byte_to_float
 1059 0358 F0EE407A 		vmov.f32	s15, s0
 210:User/Hardware/Robstride04.c ****                                 break;
 1060              		.loc 1 210 57 discriminator 1
 1061 035c FB68     		ldr	r3, [r7, #12]
 1062 035e C3ED277A 		vstr.32	s15, [r3, #156]
 211:User/Hardware/Robstride04.c ****                             case 8:
 1063              		.loc 1 211 33
 1064 0362 41E0     		b	.L36
 1065              	.L43:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 25


 213:User/Hardware/Robstride04.c ****                                 break;
 1066              		.loc 1 213 61
 1067 0364 B868     		ldr	r0, [r7, #8]
 1068 0366 FFF7FEFF 		bl	Byte_to_float
 1069 036a F0EE407A 		vmov.f32	s15, s0
 213:User/Hardware/Robstride04.c ****                                 break;
 1070              		.loc 1 213 59 discriminator 1
 1071 036e FB68     		ldr	r3, [r7, #12]
 1072 0370 C3ED297A 		vstr.32	s15, [r3, #164]
 214:User/Hardware/Robstride04.c ****                             case 9:
 1073              		.loc 1 214 33
 1074 0374 38E0     		b	.L36
 1075              	.L42:
 216:User/Hardware/Robstride04.c ****                                 break;
 1076              		.loc 1 216 61
 1077 0376 B868     		ldr	r0, [r7, #8]
 1078 0378 FFF7FEFF 		bl	Byte_to_float
 1079 037c F0EE407A 		vmov.f32	s15, s0
 216:User/Hardware/Robstride04.c ****                                 break;
 1080              		.loc 1 216 59 discriminator 1
 1081 0380 FB68     		ldr	r3, [r7, #12]
 1082 0382 C3ED2B7A 		vstr.32	s15, [r3, #172]
 217:User/Hardware/Robstride04.c ****                             case 10:
 1083              		.loc 1 217 33
 1084 0386 2FE0     		b	.L36
 1085              	.L58:
 1086              		.align	2
 1087              	.L57:
 1088 0388 B81E4941 		.word	1095311032
 1089 038c B81E49C1 		.word	-1052172616
 1090 0390 0000F042 		.word	1123024896
 1091 0394 0000F0C2 		.word	-1024458752
 1092 0398 CDCCCC3D 		.word	1036831949
 1093 039c 00000000 		.word	Index_List
 1094              	.L41:
 219:User/Hardware/Robstride04.c ****                                 break;
 1095              		.loc 1 219 59
 1096 03a0 B868     		ldr	r0, [r7, #8]
 1097 03a2 FFF7FEFF 		bl	Byte_to_float
 1098 03a6 F0EE407A 		vmov.f32	s15, s0
 219:User/Hardware/Robstride04.c ****                                 break;
 1099              		.loc 1 219 57 discriminator 1
 1100 03aa FB68     		ldr	r3, [r7, #12]
 1101 03ac C3ED2D7A 		vstr.32	s15, [r3, #180]
 220:User/Hardware/Robstride04.c ****                             case 11:
 1102              		.loc 1 220 33
 1103 03b0 1AE0     		b	.L36
 1104              	.L40:
 222:User/Hardware/Robstride04.c ****                                 break;
 1105              		.loc 1 222 55
 1106 03b2 B868     		ldr	r0, [r7, #8]
 1107 03b4 FFF7FEFF 		bl	Byte_to_float
 1108 03b8 F0EE407A 		vmov.f32	s15, s0
 222:User/Hardware/Robstride04.c ****                                 break;
 1109              		.loc 1 222 53 discriminator 1
 1110 03bc FB68     		ldr	r3, [r7, #12]
 1111 03be C3ED2F7A 		vstr.32	s15, [r3, #188]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 26


 223:User/Hardware/Robstride04.c ****                             case 12:
 1112              		.loc 1 223 33
 1113 03c2 11E0     		b	.L36
 1114              	.L39:
 225:User/Hardware/Robstride04.c ****                                 break;
 1115              		.loc 1 225 59
 1116 03c4 B868     		ldr	r0, [r7, #8]
 1117 03c6 FFF7FEFF 		bl	Byte_to_float
 1118 03ca F0EE407A 		vmov.f32	s15, s0
 225:User/Hardware/Robstride04.c ****                                 break;
 1119              		.loc 1 225 57 discriminator 1
 1120 03ce FB68     		ldr	r3, [r7, #12]
 1121 03d0 C3ED317A 		vstr.32	s15, [r3, #196]
 226:User/Hardware/Robstride04.c ****                             case 13:
 1122              		.loc 1 226 33
 1123 03d4 08E0     		b	.L36
 1124              	.L37:
 228:User/Hardware/Robstride04.c ****                                 break;
 1125              		.loc 1 228 56
 1126 03d6 B868     		ldr	r0, [r7, #8]
 1127 03d8 FFF7FEFF 		bl	Byte_to_float
 1128 03dc F0EE407A 		vmov.f32	s15, s0
 228:User/Hardware/Robstride04.c ****                                 break;
 1129              		.loc 1 228 54 discriminator 1
 1130 03e0 FB68     		ldr	r3, [r7, #12]
 1131 03e2 C3ED337A 		vstr.32	s15, [r3, #204]
 229:User/Hardware/Robstride04.c ****                         }
 1132              		.loc 1 229 33
 1133 03e6 00BF     		nop
 1134              	.L36:
 231:User/Hardware/Robstride04.c ****                     }
 1135              		.loc 1 231 25
 1136 03e8 18E0     		b	.L55
 1137              	.L35:
 182:User/Hardware/Robstride04.c ****                 {
 1138              		.loc 1 182 71 discriminator 2
 1139 03ea FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1140 03ec 0133     		adds	r3, r3, #1
 1141 03ee FB77     		strb	r3, [r7, #31]
 1142              	.L34:
 182:User/Hardware/Robstride04.c ****                 {
 1143              		.loc 1 182 55 discriminator 1
 1144 03f0 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1145 03f2 0D2B     		cmp	r3, #13
 1146 03f4 7FF641AF 		bls	.L53
 1147              	.LBE6:
 1148              	.LBE5:
 1149              	.LBE9:
 1150              		.loc 1 243 1
 1151 03f8 11E0     		b	.L54
 1152              	.L33:
 1153              	.LBB10:
 235:User/Hardware/Robstride04.c ****             {
 1154              		.loc 1 235 32
 1155 03fa 7B68     		ldr	r3, [r7, #4]
 1156 03fc DBB2     		uxtb	r3, r3
 235:User/Hardware/Robstride04.c ****             {
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 27


 1157              		.loc 1 235 21
 1158 03fe FE2B     		cmp	r3, #254
 1159 0400 0DD1     		bne	.L54
 238:User/Hardware/Robstride04.c ****                 memcpy(&motor->Unique_ID, DataFrame, 8);
 1160              		.loc 1 238 53
 1161 0402 7B68     		ldr	r3, [r7, #4]
 1162 0404 1B0A     		lsrs	r3, r3, #8
 238:User/Hardware/Robstride04.c ****                 memcpy(&motor->Unique_ID, DataFrame, 8);
 1163              		.loc 1 238 33
 1164 0406 DAB2     		uxtb	r2, r3
 238:User/Hardware/Robstride04.c ****                 memcpy(&motor->Unique_ID, DataFrame, 8);
 1165              		.loc 1 238 31
 1166 0408 FB68     		ldr	r3, [r7, #12]
 1167 040a 1A70     		strb	r2, [r3]
 239:User/Hardware/Robstride04.c ****             }
 1168              		.loc 1 239 24
 1169 040c FB68     		ldr	r3, [r7, #12]
 1170 040e 0833     		adds	r3, r3, #8
 239:User/Hardware/Robstride04.c ****             }
 1171              		.loc 1 239 17
 1172 0410 0822     		movs	r2, #8
 1173 0412 B968     		ldr	r1, [r7, #8]
 1174 0414 1846     		mov	r0, r3
 1175 0416 FFF7FEFF 		bl	memcpy
 1176              	.LBE10:
 1177              		.loc 1 243 1
 1178 041a 00E0     		b	.L54
 1179              	.L55:
 1180              	.LBB11:
 1181              	.LBB8:
 1182              	.LBB7:
 231:User/Hardware/Robstride04.c ****                     }
 1183              		.loc 1 231 25
 1184 041c 00BF     		nop
 1185              	.L31:
 1186              	.L54:
 1187              	.LBE7:
 1188              	.LBE8:
 1189              	.LBE11:
 1190              		.loc 1 243 1
 1191 041e 00BF     		nop
 1192 0420 2037     		adds	r7, r7, #32
 1193              	.LCFI37:
 1194              		.cfi_def_cfa_offset 8
 1195 0422 BD46     		mov	sp, r7
 1196              	.LCFI38:
 1197              		.cfi_def_cfa_register 13
 1198              		@ sp needed
 1199 0424 80BD     		pop	{r7, pc}
 1200              		.cfi_endproc
 1201              	.LFE150:
 1203 0426 00BF     		.section	.text.RobStride_Get_CAN_ID,"ax",%progbits
 1204              		.align	1
 1205              		.global	RobStride_Get_CAN_ID
 1206              		.syntax unified
 1207              		.thumb
 1208              		.thumb_func
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 28


 1210              	RobStride_Get_CAN_ID:
 1211              	.LFB151:
 244:User/Hardware/Robstride04.c **** 
 245:User/Hardware/Robstride04.c **** /*******************************************************************************
 246:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机获取设备ID和MCU
 247:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 248:User/Hardware/Robstride04.c **** *******************************************************************************/
 249:User/Hardware/Robstride04.c **** void RobStride_Get_CAN_ID(RobStride_Motor_t* motor, hcan_t* hcan)
 250:User/Hardware/Robstride04.c **** {
 1212              		.loc 1 250 1
 1213              		.cfi_startproc
 1214              		@ args = 0, pretend = 0, frame = 40
 1215              		@ frame_needed = 1, uses_anonymous_args = 0
 1216 0000 80B5     		push	{r7, lr}
 1217              	.LCFI39:
 1218              		.cfi_def_cfa_offset 8
 1219              		.cfi_offset 7, -8
 1220              		.cfi_offset 14, -4
 1221 0002 8AB0     		sub	sp, sp, #40
 1222              	.LCFI40:
 1223              		.cfi_def_cfa_offset 48
 1224 0004 00AF     		add	r7, sp, #0
 1225              	.LCFI41:
 1226              		.cfi_def_cfa_register 7
 1227 0006 7860     		str	r0, [r7, #4]
 1228 0008 3960     		str	r1, [r7]
 251:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 1229              		.loc 1 251 13
 1230 000a 07F12003 		add	r3, r7, #32
 1231 000e 0022     		movs	r2, #0
 1232 0010 1A60     		str	r2, [r3]
 1233 0012 5A60     		str	r2, [r3, #4]
 252:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 253:User/Hardware/Robstride04.c ****     
 254:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 1234              		.loc 1 254 19
 1235 0014 0123     		movs	r3, #1
 1236 0016 7B61     		str	r3, [r7, #20]
 255:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 1237              		.loc 1 255 19
 1238 0018 0023     		movs	r3, #0
 1239 001a BB61     		str	r3, [r7, #24]
 256:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 1240              		.loc 1 256 19
 1241 001c 0823     		movs	r3, #8
 1242 001e FB61     		str	r3, [r7, #28]
 257:User/Hardware/Robstride04.c ****     TxMessage.ExtId = Communication_Type_Get_ID << 24 | (uint32_t)motor->Master_CAN_ID << 8 | motor
 1243              		.loc 1 257 72
 1244 0020 7B68     		ldr	r3, [r7, #4]
 1245 0022 1B8A     		ldrh	r3, [r3, #16]
 1246              		.loc 1 257 55
 1247 0024 1B02     		lsls	r3, r3, #8
 1248              		.loc 1 257 100
 1249 0026 7A68     		ldr	r2, [r7, #4]
 1250 0028 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1251              		.loc 1 257 93
 1252 002a 1343     		orrs	r3, r3, r2
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 29


 1253              		.loc 1 257 21
 1254 002c 3B61     		str	r3, [r7, #16]
 258:User/Hardware/Robstride04.c ****     
 259:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 260:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 1255              		.loc 1 260 5
 1256 002e 3969     		ldr	r1, [r7, #16]
 1257 0030 FB69     		ldr	r3, [r7, #28]
 1258 0032 07F12002 		add	r2, r7, #32
 1259 0036 3868     		ldr	r0, [r7]
 1260 0038 FFF7FEFF 		bl	canx_send_ext_data
 261:User/Hardware/Robstride04.c **** }
 1261              		.loc 1 261 1
 1262 003c 00BF     		nop
 1263 003e 2837     		adds	r7, r7, #40
 1264              	.LCFI42:
 1265              		.cfi_def_cfa_offset 8
 1266 0040 BD46     		mov	sp, r7
 1267              	.LCFI43:
 1268              		.cfi_def_cfa_register 13
 1269              		@ sp needed
 1270 0042 80BD     		pop	{r7, pc}
 1271              		.cfi_endproc
 1272              	.LFE151:
 1274              		.section	.text.RobStride_Motor_move_control,"ax",%progbits
 1275              		.align	1
 1276              		.global	RobStride_Motor_move_control
 1277              		.syntax unified
 1278              		.thumb
 1279              		.thumb_func
 1281              	RobStride_Motor_move_control:
 1282              	.LFB152:
 262:User/Hardware/Robstride04.c **** 
 263:User/Hardware/Robstride04.c **** /*******************************************************************************
 264:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机运控模式
 265:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 266:User/Hardware/Robstride04.c **** *******************************************************************************/
 267:User/Hardware/Robstride04.c **** void RobStride_Motor_move_control(RobStride_Motor_t* motor, hcan_t* hcan, float Torque, float Angle
 268:User/Hardware/Robstride04.c **** {
 1283              		.loc 1 268 1
 1284              		.cfi_startproc
 1285              		@ args = 0, pretend = 0, frame = 72
 1286              		@ frame_needed = 1, uses_anonymous_args = 0
 1287 0000 80B5     		push	{r7, lr}
 1288              	.LCFI44:
 1289              		.cfi_def_cfa_offset 8
 1290              		.cfi_offset 7, -8
 1291              		.cfi_offset 14, -4
 1292 0002 92B0     		sub	sp, sp, #72
 1293              	.LCFI45:
 1294              		.cfi_def_cfa_offset 80
 1295 0004 00AF     		add	r7, sp, #0
 1296              	.LCFI46:
 1297              		.cfi_def_cfa_register 7
 1298 0006 F861     		str	r0, [r7, #28]
 1299 0008 B961     		str	r1, [r7, #24]
 1300 000a 87ED050A 		vstr.32	s0, [r7, #20]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 30


 1301 000e C7ED040A 		vstr.32	s1, [r7, #16]
 1302 0012 87ED031A 		vstr.32	s2, [r7, #12]
 1303 0016 C7ED021A 		vstr.32	s3, [r7, #8]
 1304 001a 87ED012A 		vstr.32	s4, [r7, #4]
 269:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 1305              		.loc 1 269 13
 1306 001e 07F13803 		add	r3, r7, #56
 1307 0022 0022     		movs	r2, #0
 1308 0024 1A60     		str	r2, [r3]
 1309 0026 5A60     		str	r2, [r3, #4]
 270:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 271:User/Hardware/Robstride04.c ****     
 272:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_Torque = Torque;
 1310              		.loc 1 272 37
 1311 0028 FB69     		ldr	r3, [r7, #28]
 1312 002a 7A69     		ldr	r2, [r7, #20]	@ float
 1313 002c 5A62     		str	r2, [r3, #36]	@ float
 273:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_angle = Angle;
 1314              		.loc 1 273 36
 1315 002e FB69     		ldr	r3, [r7, #28]
 1316 0030 3A69     		ldr	r2, [r7, #16]	@ float
 1317 0032 9A62     		str	r2, [r3, #40]	@ float
 274:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_speed = Speed;
 1318              		.loc 1 274 36
 1319 0034 FB69     		ldr	r3, [r7, #28]
 1320 0036 FA68     		ldr	r2, [r7, #12]	@ float
 1321 0038 DA61     		str	r2, [r3, #28]	@ float
 275:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_Kp = Kp;
 1322              		.loc 1 275 33
 1323 003a FB69     		ldr	r3, [r7, #28]
 1324 003c BA68     		ldr	r2, [r7, #8]	@ float
 1325 003e 5A63     		str	r2, [r3, #52]	@ float
 276:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_Kd = Kd;
 1326              		.loc 1 276 33
 1327 0040 FB69     		ldr	r3, [r7, #28]
 1328 0042 7A68     		ldr	r2, [r7, #4]	@ float
 1329 0044 DA63     		str	r2, [r3, #60]	@ float
 277:User/Hardware/Robstride04.c ****     
 278:User/Hardware/Robstride04.c ****     if (motor->drw.run_mode.data != 0)
 1330              		.loc 1 278 28
 1331 0046 FB69     		ldr	r3, [r7, #28]
 1332 0048 D3ED197A 		vldr.32	s15, [r3, #100]
 1333              		.loc 1 278 8
 1334 004c F5EE407A 		vcmp.f32	s15, #0
 1335 0050 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1336 0054 15D0     		beq	.L61
 279:User/Hardware/Robstride04.c ****     {
 280:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7005, move_control_mode, 'j');
 1337              		.loc 1 280 9
 1338 0056 6A23     		movs	r3, #106
 1339 0058 9FED570A 		vldr.32	s0, .L63
 1340 005c 47F20502 		movw	r2, #28677
 1341 0060 B969     		ldr	r1, [r7, #24]
 1342 0062 F869     		ldr	r0, [r7, #28]
 1343 0064 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 281:User/Hardware/Robstride04.c ****         Get_RobStride_Motor_parameter(motor, hcan, 0x7005);
 1344              		.loc 1 281 9
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 31


 1345 0068 47F20502 		movw	r2, #28677
 1346 006c B969     		ldr	r1, [r7, #24]
 1347 006e F869     		ldr	r0, [r7, #28]
 1348 0070 FFF7FEFF 		bl	Get_RobStride_Motor_parameter
 282:User/Hardware/Robstride04.c ****         Enable_Motor(motor, hcan);
 1349              		.loc 1 282 9
 1350 0074 B969     		ldr	r1, [r7, #24]
 1351 0076 F869     		ldr	r0, [r7, #28]
 1352 0078 FFF7FEFF 		bl	Enable_Motor
 283:User/Hardware/Robstride04.c ****         motor->Motor_Set_All.set_motor_mode = move_control_mode;
 1353              		.loc 1 283 45
 1354 007c FB69     		ldr	r3, [r7, #28]
 1355 007e 0022     		movs	r2, #0
 1356 0080 1A75     		strb	r2, [r3, #20]
 1357              	.L61:
 284:User/Hardware/Robstride04.c ****     }
 285:User/Hardware/Robstride04.c ****     
 286:User/Hardware/Robstride04.c ****     if (motor->Pos_Info.pattern != 2)
 1358              		.loc 1 286 24
 1359 0082 FB69     		ldr	r3, [r7, #28]
 1360 0084 93F85C30 		ldrb	r3, [r3, #92]	@ zero_extendqisi2
 1361              		.loc 1 286 8
 1362 0088 022B     		cmp	r3, #2
 1363 008a 03D0     		beq	.L62
 287:User/Hardware/Robstride04.c ****     {
 288:User/Hardware/Robstride04.c ****         Enable_Motor(motor, hcan);
 1364              		.loc 1 288 9
 1365 008c B969     		ldr	r1, [r7, #24]
 1366 008e F869     		ldr	r0, [r7, #28]
 1367 0090 FFF7FEFF 		bl	Enable_Motor
 1368              	.L62:
 289:User/Hardware/Robstride04.c ****     }
 290:User/Hardware/Robstride04.c ****     
 291:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 1369              		.loc 1 291 19
 1370 0094 0123     		movs	r3, #1
 1371 0096 FB62     		str	r3, [r7, #44]
 292:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 1372              		.loc 1 292 19
 1373 0098 0023     		movs	r3, #0
 1374 009a 3B63     		str	r3, [r7, #48]
 293:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 1375              		.loc 1 293 19
 1376 009c 0823     		movs	r3, #8
 1377 009e 7B63     		str	r3, [r7, #52]
 294:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_MotionControl << 24 |
 295:User/Hardware/Robstride04.c ****                       (uint32_t)float_to_uint_lz(motor->Motor_Set_All.set_Torque, T_MIN, T_MAX, 16)
 1378              		.loc 1 295 33
 1379 00a0 FB69     		ldr	r3, [r7, #28]
 1380 00a2 D3ED097A 		vldr.32	s15, [r3, #36]
 1381 00a6 1020     		movs	r0, #16
 1382 00a8 9FED441A 		vldr.32	s2, .L63+4
 1383 00ac DFED440A 		vldr.32	s1, .L63+8
 1384 00b0 B0EE670A 		vmov.f32	s0, s15
 1385 00b4 FFF7FEFF 		bl	float_to_uint_lz
 1386 00b8 0346     		mov	r3, r0
 1387              		.loc 1 295 101 discriminator 1
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 32


 1388 00ba 1B02     		lsls	r3, r3, #8
 296:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 1389              		.loc 1 296 28
 1390 00bc FA69     		ldr	r2, [r7, #28]
 1391 00be 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 295:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 1392              		.loc 1 295 106
 1393 00c0 1343     		orrs	r3, r3, r2
 1394 00c2 43F08073 		orr	r3, r3, #16777216
 294:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_MotionControl << 24 |
 1395              		.loc 1 294 21
 1396 00c6 BB62     		str	r3, [r7, #40]
 297:User/Hardware/Robstride04.c ****     
 298:User/Hardware/Robstride04.c ****     uint16_t angle_uint = float_to_uint_lz(motor->Motor_Set_All.set_angle, P_MIN, P_MAX, 16);
 1397              		.loc 1 298 27
 1398 00c8 FB69     		ldr	r3, [r7, #28]
 1399 00ca D3ED0A7A 		vldr.32	s15, [r3, #40]
 1400 00ce 1020     		movs	r0, #16
 1401 00d0 9FED3C1A 		vldr.32	s2, .L63+12
 1402 00d4 DFED3C0A 		vldr.32	s1, .L63+16
 1403 00d8 B0EE670A 		vmov.f32	s0, s15
 1404 00dc FFF7FEFF 		bl	float_to_uint_lz
 1405 00e0 0346     		mov	r3, r0
 1406 00e2 A7F84630 		strh	r3, [r7, #70]	@ movhi
 299:User/Hardware/Robstride04.c ****     uint16_t speed_uint = float_to_uint_lz(motor->Motor_Set_All.set_speed, V_MIN, V_MAX, 16);
 1407              		.loc 1 299 27
 1408 00e6 FB69     		ldr	r3, [r7, #28]
 1409 00e8 D3ED077A 		vldr.32	s15, [r3, #28]
 1410 00ec 1020     		movs	r0, #16
 1411 00ee B2EE0E1A 		vmov.f32	s2, #1.5e+1
 1412 00f2 FAEE0E0A 		vmov.f32	s1, #-1.5e+1
 1413 00f6 B0EE670A 		vmov.f32	s0, s15
 1414 00fa FFF7FEFF 		bl	float_to_uint_lz
 1415 00fe 0346     		mov	r3, r0
 1416 0100 A7F84430 		strh	r3, [r7, #68]	@ movhi
 300:User/Hardware/Robstride04.c ****     uint16_t kp_uint = float_to_uint_lz(motor->Motor_Set_All.set_Kp, KP_MIN, KP_MAX, 16);
 1417              		.loc 1 300 24
 1418 0104 FB69     		ldr	r3, [r7, #28]
 1419 0106 D3ED0D7A 		vldr.32	s15, [r3, #52]
 1420 010a 1020     		movs	r0, #16
 1421 010c 9FED2F1A 		vldr.32	s2, .L63+20
 1422 0110 DFED290A 		vldr.32	s1, .L63
 1423 0114 B0EE670A 		vmov.f32	s0, s15
 1424 0118 FFF7FEFF 		bl	float_to_uint_lz
 1425 011c 0346     		mov	r3, r0
 1426 011e A7F84230 		strh	r3, [r7, #66]	@ movhi
 301:User/Hardware/Robstride04.c ****     uint16_t kd_uint = float_to_uint_lz(motor->Motor_Set_All.set_Kd, KD_MIN, KD_MAX, 16);
 1427              		.loc 1 301 24
 1428 0122 FB69     		ldr	r3, [r7, #28]
 1429 0124 D3ED0F7A 		vldr.32	s15, [r3, #60]
 1430 0128 1020     		movs	r0, #16
 1431 012a 9FED291A 		vldr.32	s2, .L63+24
 1432 012e DFED220A 		vldr.32	s1, .L63
 1433 0132 B0EE670A 		vmov.f32	s0, s15
 1434 0136 FFF7FEFF 		bl	float_to_uint_lz
 1435 013a 0346     		mov	r3, r0
 1436 013c A7F84030 		strh	r3, [r7, #64]	@ movhi
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 33


 302:User/Hardware/Robstride04.c ****     
 303:User/Hardware/Robstride04.c ****     txdata[0] = (uint8_t)(angle_uint >> 8);
 1437              		.loc 1 303 17
 1438 0140 B7F84630 		ldrh	r3, [r7, #70]
 1439 0144 1B0A     		lsrs	r3, r3, #8
 1440 0146 9BB2     		uxth	r3, r3
 1441 0148 DBB2     		uxtb	r3, r3
 1442              		.loc 1 303 15
 1443 014a 87F83830 		strb	r3, [r7, #56]
 304:User/Hardware/Robstride04.c ****     txdata[1] = (uint8_t)(angle_uint & 0xFF);
 1444              		.loc 1 304 17
 1445 014e B7F84630 		ldrh	r3, [r7, #70]	@ movhi
 1446 0152 DBB2     		uxtb	r3, r3
 1447              		.loc 1 304 15
 1448 0154 87F83930 		strb	r3, [r7, #57]
 305:User/Hardware/Robstride04.c ****     txdata[2] = (uint8_t)(speed_uint >> 8);
 1449              		.loc 1 305 17
 1450 0158 B7F84430 		ldrh	r3, [r7, #68]
 1451 015c 1B0A     		lsrs	r3, r3, #8
 1452 015e 9BB2     		uxth	r3, r3
 1453 0160 DBB2     		uxtb	r3, r3
 1454              		.loc 1 305 15
 1455 0162 87F83A30 		strb	r3, [r7, #58]
 306:User/Hardware/Robstride04.c ****     txdata[3] = (uint8_t)(speed_uint & 0xFF);
 1456              		.loc 1 306 17
 1457 0166 B7F84430 		ldrh	r3, [r7, #68]	@ movhi
 1458 016a DBB2     		uxtb	r3, r3
 1459              		.loc 1 306 15
 1460 016c 87F83B30 		strb	r3, [r7, #59]
 307:User/Hardware/Robstride04.c ****     txdata[4] = (uint8_t)(kp_uint >> 8);
 1461              		.loc 1 307 17
 1462 0170 B7F84230 		ldrh	r3, [r7, #66]
 1463 0174 1B0A     		lsrs	r3, r3, #8
 1464 0176 9BB2     		uxth	r3, r3
 1465 0178 DBB2     		uxtb	r3, r3
 1466              		.loc 1 307 15
 1467 017a 87F83C30 		strb	r3, [r7, #60]
 308:User/Hardware/Robstride04.c ****     txdata[5] = (uint8_t)(kp_uint & 0xFF);
 1468              		.loc 1 308 17
 1469 017e B7F84230 		ldrh	r3, [r7, #66]	@ movhi
 1470 0182 DBB2     		uxtb	r3, r3
 1471              		.loc 1 308 15
 1472 0184 87F83D30 		strb	r3, [r7, #61]
 309:User/Hardware/Robstride04.c ****     txdata[6] = (uint8_t)(kd_uint >> 8);
 1473              		.loc 1 309 17
 1474 0188 B7F84030 		ldrh	r3, [r7, #64]
 1475 018c 1B0A     		lsrs	r3, r3, #8
 1476 018e 9BB2     		uxth	r3, r3
 1477 0190 DBB2     		uxtb	r3, r3
 1478              		.loc 1 309 15
 1479 0192 87F83E30 		strb	r3, [r7, #62]
 310:User/Hardware/Robstride04.c ****     txdata[7] = (uint8_t)(kd_uint & 0xFF);
 1480              		.loc 1 310 17
 1481 0196 B7F84030 		ldrh	r3, [r7, #64]	@ movhi
 1482 019a DBB2     		uxtb	r3, r3
 1483              		.loc 1 310 15
 1484 019c 87F83F30 		strb	r3, [r7, #63]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 34


 311:User/Hardware/Robstride04.c ****     
 312:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 313:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 1485              		.loc 1 313 5
 1486 01a0 B96A     		ldr	r1, [r7, #40]
 1487 01a2 7B6B     		ldr	r3, [r7, #52]
 1488 01a4 07F13802 		add	r2, r7, #56
 1489 01a8 B869     		ldr	r0, [r7, #24]
 1490 01aa FFF7FEFF 		bl	canx_send_ext_data
 314:User/Hardware/Robstride04.c **** }
 1491              		.loc 1 314 1
 1492 01ae 00BF     		nop
 1493 01b0 4837     		adds	r7, r7, #72
 1494              	.LCFI47:
 1495              		.cfi_def_cfa_offset 8
 1496 01b2 BD46     		mov	sp, r7
 1497              	.LCFI48:
 1498              		.cfi_def_cfa_register 13
 1499              		@ sp needed
 1500 01b4 80BD     		pop	{r7, pc}
 1501              	.L64:
 1502 01b6 00BF     		.align	2
 1503              	.L63:
 1504 01b8 00000000 		.word	0
 1505 01bc 0000F042 		.word	1123024896
 1506 01c0 0000F0C2 		.word	-1024458752
 1507 01c4 B81E4941 		.word	1095311032
 1508 01c8 B81E49C1 		.word	-1052172616
 1509 01cc 00409C45 		.word	1167867904
 1510 01d0 0000C842 		.word	1120403456
 1511              		.cfi_endproc
 1512              	.LFE152:
 1514              		.section	.text.RobStride_Motor_MIT_Enable,"ax",%progbits
 1515              		.align	1
 1516              		.global	RobStride_Motor_MIT_Enable
 1517              		.syntax unified
 1518              		.thumb
 1519              		.thumb_func
 1521              	RobStride_Motor_MIT_Enable:
 1522              	.LFB153:
 315:User/Hardware/Robstride04.c **** 
 316:User/Hardware/Robstride04.c **** /*******************************************************************************
 317:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT模式使能
 318:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 319:User/Hardware/Robstride04.c **** *******************************************************************************/
 320:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_Enable(RobStride_Motor_t* motor, hcan_t* hcan)
 321:User/Hardware/Robstride04.c **** {
 1523              		.loc 1 321 1
 1524              		.cfi_startproc
 1525              		@ args = 0, pretend = 0, frame = 40
 1526              		@ frame_needed = 1, uses_anonymous_args = 0
 1527 0000 80B5     		push	{r7, lr}
 1528              	.LCFI49:
 1529              		.cfi_def_cfa_offset 8
 1530              		.cfi_offset 7, -8
 1531              		.cfi_offset 14, -4
 1532 0002 8AB0     		sub	sp, sp, #40
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 35


 1533              	.LCFI50:
 1534              		.cfi_def_cfa_offset 48
 1535 0004 00AF     		add	r7, sp, #0
 1536              	.LCFI51:
 1537              		.cfi_def_cfa_register 7
 1538 0006 7860     		str	r0, [r7, #4]
 1539 0008 3960     		str	r1, [r7]
 322:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 1540              		.loc 1 322 13
 1541 000a 07F12003 		add	r3, r7, #32
 1542 000e 0022     		movs	r2, #0
 1543 0010 1A60     		str	r2, [r3]
 1544 0012 5A60     		str	r2, [r3, #4]
 323:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 324:User/Hardware/Robstride04.c ****     
 325:User/Hardware/Robstride04.c ****     txMsg.StdId = motor->CAN_ID;
 1545              		.loc 1 325 24
 1546 0014 7B68     		ldr	r3, [r7, #4]
 1547 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1548              		.loc 1 325 17
 1549 0018 FB60     		str	r3, [r7, #12]
 326:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 1550              		.loc 1 326 15
 1551 001a 0023     		movs	r3, #0
 1552 001c 7B61     		str	r3, [r7, #20]
 327:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 1553              		.loc 1 327 15
 1554 001e 0023     		movs	r3, #0
 1555 0020 BB61     		str	r3, [r7, #24]
 328:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 1556              		.loc 1 328 15
 1557 0022 0823     		movs	r3, #8
 1558 0024 FB61     		str	r3, [r7, #28]
 329:User/Hardware/Robstride04.c ****     
 330:User/Hardware/Robstride04.c ****     txdata[0] = 0xFF;
 1559              		.loc 1 330 15
 1560 0026 FF23     		movs	r3, #255
 1561 0028 87F82030 		strb	r3, [r7, #32]
 331:User/Hardware/Robstride04.c ****     txdata[1] = 0xFF;
 1562              		.loc 1 331 15
 1563 002c FF23     		movs	r3, #255
 1564 002e 87F82130 		strb	r3, [r7, #33]
 332:User/Hardware/Robstride04.c ****     txdata[2] = 0xFF;
 1565              		.loc 1 332 15
 1566 0032 FF23     		movs	r3, #255
 1567 0034 87F82230 		strb	r3, [r7, #34]
 333:User/Hardware/Robstride04.c ****     txdata[3] = 0xFF;
 1568              		.loc 1 333 15
 1569 0038 FF23     		movs	r3, #255
 1570 003a 87F82330 		strb	r3, [r7, #35]
 334:User/Hardware/Robstride04.c ****     txdata[4] = 0xFF;
 1571              		.loc 1 334 15
 1572 003e FF23     		movs	r3, #255
 1573 0040 87F82430 		strb	r3, [r7, #36]
 335:User/Hardware/Robstride04.c ****     txdata[5] = 0xFF;
 1574              		.loc 1 335 15
 1575 0044 FF23     		movs	r3, #255
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 36


 1576 0046 87F82530 		strb	r3, [r7, #37]
 336:User/Hardware/Robstride04.c ****     txdata[6] = 0xFF;
 1577              		.loc 1 336 15
 1578 004a FF23     		movs	r3, #255
 1579 004c 87F82630 		strb	r3, [r7, #38]
 337:User/Hardware/Robstride04.c ****     txdata[7] = MIT_CMD_ENABLE;
 1580              		.loc 1 337 15
 1581 0050 FC23     		movs	r3, #252
 1582 0052 87F82730 		strb	r3, [r7, #39]
 338:User/Hardware/Robstride04.c ****     
 339:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 340:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 1583              		.loc 1 340 41
 1584 0056 FB68     		ldr	r3, [r7, #12]
 1585              		.loc 1 340 5
 1586 0058 99B2     		uxth	r1, r3
 1587 005a FB69     		ldr	r3, [r7, #28]
 1588 005c 07F12002 		add	r2, r7, #32
 1589 0060 3868     		ldr	r0, [r7]
 1590 0062 FFF7FEFF 		bl	canx_send_data
 341:User/Hardware/Robstride04.c **** }
 1591              		.loc 1 341 1
 1592 0066 00BF     		nop
 1593 0068 2837     		adds	r7, r7, #40
 1594              	.LCFI52:
 1595              		.cfi_def_cfa_offset 8
 1596 006a BD46     		mov	sp, r7
 1597              	.LCFI53:
 1598              		.cfi_def_cfa_register 13
 1599              		@ sp needed
 1600 006c 80BD     		pop	{r7, pc}
 1601              		.cfi_endproc
 1602              	.LFE153:
 1604              		.section	.text.RobStride_Motor_MIT_Disable,"ax",%progbits
 1605              		.align	1
 1606              		.global	RobStride_Motor_MIT_Disable
 1607              		.syntax unified
 1608              		.thumb
 1609              		.thumb_func
 1611              	RobStride_Motor_MIT_Disable:
 1612              	.LFB154:
 342:User/Hardware/Robstride04.c **** 
 343:User/Hardware/Robstride04.c **** /*******************************************************************************
 344:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT模式失能
 345:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 346:User/Hardware/Robstride04.c **** *******************************************************************************/
 347:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_Disable(RobStride_Motor_t* motor, hcan_t* hcan)
 348:User/Hardware/Robstride04.c **** {
 1613              		.loc 1 348 1
 1614              		.cfi_startproc
 1615              		@ args = 0, pretend = 0, frame = 40
 1616              		@ frame_needed = 1, uses_anonymous_args = 0
 1617 0000 80B5     		push	{r7, lr}
 1618              	.LCFI54:
 1619              		.cfi_def_cfa_offset 8
 1620              		.cfi_offset 7, -8
 1621              		.cfi_offset 14, -4
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 37


 1622 0002 8AB0     		sub	sp, sp, #40
 1623              	.LCFI55:
 1624              		.cfi_def_cfa_offset 48
 1625 0004 00AF     		add	r7, sp, #0
 1626              	.LCFI56:
 1627              		.cfi_def_cfa_register 7
 1628 0006 7860     		str	r0, [r7, #4]
 1629 0008 3960     		str	r1, [r7]
 349:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 1630              		.loc 1 349 13
 1631 000a 07F12003 		add	r3, r7, #32
 1632 000e 0022     		movs	r2, #0
 1633 0010 1A60     		str	r2, [r3]
 1634 0012 5A60     		str	r2, [r3, #4]
 350:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 351:User/Hardware/Robstride04.c ****     
 352:User/Hardware/Robstride04.c ****     txMsg.StdId = motor->CAN_ID;
 1635              		.loc 1 352 24
 1636 0014 7B68     		ldr	r3, [r7, #4]
 1637 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1638              		.loc 1 352 17
 1639 0018 FB60     		str	r3, [r7, #12]
 353:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 1640              		.loc 1 353 15
 1641 001a 0023     		movs	r3, #0
 1642 001c 7B61     		str	r3, [r7, #20]
 354:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 1643              		.loc 1 354 15
 1644 001e 0023     		movs	r3, #0
 1645 0020 BB61     		str	r3, [r7, #24]
 355:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 1646              		.loc 1 355 15
 1647 0022 0823     		movs	r3, #8
 1648 0024 FB61     		str	r3, [r7, #28]
 356:User/Hardware/Robstride04.c ****     
 357:User/Hardware/Robstride04.c ****     txdata[0] = 0xFF;
 1649              		.loc 1 357 15
 1650 0026 FF23     		movs	r3, #255
 1651 0028 87F82030 		strb	r3, [r7, #32]
 358:User/Hardware/Robstride04.c ****     txdata[1] = 0xFF;
 1652              		.loc 1 358 15
 1653 002c FF23     		movs	r3, #255
 1654 002e 87F82130 		strb	r3, [r7, #33]
 359:User/Hardware/Robstride04.c ****     txdata[2] = 0xFF;
 1655              		.loc 1 359 15
 1656 0032 FF23     		movs	r3, #255
 1657 0034 87F82230 		strb	r3, [r7, #34]
 360:User/Hardware/Robstride04.c ****     txdata[3] = 0xFF;
 1658              		.loc 1 360 15
 1659 0038 FF23     		movs	r3, #255
 1660 003a 87F82330 		strb	r3, [r7, #35]
 361:User/Hardware/Robstride04.c ****     txdata[4] = 0xFF;
 1661              		.loc 1 361 15
 1662 003e FF23     		movs	r3, #255
 1663 0040 87F82430 		strb	r3, [r7, #36]
 362:User/Hardware/Robstride04.c ****     txdata[5] = 0xFF;
 1664              		.loc 1 362 15
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 38


 1665 0044 FF23     		movs	r3, #255
 1666 0046 87F82530 		strb	r3, [r7, #37]
 363:User/Hardware/Robstride04.c ****     txdata[6] = 0xFF;
 1667              		.loc 1 363 15
 1668 004a FF23     		movs	r3, #255
 1669 004c 87F82630 		strb	r3, [r7, #38]
 364:User/Hardware/Robstride04.c ****     txdata[7] = MIT_CMD_DISABLE;
 1670              		.loc 1 364 15
 1671 0050 FD23     		movs	r3, #253
 1672 0052 87F82730 		strb	r3, [r7, #39]
 365:User/Hardware/Robstride04.c ****     
 366:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 367:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 1673              		.loc 1 367 41
 1674 0056 FB68     		ldr	r3, [r7, #12]
 1675              		.loc 1 367 5
 1676 0058 99B2     		uxth	r1, r3
 1677 005a FB69     		ldr	r3, [r7, #28]
 1678 005c 07F12002 		add	r2, r7, #32
 1679 0060 3868     		ldr	r0, [r7]
 1680 0062 FFF7FEFF 		bl	canx_send_data
 368:User/Hardware/Robstride04.c **** }
 1681              		.loc 1 368 1
 1682 0066 00BF     		nop
 1683 0068 2837     		adds	r7, r7, #40
 1684              	.LCFI57:
 1685              		.cfi_def_cfa_offset 8
 1686 006a BD46     		mov	sp, r7
 1687              	.LCFI58:
 1688              		.cfi_def_cfa_register 13
 1689              		@ sp needed
 1690 006c 80BD     		pop	{r7, pc}
 1691              		.cfi_endproc
 1692              	.LFE154:
 1694              		.section	.text.RobStride_Motor_MIT_ClearOrCheckError,"ax",%progbits
 1695              		.align	1
 1696              		.global	RobStride_Motor_MIT_ClearOrCheckError
 1697              		.syntax unified
 1698              		.thumb
 1699              		.thumb_func
 1701              	RobStride_Motor_MIT_ClearOrCheckError:
 1702              	.LFB155:
 369:User/Hardware/Robstride04.c **** 
 370:User/Hardware/Robstride04.c **** /*******************************************************************************
 371:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT模式清除或检查错误
 372:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 373:User/Hardware/Robstride04.c **** *******************************************************************************/
 374:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_ClearOrCheckError(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t F_CMD)
 375:User/Hardware/Robstride04.c **** {
 1703              		.loc 1 375 1
 1704              		.cfi_startproc
 1705              		@ args = 0, pretend = 0, frame = 48
 1706              		@ frame_needed = 1, uses_anonymous_args = 0
 1707 0000 80B5     		push	{r7, lr}
 1708              	.LCFI59:
 1709              		.cfi_def_cfa_offset 8
 1710              		.cfi_offset 7, -8
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 39


 1711              		.cfi_offset 14, -4
 1712 0002 8CB0     		sub	sp, sp, #48
 1713              	.LCFI60:
 1714              		.cfi_def_cfa_offset 56
 1715 0004 00AF     		add	r7, sp, #0
 1716              	.LCFI61:
 1717              		.cfi_def_cfa_register 7
 1718 0006 F860     		str	r0, [r7, #12]
 1719 0008 B960     		str	r1, [r7, #8]
 1720 000a 1346     		mov	r3, r2
 1721 000c FB71     		strb	r3, [r7, #7]
 376:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 1722              		.loc 1 376 13
 1723 000e 07F12803 		add	r3, r7, #40
 1724 0012 0022     		movs	r2, #0
 1725 0014 1A60     		str	r2, [r3]
 1726 0016 5A60     		str	r2, [r3, #4]
 377:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 378:User/Hardware/Robstride04.c ****     
 379:User/Hardware/Robstride04.c ****     txMsg.StdId = motor->CAN_ID;
 1727              		.loc 1 379 24
 1728 0018 FB68     		ldr	r3, [r7, #12]
 1729 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1730              		.loc 1 379 17
 1731 001c 7B61     		str	r3, [r7, #20]
 380:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 1732              		.loc 1 380 15
 1733 001e 0023     		movs	r3, #0
 1734 0020 FB61     		str	r3, [r7, #28]
 381:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 1735              		.loc 1 381 15
 1736 0022 0023     		movs	r3, #0
 1737 0024 3B62     		str	r3, [r7, #32]
 382:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 1738              		.loc 1 382 15
 1739 0026 0823     		movs	r3, #8
 1740 0028 7B62     		str	r3, [r7, #36]
 383:User/Hardware/Robstride04.c ****     
 384:User/Hardware/Robstride04.c ****     txdata[0] = 0xFF;
 1741              		.loc 1 384 15
 1742 002a FF23     		movs	r3, #255
 1743 002c 87F82830 		strb	r3, [r7, #40]
 385:User/Hardware/Robstride04.c ****     txdata[1] = 0xFF;
 1744              		.loc 1 385 15
 1745 0030 FF23     		movs	r3, #255
 1746 0032 87F82930 		strb	r3, [r7, #41]
 386:User/Hardware/Robstride04.c ****     txdata[2] = 0xFF;
 1747              		.loc 1 386 15
 1748 0036 FF23     		movs	r3, #255
 1749 0038 87F82A30 		strb	r3, [r7, #42]
 387:User/Hardware/Robstride04.c ****     txdata[3] = 0xFF;
 1750              		.loc 1 387 15
 1751 003c FF23     		movs	r3, #255
 1752 003e 87F82B30 		strb	r3, [r7, #43]
 388:User/Hardware/Robstride04.c ****     txdata[4] = 0xFF;
 1753              		.loc 1 388 15
 1754 0042 FF23     		movs	r3, #255
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 40


 1755 0044 87F82C30 		strb	r3, [r7, #44]
 389:User/Hardware/Robstride04.c ****     txdata[5] = 0xFF;
 1756              		.loc 1 389 15
 1757 0048 FF23     		movs	r3, #255
 1758 004a 87F82D30 		strb	r3, [r7, #45]
 390:User/Hardware/Robstride04.c ****     txdata[6] = F_CMD;
 1759              		.loc 1 390 15
 1760 004e FB79     		ldrb	r3, [r7, #7]
 1761 0050 87F82E30 		strb	r3, [r7, #46]
 391:User/Hardware/Robstride04.c ****     txdata[7] = MIT_CMD_CLEAR_ERR;
 1762              		.loc 1 391 15
 1763 0054 FB23     		movs	r3, #251
 1764 0056 87F82F30 		strb	r3, [r7, #47]
 392:User/Hardware/Robstride04.c ****     
 393:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 394:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 1765              		.loc 1 394 41
 1766 005a 7B69     		ldr	r3, [r7, #20]
 1767              		.loc 1 394 5
 1768 005c 99B2     		uxth	r1, r3
 1769 005e 7B6A     		ldr	r3, [r7, #36]
 1770 0060 07F12802 		add	r2, r7, #40
 1771 0064 B868     		ldr	r0, [r7, #8]
 1772 0066 FFF7FEFF 		bl	canx_send_data
 395:User/Hardware/Robstride04.c **** }
 1773              		.loc 1 395 1
 1774 006a 00BF     		nop
 1775 006c 3037     		adds	r7, r7, #48
 1776              	.LCFI62:
 1777              		.cfi_def_cfa_offset 8
 1778 006e BD46     		mov	sp, r7
 1779              	.LCFI63:
 1780              		.cfi_def_cfa_register 13
 1781              		@ sp needed
 1782 0070 80BD     		pop	{r7, pc}
 1783              		.cfi_endproc
 1784              	.LFE155:
 1786              		.section	.text.RobStride_Motor_MIT_SetMotorType,"ax",%progbits
 1787              		.align	1
 1788              		.global	RobStride_Motor_MIT_SetMotorType
 1789              		.syntax unified
 1790              		.thumb
 1791              		.thumb_func
 1793              	RobStride_Motor_MIT_SetMotorType:
 1794              	.LFB156:
 396:User/Hardware/Robstride04.c **** 
 397:User/Hardware/Robstride04.c **** /*******************************************************************************
 398:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT设置电机运行模式
 399:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 400:User/Hardware/Robstride04.c **** *******************************************************************************/
 401:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_SetMotorType(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t F_CMD)
 402:User/Hardware/Robstride04.c **** {
 1795              		.loc 1 402 1
 1796              		.cfi_startproc
 1797              		@ args = 0, pretend = 0, frame = 48
 1798              		@ frame_needed = 1, uses_anonymous_args = 0
 1799 0000 80B5     		push	{r7, lr}
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 41


 1800              	.LCFI64:
 1801              		.cfi_def_cfa_offset 8
 1802              		.cfi_offset 7, -8
 1803              		.cfi_offset 14, -4
 1804 0002 8CB0     		sub	sp, sp, #48
 1805              	.LCFI65:
 1806              		.cfi_def_cfa_offset 56
 1807 0004 00AF     		add	r7, sp, #0
 1808              	.LCFI66:
 1809              		.cfi_def_cfa_register 7
 1810 0006 F860     		str	r0, [r7, #12]
 1811 0008 B960     		str	r1, [r7, #8]
 1812 000a 1346     		mov	r3, r2
 1813 000c FB71     		strb	r3, [r7, #7]
 403:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 1814              		.loc 1 403 13
 1815 000e 07F12803 		add	r3, r7, #40
 1816 0012 0022     		movs	r2, #0
 1817 0014 1A60     		str	r2, [r3]
 1818 0016 5A60     		str	r2, [r3, #4]
 404:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 405:User/Hardware/Robstride04.c ****     
 406:User/Hardware/Robstride04.c ****     txMsg.StdId = motor->CAN_ID;
 1819              		.loc 1 406 24
 1820 0018 FB68     		ldr	r3, [r7, #12]
 1821 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1822              		.loc 1 406 17
 1823 001c 7B61     		str	r3, [r7, #20]
 407:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 1824              		.loc 1 407 15
 1825 001e 0023     		movs	r3, #0
 1826 0020 FB61     		str	r3, [r7, #28]
 408:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 1827              		.loc 1 408 15
 1828 0022 0023     		movs	r3, #0
 1829 0024 3B62     		str	r3, [r7, #32]
 409:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 1830              		.loc 1 409 15
 1831 0026 0823     		movs	r3, #8
 1832 0028 7B62     		str	r3, [r7, #36]
 410:User/Hardware/Robstride04.c ****     
 411:User/Hardware/Robstride04.c ****     txdata[0] = 0xFF;
 1833              		.loc 1 411 15
 1834 002a FF23     		movs	r3, #255
 1835 002c 87F82830 		strb	r3, [r7, #40]
 412:User/Hardware/Robstride04.c ****     txdata[1] = 0xFF;
 1836              		.loc 1 412 15
 1837 0030 FF23     		movs	r3, #255
 1838 0032 87F82930 		strb	r3, [r7, #41]
 413:User/Hardware/Robstride04.c ****     txdata[2] = 0xFF;
 1839              		.loc 1 413 15
 1840 0036 FF23     		movs	r3, #255
 1841 0038 87F82A30 		strb	r3, [r7, #42]
 414:User/Hardware/Robstride04.c ****     txdata[3] = 0xFF;
 1842              		.loc 1 414 15
 1843 003c FF23     		movs	r3, #255
 1844 003e 87F82B30 		strb	r3, [r7, #43]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 42


 415:User/Hardware/Robstride04.c ****     txdata[4] = 0xFF;
 1845              		.loc 1 415 15
 1846 0042 FF23     		movs	r3, #255
 1847 0044 87F82C30 		strb	r3, [r7, #44]
 416:User/Hardware/Robstride04.c ****     txdata[5] = 0xFF;
 1848              		.loc 1 416 15
 1849 0048 FF23     		movs	r3, #255
 1850 004a 87F82D30 		strb	r3, [r7, #45]
 417:User/Hardware/Robstride04.c ****     txdata[6] = F_CMD;
 1851              		.loc 1 417 15
 1852 004e FB79     		ldrb	r3, [r7, #7]
 1853 0050 87F82E30 		strb	r3, [r7, #46]
 418:User/Hardware/Robstride04.c ****     txdata[7] = MIT_CMD_SET_MODE;
 1854              		.loc 1 418 15
 1855 0054 FC23     		movs	r3, #252
 1856 0056 87F82F30 		strb	r3, [r7, #47]
 419:User/Hardware/Robstride04.c ****     
 420:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 421:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 1857              		.loc 1 421 41
 1858 005a 7B69     		ldr	r3, [r7, #20]
 1859              		.loc 1 421 5
 1860 005c 99B2     		uxth	r1, r3
 1861 005e 7B6A     		ldr	r3, [r7, #36]
 1862 0060 07F12802 		add	r2, r7, #40
 1863 0064 B868     		ldr	r0, [r7, #8]
 1864 0066 FFF7FEFF 		bl	canx_send_data
 422:User/Hardware/Robstride04.c **** }
 1865              		.loc 1 422 1
 1866 006a 00BF     		nop
 1867 006c 3037     		adds	r7, r7, #48
 1868              	.LCFI67:
 1869              		.cfi_def_cfa_offset 8
 1870 006e BD46     		mov	sp, r7
 1871              	.LCFI68:
 1872              		.cfi_def_cfa_register 13
 1873              		@ sp needed
 1874 0070 80BD     		pop	{r7, pc}
 1875              		.cfi_endproc
 1876              	.LFE156:
 1878              		.section	.text.RobStride_Motor_MIT_SetMotorId,"ax",%progbits
 1879              		.align	1
 1880              		.global	RobStride_Motor_MIT_SetMotorId
 1881              		.syntax unified
 1882              		.thumb
 1883              		.thumb_func
 1885              	RobStride_Motor_MIT_SetMotorId:
 1886              	.LFB157:
 423:User/Hardware/Robstride04.c **** 
 424:User/Hardware/Robstride04.c **** /*******************************************************************************
 425:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT设置电机ID
 426:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 427:User/Hardware/Robstride04.c **** *******************************************************************************/
 428:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_SetMotorId(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t F_CMD)
 429:User/Hardware/Robstride04.c **** {
 1887              		.loc 1 429 1
 1888              		.cfi_startproc
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 43


 1889              		@ args = 0, pretend = 0, frame = 48
 1890              		@ frame_needed = 1, uses_anonymous_args = 0
 1891 0000 80B5     		push	{r7, lr}
 1892              	.LCFI69:
 1893              		.cfi_def_cfa_offset 8
 1894              		.cfi_offset 7, -8
 1895              		.cfi_offset 14, -4
 1896 0002 8CB0     		sub	sp, sp, #48
 1897              	.LCFI70:
 1898              		.cfi_def_cfa_offset 56
 1899 0004 00AF     		add	r7, sp, #0
 1900              	.LCFI71:
 1901              		.cfi_def_cfa_register 7
 1902 0006 F860     		str	r0, [r7, #12]
 1903 0008 B960     		str	r1, [r7, #8]
 1904 000a 1346     		mov	r3, r2
 1905 000c FB71     		strb	r3, [r7, #7]
 430:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 1906              		.loc 1 430 13
 1907 000e 07F12803 		add	r3, r7, #40
 1908 0012 0022     		movs	r2, #0
 1909 0014 1A60     		str	r2, [r3]
 1910 0016 5A60     		str	r2, [r3, #4]
 431:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 432:User/Hardware/Robstride04.c ****     
 433:User/Hardware/Robstride04.c ****     txMsg.StdId = motor->CAN_ID;
 1911              		.loc 1 433 24
 1912 0018 FB68     		ldr	r3, [r7, #12]
 1913 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1914              		.loc 1 433 17
 1915 001c 7B61     		str	r3, [r7, #20]
 434:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 1916              		.loc 1 434 15
 1917 001e 0023     		movs	r3, #0
 1918 0020 FB61     		str	r3, [r7, #28]
 435:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 1919              		.loc 1 435 15
 1920 0022 0023     		movs	r3, #0
 1921 0024 3B62     		str	r3, [r7, #32]
 436:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 1922              		.loc 1 436 15
 1923 0026 0823     		movs	r3, #8
 1924 0028 7B62     		str	r3, [r7, #36]
 437:User/Hardware/Robstride04.c ****     
 438:User/Hardware/Robstride04.c ****     txdata[0] = 0xFF;
 1925              		.loc 1 438 15
 1926 002a FF23     		movs	r3, #255
 1927 002c 87F82830 		strb	r3, [r7, #40]
 439:User/Hardware/Robstride04.c ****     txdata[1] = 0xFF;
 1928              		.loc 1 439 15
 1929 0030 FF23     		movs	r3, #255
 1930 0032 87F82930 		strb	r3, [r7, #41]
 440:User/Hardware/Robstride04.c ****     txdata[2] = 0xFF;
 1931              		.loc 1 440 15
 1932 0036 FF23     		movs	r3, #255
 1933 0038 87F82A30 		strb	r3, [r7, #42]
 441:User/Hardware/Robstride04.c ****     txdata[3] = 0xFF;
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 44


 1934              		.loc 1 441 15
 1935 003c FF23     		movs	r3, #255
 1936 003e 87F82B30 		strb	r3, [r7, #43]
 442:User/Hardware/Robstride04.c ****     txdata[4] = 0xFF;
 1937              		.loc 1 442 15
 1938 0042 FF23     		movs	r3, #255
 1939 0044 87F82C30 		strb	r3, [r7, #44]
 443:User/Hardware/Robstride04.c ****     txdata[5] = 0xFF;
 1940              		.loc 1 443 15
 1941 0048 FF23     		movs	r3, #255
 1942 004a 87F82D30 		strb	r3, [r7, #45]
 444:User/Hardware/Robstride04.c ****     txdata[6] = F_CMD;
 1943              		.loc 1 444 15
 1944 004e FB79     		ldrb	r3, [r7, #7]
 1945 0050 87F82E30 		strb	r3, [r7, #46]
 445:User/Hardware/Robstride04.c ****     txdata[7] = 0xFA; // 设置ID命令
 1946              		.loc 1 445 15
 1947 0054 FA23     		movs	r3, #250
 1948 0056 87F82F30 		strb	r3, [r7, #47]
 446:User/Hardware/Robstride04.c ****     
 447:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 448:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 1949              		.loc 1 448 41
 1950 005a 7B69     		ldr	r3, [r7, #20]
 1951              		.loc 1 448 5
 1952 005c 99B2     		uxth	r1, r3
 1953 005e 7B6A     		ldr	r3, [r7, #36]
 1954 0060 07F12802 		add	r2, r7, #40
 1955 0064 B868     		ldr	r0, [r7, #8]
 1956 0066 FFF7FEFF 		bl	canx_send_data
 449:User/Hardware/Robstride04.c **** }
 1957              		.loc 1 449 1
 1958 006a 00BF     		nop
 1959 006c 3037     		adds	r7, r7, #48
 1960              	.LCFI72:
 1961              		.cfi_def_cfa_offset 8
 1962 006e BD46     		mov	sp, r7
 1963              	.LCFI73:
 1964              		.cfi_def_cfa_register 13
 1965              		@ sp needed
 1966 0070 80BD     		pop	{r7, pc}
 1967              		.cfi_endproc
 1968              	.LFE157:
 1970              		.section	.text.RobStride_Motor_MIT_Control,"ax",%progbits
 1971              		.align	1
 1972              		.global	RobStride_Motor_MIT_Control
 1973              		.syntax unified
 1974              		.thumb
 1975              		.thumb_func
 1977              	RobStride_Motor_MIT_Control:
 1978              	.LFB158:
 450:User/Hardware/Robstride04.c **** 
 451:User/Hardware/Robstride04.c **** /*******************************************************************************
 452:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT运控模式控制指令
 453:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 454:User/Hardware/Robstride04.c **** *******************************************************************************/
 455:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_Control(RobStride_Motor_t* motor, hcan_t* hcan, float Angle, float Speed, 
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 45


 456:User/Hardware/Robstride04.c **** {
 1979              		.loc 1 456 1
 1980              		.cfi_startproc
 1981              		@ args = 0, pretend = 0, frame = 72
 1982              		@ frame_needed = 1, uses_anonymous_args = 0
 1983 0000 90B5     		push	{r4, r7, lr}
 1984              	.LCFI74:
 1985              		.cfi_def_cfa_offset 12
 1986              		.cfi_offset 4, -12
 1987              		.cfi_offset 7, -8
 1988              		.cfi_offset 14, -4
 1989 0002 93B0     		sub	sp, sp, #76
 1990              	.LCFI75:
 1991              		.cfi_def_cfa_offset 88
 1992 0004 00AF     		add	r7, sp, #0
 1993              	.LCFI76:
 1994              		.cfi_def_cfa_register 7
 1995 0006 F861     		str	r0, [r7, #28]
 1996 0008 B961     		str	r1, [r7, #24]
 1997 000a 87ED050A 		vstr.32	s0, [r7, #20]
 1998 000e C7ED040A 		vstr.32	s1, [r7, #16]
 1999 0012 87ED031A 		vstr.32	s2, [r7, #12]
 2000 0016 C7ED021A 		vstr.32	s3, [r7, #8]
 2001 001a 87ED012A 		vstr.32	s4, [r7, #4]
 457:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 2002              		.loc 1 457 13
 2003 001e 07F13403 		add	r3, r7, #52
 2004 0022 0022     		movs	r2, #0
 2005 0024 1A60     		str	r2, [r3]
 2006 0026 5A60     		str	r2, [r3, #4]
 458:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 459:User/Hardware/Robstride04.c ****     
 460:User/Hardware/Robstride04.c ****     txMsg.StdId = motor->CAN_ID;
 2007              		.loc 1 460 24
 2008 0028 FB69     		ldr	r3, [r7, #28]
 2009 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2010              		.loc 1 460 17
 2011 002c 3B62     		str	r3, [r7, #32]
 461:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 2012              		.loc 1 461 15
 2013 002e 0023     		movs	r3, #0
 2014 0030 BB62     		str	r3, [r7, #40]
 462:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 2015              		.loc 1 462 15
 2016 0032 0023     		movs	r3, #0
 2017 0034 FB62     		str	r3, [r7, #44]
 463:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 2018              		.loc 1 463 15
 2019 0036 0823     		movs	r3, #8
 2020 0038 3B63     		str	r3, [r7, #48]
 464:User/Hardware/Robstride04.c ****     
 465:User/Hardware/Robstride04.c ****     uint16_t angle_uint = float_to_uint_lz(Angle, P_MIN, P_MAX, 16);
 2021              		.loc 1 465 27
 2022 003a 1020     		movs	r0, #16
 2023 003c 9FED4B1A 		vldr.32	s2, .L71
 2024 0040 DFED4B0A 		vldr.32	s1, .L71+4
 2025 0044 97ED050A 		vldr.32	s0, [r7, #20]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 46


 2026 0048 FFF7FEFF 		bl	float_to_uint_lz
 2027 004c 0346     		mov	r3, r0
 2028 004e A7F84630 		strh	r3, [r7, #70]	@ movhi
 466:User/Hardware/Robstride04.c ****     txdata[0] = (uint8_t)(angle_uint >> 8);
 2029              		.loc 1 466 17
 2030 0052 B7F84630 		ldrh	r3, [r7, #70]
 2031 0056 1B0A     		lsrs	r3, r3, #8
 2032 0058 9BB2     		uxth	r3, r3
 2033 005a DBB2     		uxtb	r3, r3
 2034              		.loc 1 466 15
 2035 005c 87F83430 		strb	r3, [r7, #52]
 467:User/Hardware/Robstride04.c ****     txdata[1] = (uint8_t)(angle_uint & 0xFF);
 2036              		.loc 1 467 17
 2037 0060 B7F84630 		ldrh	r3, [r7, #70]	@ movhi
 2038 0064 DBB2     		uxtb	r3, r3
 2039              		.loc 1 467 15
 2040 0066 87F83530 		strb	r3, [r7, #53]
 468:User/Hardware/Robstride04.c ****     
 469:User/Hardware/Robstride04.c ****     uint16_t speed_uint = float_to_uint_lz(Speed, V_MIN, V_MAX, 12);
 2041              		.loc 1 469 27
 2042 006a 0C20     		movs	r0, #12
 2043 006c B2EE0E1A 		vmov.f32	s2, #1.5e+1
 2044 0070 FAEE0E0A 		vmov.f32	s1, #-1.5e+1
 2045 0074 97ED040A 		vldr.32	s0, [r7, #16]
 2046 0078 FFF7FEFF 		bl	float_to_uint_lz
 2047 007c 0346     		mov	r3, r0
 2048 007e A7F84430 		strh	r3, [r7, #68]	@ movhi
 470:User/Hardware/Robstride04.c ****     txdata[2] = (uint8_t)(speed_uint >> 4);
 2049              		.loc 1 470 17
 2050 0082 B7F84430 		ldrh	r3, [r7, #68]
 2051 0086 1B09     		lsrs	r3, r3, #4
 2052 0088 9BB2     		uxth	r3, r3
 2053 008a DBB2     		uxtb	r3, r3
 2054              		.loc 1 470 15
 2055 008c 87F83630 		strb	r3, [r7, #54]
 471:User/Hardware/Robstride04.c ****     txdata[3] = (uint8_t)((speed_uint << 4) | (float_to_uint_lz(Kp, KP_MIN, KP_MAX, 12) >> 8));
 2056              		.loc 1 471 45
 2057 0090 B7F84430 		ldrh	r3, [r7, #68]	@ movhi
 2058 0094 5BB2     		sxtb	r3, r3
 2059 0096 1B01     		lsls	r3, r3, #4
 2060 0098 5CB2     		sxtb	r4, r3
 2061              		.loc 1 471 48
 2062 009a 0C20     		movs	r0, #12
 2063 009c 9FED351A 		vldr.32	s2, .L71+8
 2064 00a0 DFED350A 		vldr.32	s1, .L71+12
 2065 00a4 97ED030A 		vldr.32	s0, [r7, #12]
 2066 00a8 FFF7FEFF 		bl	float_to_uint_lz
 2067 00ac 0346     		mov	r3, r0
 2068              		.loc 1 471 45 discriminator 1
 2069 00ae 1B0A     		lsrs	r3, r3, #8
 2070 00b0 9BB2     		uxth	r3, r3
 2071 00b2 5BB2     		sxtb	r3, r3
 2072 00b4 2343     		orrs	r3, r3, r4
 2073 00b6 5BB2     		sxtb	r3, r3
 2074              		.loc 1 471 17 discriminator 1
 2075 00b8 DBB2     		uxtb	r3, r3
 2076              		.loc 1 471 15 discriminator 1
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 47


 2077 00ba 87F83730 		strb	r3, [r7, #55]
 472:User/Hardware/Robstride04.c ****     
 473:User/Hardware/Robstride04.c ****     uint16_t kp_uint = float_to_uint_lz(Kp, KP_MIN, KP_MAX, 12);
 2078              		.loc 1 473 24
 2079 00be 0C20     		movs	r0, #12
 2080 00c0 9FED2C1A 		vldr.32	s2, .L71+8
 2081 00c4 DFED2C0A 		vldr.32	s1, .L71+12
 2082 00c8 97ED030A 		vldr.32	s0, [r7, #12]
 2083 00cc FFF7FEFF 		bl	float_to_uint_lz
 2084 00d0 0346     		mov	r3, r0
 2085 00d2 A7F84230 		strh	r3, [r7, #66]	@ movhi
 474:User/Hardware/Robstride04.c ****     txdata[4] = (uint8_t)(kp_uint & 0xFF);
 2086              		.loc 1 474 17
 2087 00d6 B7F84230 		ldrh	r3, [r7, #66]	@ movhi
 2088 00da DBB2     		uxtb	r3, r3
 2089              		.loc 1 474 15
 2090 00dc 87F83830 		strb	r3, [r7, #56]
 475:User/Hardware/Robstride04.c ****     
 476:User/Hardware/Robstride04.c ****     uint16_t kd_uint = float_to_uint_lz(Kd, KD_MIN, KD_MAX, 12);
 2091              		.loc 1 476 24
 2092 00e0 0C20     		movs	r0, #12
 2093 00e2 9FED261A 		vldr.32	s2, .L71+16
 2094 00e6 DFED240A 		vldr.32	s1, .L71+12
 2095 00ea 97ED020A 		vldr.32	s0, [r7, #8]
 2096 00ee FFF7FEFF 		bl	float_to_uint_lz
 2097 00f2 0346     		mov	r3, r0
 2098 00f4 A7F84030 		strh	r3, [r7, #64]	@ movhi
 477:User/Hardware/Robstride04.c ****     txdata[5] = (uint8_t)(kd_uint >> 4);
 2099              		.loc 1 477 17
 2100 00f8 B7F84030 		ldrh	r3, [r7, #64]
 2101 00fc 1B09     		lsrs	r3, r3, #4
 2102 00fe 9BB2     		uxth	r3, r3
 2103 0100 DBB2     		uxtb	r3, r3
 2104              		.loc 1 477 15
 2105 0102 87F83930 		strb	r3, [r7, #57]
 478:User/Hardware/Robstride04.c ****     txdata[6] = (uint8_t)((kd_uint << 4) | (float_to_uint_lz(Torque, T_MIN, T_MAX, 12) >> 8));
 2106              		.loc 1 478 42
 2107 0106 B7F84030 		ldrh	r3, [r7, #64]	@ movhi
 2108 010a 5BB2     		sxtb	r3, r3
 2109 010c 1B01     		lsls	r3, r3, #4
 2110 010e 5CB2     		sxtb	r4, r3
 2111              		.loc 1 478 45
 2112 0110 0C20     		movs	r0, #12
 2113 0112 9FED1B1A 		vldr.32	s2, .L71+20
 2114 0116 DFED1B0A 		vldr.32	s1, .L71+24
 2115 011a 97ED010A 		vldr.32	s0, [r7, #4]
 2116 011e FFF7FEFF 		bl	float_to_uint_lz
 2117 0122 0346     		mov	r3, r0
 2118              		.loc 1 478 42 discriminator 1
 2119 0124 1B0A     		lsrs	r3, r3, #8
 2120 0126 9BB2     		uxth	r3, r3
 2121 0128 5BB2     		sxtb	r3, r3
 2122 012a 2343     		orrs	r3, r3, r4
 2123 012c 5BB2     		sxtb	r3, r3
 2124              		.loc 1 478 17 discriminator 1
 2125 012e DBB2     		uxtb	r3, r3
 2126              		.loc 1 478 15 discriminator 1
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 48


 2127 0130 87F83A30 		strb	r3, [r7, #58]
 479:User/Hardware/Robstride04.c ****     
 480:User/Hardware/Robstride04.c ****     uint16_t torque_uint = float_to_uint_lz(Torque, T_MIN, T_MAX, 12);
 2128              		.loc 1 480 28
 2129 0134 0C20     		movs	r0, #12
 2130 0136 9FED121A 		vldr.32	s2, .L71+20
 2131 013a DFED120A 		vldr.32	s1, .L71+24
 2132 013e 97ED010A 		vldr.32	s0, [r7, #4]
 2133 0142 FFF7FEFF 		bl	float_to_uint_lz
 2134 0146 0346     		mov	r3, r0
 2135 0148 FB87     		strh	r3, [r7, #62]	@ movhi
 481:User/Hardware/Robstride04.c ****     txdata[7] = (uint8_t)(torque_uint & 0xFF);
 2136              		.loc 1 481 17
 2137 014a FB8F     		ldrh	r3, [r7, #62]	@ movhi
 2138 014c DBB2     		uxtb	r3, r3
 2139              		.loc 1 481 15
 2140 014e 87F83B30 		strb	r3, [r7, #59]
 482:User/Hardware/Robstride04.c ****     
 483:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 484:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 2141              		.loc 1 484 41
 2142 0152 3B6A     		ldr	r3, [r7, #32]
 2143              		.loc 1 484 5
 2144 0154 99B2     		uxth	r1, r3
 2145 0156 3B6B     		ldr	r3, [r7, #48]
 2146 0158 07F13402 		add	r2, r7, #52
 2147 015c B869     		ldr	r0, [r7, #24]
 2148 015e FFF7FEFF 		bl	canx_send_data
 485:User/Hardware/Robstride04.c **** }
 2149              		.loc 1 485 1
 2150 0162 00BF     		nop
 2151 0164 4C37     		adds	r7, r7, #76
 2152              	.LCFI77:
 2153              		.cfi_def_cfa_offset 12
 2154 0166 BD46     		mov	sp, r7
 2155              	.LCFI78:
 2156              		.cfi_def_cfa_register 13
 2157              		@ sp needed
 2158 0168 90BD     		pop	{r4, r7, pc}
 2159              	.L72:
 2160 016a 00BF     		.align	2
 2161              	.L71:
 2162 016c B81E4941 		.word	1095311032
 2163 0170 B81E49C1 		.word	-1052172616
 2164 0174 00409C45 		.word	1167867904
 2165 0178 00000000 		.word	0
 2166 017c 0000C842 		.word	1120403456
 2167 0180 0000F042 		.word	1123024896
 2168 0184 0000F0C2 		.word	-1024458752
 2169              		.cfi_endproc
 2170              	.LFE158:
 2172              		.section	.text.RobStride_Motor_MIT_PositionControl,"ax",%progbits
 2173              		.align	1
 2174              		.global	RobStride_Motor_MIT_PositionControl
 2175              		.syntax unified
 2176              		.thumb
 2177              		.thumb_func
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 49


 2179              	RobStride_Motor_MIT_PositionControl:
 2180              	.LFB159:
 486:User/Hardware/Robstride04.c **** 
 487:User/Hardware/Robstride04.c **** /*******************************************************************************
 488:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT位置模式控制指令
 489:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 490:User/Hardware/Robstride04.c **** *******************************************************************************/
 491:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_PositionControl(RobStride_Motor_t* motor, hcan_t* hcan, float position_rad
 492:User/Hardware/Robstride04.c **** {
 2181              		.loc 1 492 1
 2182              		.cfi_startproc
 2183              		@ args = 0, pretend = 0, frame = 48
 2184              		@ frame_needed = 1, uses_anonymous_args = 0
 2185 0000 80B5     		push	{r7, lr}
 2186              	.LCFI79:
 2187              		.cfi_def_cfa_offset 8
 2188              		.cfi_offset 7, -8
 2189              		.cfi_offset 14, -4
 2190 0002 8CB0     		sub	sp, sp, #48
 2191              	.LCFI80:
 2192              		.cfi_def_cfa_offset 56
 2193 0004 00AF     		add	r7, sp, #0
 2194              	.LCFI81:
 2195              		.cfi_def_cfa_register 7
 2196 0006 F860     		str	r0, [r7, #12]
 2197 0008 B960     		str	r1, [r7, #8]
 2198 000a 87ED010A 		vstr.32	s0, [r7, #4]
 2199 000e C7ED000A 		vstr.32	s1, [r7]
 493:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 2200              		.loc 1 493 13
 2201 0012 07F12803 		add	r3, r7, #40
 2202 0016 0022     		movs	r2, #0
 2203 0018 1A60     		str	r2, [r3]
 2204 001a 5A60     		str	r2, [r3, #4]
 494:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 495:User/Hardware/Robstride04.c ****     
 496:User/Hardware/Robstride04.c ****     txMsg.StdId = (1 << 8) | motor->CAN_ID;
 2205              		.loc 1 496 35
 2206 001c FB68     		ldr	r3, [r7, #12]
 2207 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2208              		.loc 1 496 28
 2209 0020 43F48073 		orr	r3, r3, #256
 2210              		.loc 1 496 17
 2211 0024 7B61     		str	r3, [r7, #20]
 497:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 2212              		.loc 1 497 15
 2213 0026 0023     		movs	r3, #0
 2214 0028 FB61     		str	r3, [r7, #28]
 498:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 2215              		.loc 1 498 15
 2216 002a 0023     		movs	r3, #0
 2217 002c 3B62     		str	r3, [r7, #32]
 499:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 2218              		.loc 1 499 15
 2219 002e 0823     		movs	r3, #8
 2220 0030 7B62     		str	r3, [r7, #36]
 500:User/Hardware/Robstride04.c ****     
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 50


 501:User/Hardware/Robstride04.c ****     memcpy(&txdata[0], &position_rad, 4);
 2221              		.loc 1 501 5
 2222 0032 7B68     		ldr	r3, [r7, #4]
 2223 0034 BB62     		str	r3, [r7, #40]
 502:User/Hardware/Robstride04.c ****     memcpy(&txdata[4], &speed_rad_per_s, 4);
 2224              		.loc 1 502 5
 2225 0036 3B68     		ldr	r3, [r7]
 2226 0038 FB62     		str	r3, [r7, #44]
 503:User/Hardware/Robstride04.c ****     
 504:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 505:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 2227              		.loc 1 505 41
 2228 003a 7B69     		ldr	r3, [r7, #20]
 2229              		.loc 1 505 5
 2230 003c 99B2     		uxth	r1, r3
 2231 003e 7B6A     		ldr	r3, [r7, #36]
 2232 0040 07F12802 		add	r2, r7, #40
 2233 0044 B868     		ldr	r0, [r7, #8]
 2234 0046 FFF7FEFF 		bl	canx_send_data
 506:User/Hardware/Robstride04.c **** }
 2235              		.loc 1 506 1
 2236 004a 00BF     		nop
 2237 004c 3037     		adds	r7, r7, #48
 2238              	.LCFI82:
 2239              		.cfi_def_cfa_offset 8
 2240 004e BD46     		mov	sp, r7
 2241              	.LCFI83:
 2242              		.cfi_def_cfa_register 13
 2243              		@ sp needed
 2244 0050 80BD     		pop	{r7, pc}
 2245              		.cfi_endproc
 2246              	.LFE159:
 2248              		.section	.text.RobStride_Motor_MIT_SpeedControl,"ax",%progbits
 2249              		.align	1
 2250              		.global	RobStride_Motor_MIT_SpeedControl
 2251              		.syntax unified
 2252              		.thumb
 2253              		.thumb_func
 2255              	RobStride_Motor_MIT_SpeedControl:
 2256              	.LFB160:
 507:User/Hardware/Robstride04.c **** 
 508:User/Hardware/Robstride04.c **** /*******************************************************************************
 509:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT速度模式控制指令
 510:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 511:User/Hardware/Robstride04.c **** *******************************************************************************/
 512:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_SpeedControl(RobStride_Motor_t* motor, hcan_t* hcan, float speed_rad_per_s
 513:User/Hardware/Robstride04.c **** {
 2257              		.loc 1 513 1
 2258              		.cfi_startproc
 2259              		@ args = 0, pretend = 0, frame = 48
 2260              		@ frame_needed = 1, uses_anonymous_args = 0
 2261 0000 80B5     		push	{r7, lr}
 2262              	.LCFI84:
 2263              		.cfi_def_cfa_offset 8
 2264              		.cfi_offset 7, -8
 2265              		.cfi_offset 14, -4
 2266 0002 8CB0     		sub	sp, sp, #48
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 51


 2267              	.LCFI85:
 2268              		.cfi_def_cfa_offset 56
 2269 0004 00AF     		add	r7, sp, #0
 2270              	.LCFI86:
 2271              		.cfi_def_cfa_register 7
 2272 0006 F860     		str	r0, [r7, #12]
 2273 0008 B960     		str	r1, [r7, #8]
 2274 000a 87ED010A 		vstr.32	s0, [r7, #4]
 2275 000e C7ED000A 		vstr.32	s1, [r7]
 514:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 2276              		.loc 1 514 13
 2277 0012 07F12803 		add	r3, r7, #40
 2278 0016 0022     		movs	r2, #0
 2279 0018 1A60     		str	r2, [r3]
 2280 001a 5A60     		str	r2, [r3, #4]
 515:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 516:User/Hardware/Robstride04.c ****     
 517:User/Hardware/Robstride04.c ****     txMsg.StdId = (2 << 8) | motor->CAN_ID;
 2281              		.loc 1 517 35
 2282 001c FB68     		ldr	r3, [r7, #12]
 2283 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2284              		.loc 1 517 28
 2285 0020 43F40073 		orr	r3, r3, #512
 2286              		.loc 1 517 17
 2287 0024 7B61     		str	r3, [r7, #20]
 518:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 2288              		.loc 1 518 15
 2289 0026 0023     		movs	r3, #0
 2290 0028 FB61     		str	r3, [r7, #28]
 519:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 2291              		.loc 1 519 15
 2292 002a 0023     		movs	r3, #0
 2293 002c 3B62     		str	r3, [r7, #32]
 520:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 2294              		.loc 1 520 15
 2295 002e 0823     		movs	r3, #8
 2296 0030 7B62     		str	r3, [r7, #36]
 521:User/Hardware/Robstride04.c ****     
 522:User/Hardware/Robstride04.c ****     memcpy(&txdata[0], &speed_rad_per_s, 4);
 2297              		.loc 1 522 5
 2298 0032 7B68     		ldr	r3, [r7, #4]
 2299 0034 BB62     		str	r3, [r7, #40]
 523:User/Hardware/Robstride04.c ****     memcpy(&txdata[4], &current_limit, 4);
 2300              		.loc 1 523 5
 2301 0036 3B68     		ldr	r3, [r7]
 2302 0038 FB62     		str	r3, [r7, #44]
 524:User/Hardware/Robstride04.c ****     
 525:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 526:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 2303              		.loc 1 526 41
 2304 003a 7B69     		ldr	r3, [r7, #20]
 2305              		.loc 1 526 5
 2306 003c 99B2     		uxth	r1, r3
 2307 003e 7B6A     		ldr	r3, [r7, #36]
 2308 0040 07F12802 		add	r2, r7, #40
 2309 0044 B868     		ldr	r0, [r7, #8]
 2310 0046 FFF7FEFF 		bl	canx_send_data
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 52


 527:User/Hardware/Robstride04.c **** }
 2311              		.loc 1 527 1
 2312 004a 00BF     		nop
 2313 004c 3037     		adds	r7, r7, #48
 2314              	.LCFI87:
 2315              		.cfi_def_cfa_offset 8
 2316 004e BD46     		mov	sp, r7
 2317              	.LCFI88:
 2318              		.cfi_def_cfa_register 13
 2319              		@ sp needed
 2320 0050 80BD     		pop	{r7, pc}
 2321              		.cfi_endproc
 2322              	.LFE160:
 2324              		.section	.text.RobStride_Motor_MIT_SetZeroPos,"ax",%progbits
 2325              		.align	1
 2326              		.global	RobStride_Motor_MIT_SetZeroPos
 2327              		.syntax unified
 2328              		.thumb
 2329              		.thumb_func
 2331              	RobStride_Motor_MIT_SetZeroPos:
 2332              	.LFB161:
 528:User/Hardware/Robstride04.c **** 
 529:User/Hardware/Robstride04.c **** /*******************************************************************************
 530:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT零点设置模式
 531:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 532:User/Hardware/Robstride04.c **** *******************************************************************************/
 533:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_SetZeroPos(RobStride_Motor_t* motor, hcan_t* hcan)
 534:User/Hardware/Robstride04.c **** {
 2333              		.loc 1 534 1
 2334              		.cfi_startproc
 2335              		@ args = 0, pretend = 0, frame = 40
 2336              		@ frame_needed = 1, uses_anonymous_args = 0
 2337 0000 80B5     		push	{r7, lr}
 2338              	.LCFI89:
 2339              		.cfi_def_cfa_offset 8
 2340              		.cfi_offset 7, -8
 2341              		.cfi_offset 14, -4
 2342 0002 8AB0     		sub	sp, sp, #40
 2343              	.LCFI90:
 2344              		.cfi_def_cfa_offset 48
 2345 0004 00AF     		add	r7, sp, #0
 2346              	.LCFI91:
 2347              		.cfi_def_cfa_register 7
 2348 0006 7860     		str	r0, [r7, #4]
 2349 0008 3960     		str	r1, [r7]
 535:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 2350              		.loc 1 535 13
 2351 000a 07F12003 		add	r3, r7, #32
 2352 000e 0022     		movs	r2, #0
 2353 0010 1A60     		str	r2, [r3]
 2354 0012 5A60     		str	r2, [r3, #4]
 536:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 537:User/Hardware/Robstride04.c ****     
 538:User/Hardware/Robstride04.c ****     txMsg.StdId = motor->CAN_ID;
 2355              		.loc 1 538 24
 2356 0014 7B68     		ldr	r3, [r7, #4]
 2357 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 53


 2358              		.loc 1 538 17
 2359 0018 FB60     		str	r3, [r7, #12]
 539:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 2360              		.loc 1 539 15
 2361 001a 0023     		movs	r3, #0
 2362 001c 7B61     		str	r3, [r7, #20]
 540:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 2363              		.loc 1 540 15
 2364 001e 0023     		movs	r3, #0
 2365 0020 BB61     		str	r3, [r7, #24]
 541:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 2366              		.loc 1 541 15
 2367 0022 0823     		movs	r3, #8
 2368 0024 FB61     		str	r3, [r7, #28]
 542:User/Hardware/Robstride04.c ****     
 543:User/Hardware/Robstride04.c ****     txdata[0] = 0xFF;
 2369              		.loc 1 543 15
 2370 0026 FF23     		movs	r3, #255
 2371 0028 87F82030 		strb	r3, [r7, #32]
 544:User/Hardware/Robstride04.c ****     txdata[1] = 0xFF;
 2372              		.loc 1 544 15
 2373 002c FF23     		movs	r3, #255
 2374 002e 87F82130 		strb	r3, [r7, #33]
 545:User/Hardware/Robstride04.c ****     txdata[2] = 0xFF;
 2375              		.loc 1 545 15
 2376 0032 FF23     		movs	r3, #255
 2377 0034 87F82230 		strb	r3, [r7, #34]
 546:User/Hardware/Robstride04.c ****     txdata[3] = 0xFF;
 2378              		.loc 1 546 15
 2379 0038 FF23     		movs	r3, #255
 2380 003a 87F82330 		strb	r3, [r7, #35]
 547:User/Hardware/Robstride04.c ****     txdata[4] = 0xFF;
 2381              		.loc 1 547 15
 2382 003e FF23     		movs	r3, #255
 2383 0040 87F82430 		strb	r3, [r7, #36]
 548:User/Hardware/Robstride04.c ****     txdata[5] = 0xFF;
 2384              		.loc 1 548 15
 2385 0044 FF23     		movs	r3, #255
 2386 0046 87F82530 		strb	r3, [r7, #37]
 549:User/Hardware/Robstride04.c ****     txdata[6] = 0xFF;
 2387              		.loc 1 549 15
 2388 004a FF23     		movs	r3, #255
 2389 004c 87F82630 		strb	r3, [r7, #38]
 550:User/Hardware/Robstride04.c ****     txdata[7] = MIT_CMD_SET_ZERO;
 2390              		.loc 1 550 15
 2391 0050 FE23     		movs	r3, #254
 2392 0052 87F82730 		strb	r3, [r7, #39]
 551:User/Hardware/Robstride04.c ****     
 552:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 553:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 2393              		.loc 1 553 41
 2394 0056 FB68     		ldr	r3, [r7, #12]
 2395              		.loc 1 553 5
 2396 0058 99B2     		uxth	r1, r3
 2397 005a FB69     		ldr	r3, [r7, #28]
 2398 005c 07F12002 		add	r2, r7, #32
 2399 0060 3868     		ldr	r0, [r7]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 54


 2400 0062 FFF7FEFF 		bl	canx_send_data
 554:User/Hardware/Robstride04.c **** }
 2401              		.loc 1 554 1
 2402 0066 00BF     		nop
 2403 0068 2837     		adds	r7, r7, #40
 2404              	.LCFI92:
 2405              		.cfi_def_cfa_offset 8
 2406 006a BD46     		mov	sp, r7
 2407              	.LCFI93:
 2408              		.cfi_def_cfa_register 13
 2409              		@ sp needed
 2410 006c 80BD     		pop	{r7, pc}
 2411              		.cfi_endproc
 2412              	.LFE161:
 2414              		.section	.text.RobStride_Motor_MIT_SetProtocol,"ax",%progbits
 2415              		.align	1
 2416              		.global	RobStride_Motor_MIT_SetProtocol
 2417              		.syntax unified
 2418              		.thumb
 2419              		.thumb_func
 2421              	RobStride_Motor_MIT_SetProtocol:
 2422              	.LFB162:
 555:User/Hardware/Robstride04.c **** 
 556:User/Hardware/Robstride04.c **** /*******************************************************************************
 557:User/Hardware/Robstride04.c **** * 函数功能  : RS04 MIT设置协议类型
 558:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 559:User/Hardware/Robstride04.c **** *******************************************************************************/
 560:User/Hardware/Robstride04.c **** void RobStride_Motor_MIT_SetProtocol(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t protocol_type)
 561:User/Hardware/Robstride04.c **** {
 2423              		.loc 1 561 1
 2424              		.cfi_startproc
 2425              		@ args = 0, pretend = 0, frame = 48
 2426              		@ frame_needed = 1, uses_anonymous_args = 0
 2427 0000 80B5     		push	{r7, lr}
 2428              	.LCFI94:
 2429              		.cfi_def_cfa_offset 8
 2430              		.cfi_offset 7, -8
 2431              		.cfi_offset 14, -4
 2432 0002 8CB0     		sub	sp, sp, #48
 2433              	.LCFI95:
 2434              		.cfi_def_cfa_offset 56
 2435 0004 00AF     		add	r7, sp, #0
 2436              	.LCFI96:
 2437              		.cfi_def_cfa_register 7
 2438 0006 F860     		str	r0, [r7, #12]
 2439 0008 B960     		str	r1, [r7, #8]
 2440 000a 1346     		mov	r3, r2
 2441 000c FB71     		strb	r3, [r7, #7]
 562:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 2442              		.loc 1 562 13
 2443 000e 07F12803 		add	r3, r7, #40
 2444 0012 0022     		movs	r2, #0
 2445 0014 1A60     		str	r2, [r3]
 2446 0016 5A60     		str	r2, [r3, #4]
 563:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef txMsg;
 564:User/Hardware/Robstride04.c ****     
 565:User/Hardware/Robstride04.c ****     txMsg.StdId = motor->CAN_ID;
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 55


 2447              		.loc 1 565 24
 2448 0018 FB68     		ldr	r3, [r7, #12]
 2449 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2450              		.loc 1 565 17
 2451 001c 7B61     		str	r3, [r7, #20]
 566:User/Hardware/Robstride04.c ****     txMsg.IDE = CAN_ID_STD;
 2452              		.loc 1 566 15
 2453 001e 0023     		movs	r3, #0
 2454 0020 FB61     		str	r3, [r7, #28]
 567:User/Hardware/Robstride04.c ****     txMsg.RTR = CAN_RTR_DATA;
 2455              		.loc 1 567 15
 2456 0022 0023     		movs	r3, #0
 2457 0024 3B62     		str	r3, [r7, #32]
 568:User/Hardware/Robstride04.c ****     txMsg.DLC = 8;
 2458              		.loc 1 568 15
 2459 0026 0823     		movs	r3, #8
 2460 0028 7B62     		str	r3, [r7, #36]
 569:User/Hardware/Robstride04.c ****     
 570:User/Hardware/Robstride04.c ****     txdata[0] = 0xFF;
 2461              		.loc 1 570 15
 2462 002a FF23     		movs	r3, #255
 2463 002c 87F82830 		strb	r3, [r7, #40]
 571:User/Hardware/Robstride04.c ****     txdata[1] = 0xFF;
 2464              		.loc 1 571 15
 2465 0030 FF23     		movs	r3, #255
 2466 0032 87F82930 		strb	r3, [r7, #41]
 572:User/Hardware/Robstride04.c ****     txdata[2] = 0xFF;
 2467              		.loc 1 572 15
 2468 0036 FF23     		movs	r3, #255
 2469 0038 87F82A30 		strb	r3, [r7, #42]
 573:User/Hardware/Robstride04.c ****     txdata[3] = 0xFF;
 2470              		.loc 1 573 15
 2471 003c FF23     		movs	r3, #255
 2472 003e 87F82B30 		strb	r3, [r7, #43]
 574:User/Hardware/Robstride04.c ****     txdata[4] = 0xFF;
 2473              		.loc 1 574 15
 2474 0042 FF23     		movs	r3, #255
 2475 0044 87F82C30 		strb	r3, [r7, #44]
 575:User/Hardware/Robstride04.c ****     txdata[5] = 0xFF;
 2476              		.loc 1 575 15
 2477 0048 FF23     		movs	r3, #255
 2478 004a 87F82D30 		strb	r3, [r7, #45]
 576:User/Hardware/Robstride04.c ****     txdata[6] = protocol_type;
 2479              		.loc 1 576 15
 2480 004e FB79     		ldrb	r3, [r7, #7]
 2481 0050 87F82E30 		strb	r3, [r7, #46]
 577:User/Hardware/Robstride04.c ****     txdata[7] = MIT_CMD_SET_PROTOCOL;
 2482              		.loc 1 577 15
 2483 0054 FD23     		movs	r3, #253
 2484 0056 87F82F30 		strb	r3, [r7, #47]
 578:User/Hardware/Robstride04.c ****     
 579:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 580:User/Hardware/Robstride04.c ****     canx_send_data(hcan, (uint16_t)txMsg.StdId, txdata, txMsg.DLC);
 2485              		.loc 1 580 41
 2486 005a 7B69     		ldr	r3, [r7, #20]
 2487              		.loc 1 580 5
 2488 005c 99B2     		uxth	r1, r3
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 56


 2489 005e 7B6A     		ldr	r3, [r7, #36]
 2490 0060 07F12802 		add	r2, r7, #40
 2491 0064 B868     		ldr	r0, [r7, #8]
 2492 0066 FFF7FEFF 		bl	canx_send_data
 581:User/Hardware/Robstride04.c **** }
 2493              		.loc 1 581 1
 2494 006a 00BF     		nop
 2495 006c 3037     		adds	r7, r7, #48
 2496              	.LCFI97:
 2497              		.cfi_def_cfa_offset 8
 2498 006e BD46     		mov	sp, r7
 2499              	.LCFI98:
 2500              		.cfi_def_cfa_register 13
 2501              		@ sp needed
 2502 0070 80BD     		pop	{r7, pc}
 2503              		.cfi_endproc
 2504              	.LFE162:
 2506              		.section	.text.RobStride_Motor_Pos_control,"ax",%progbits
 2507              		.align	1
 2508              		.global	RobStride_Motor_Pos_control
 2509              		.syntax unified
 2510              		.thumb
 2511              		.thumb_func
 2513              	RobStride_Motor_Pos_control:
 2514              	.LFB163:
 582:User/Hardware/Robstride04.c **** 
 583:User/Hardware/Robstride04.c **** /*******************************************************************************
 584:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机位置模式(PP插补位置模式控制)
 585:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 586:User/Hardware/Robstride04.c **** *******************************************************************************/
 587:User/Hardware/Robstride04.c **** void RobStride_Motor_Pos_control(RobStride_Motor_t* motor, hcan_t* hcan, float Speed, float Angle)
 588:User/Hardware/Robstride04.c **** {
 2515              		.loc 1 588 1
 2516              		.cfi_startproc
 2517              		@ args = 0, pretend = 0, frame = 24
 2518              		@ frame_needed = 1, uses_anonymous_args = 0
 2519 0000 80B5     		push	{r7, lr}
 2520              	.LCFI99:
 2521              		.cfi_def_cfa_offset 8
 2522              		.cfi_offset 7, -8
 2523              		.cfi_offset 14, -4
 2524 0002 86B0     		sub	sp, sp, #24
 2525              	.LCFI100:
 2526              		.cfi_def_cfa_offset 32
 2527 0004 00AF     		add	r7, sp, #0
 2528              	.LCFI101:
 2529              		.cfi_def_cfa_register 7
 2530 0006 F860     		str	r0, [r7, #12]
 2531 0008 B960     		str	r1, [r7, #8]
 2532 000a 87ED010A 		vstr.32	s0, [r7, #4]
 2533 000e C7ED000A 		vstr.32	s1, [r7]
 589:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_speed = Speed;
 2534              		.loc 1 589 36
 2535 0012 FB68     		ldr	r3, [r7, #12]
 2536 0014 7A68     		ldr	r2, [r7, #4]	@ float
 2537 0016 DA61     		str	r2, [r3, #28]	@ float
 590:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_angle = Angle;
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 57


 2538              		.loc 1 590 36
 2539 0018 FB68     		ldr	r3, [r7, #12]
 2540 001a 3A68     		ldr	r2, [r7]	@ float
 2541 001c 9A62     		str	r2, [r3, #40]	@ float
 591:User/Hardware/Robstride04.c ****     
 592:User/Hardware/Robstride04.c ****     if (motor->drw.run_mode.data != 1)
 2542              		.loc 1 592 28
 2543 001e FB68     		ldr	r3, [r7, #12]
 2544 0020 D3ED197A 		vldr.32	s15, [r3, #100]
 2545              		.loc 1 592 8
 2546 0024 B7EE007A 		vmov.f32	s14, #1.0e+0
 2547 0028 F4EE477A 		vcmp.f32	s15, s14
 2548 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2549 0030 2DD0     		beq	.L78
 593:User/Hardware/Robstride04.c ****     {
 594:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7005, Pos_control_mode, 'j');
 2550              		.loc 1 594 9
 2551 0032 6A23     		movs	r3, #106
 2552 0034 B7EE000A 		vmov.f32	s0, #1.0e+0
 2553 0038 47F20502 		movw	r2, #28677
 2554 003c B968     		ldr	r1, [r7, #8]
 2555 003e F868     		ldr	r0, [r7, #12]
 2556 0040 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 595:User/Hardware/Robstride04.c ****         Get_RobStride_Motor_parameter(motor, hcan, 0x7005);
 2557              		.loc 1 595 9
 2558 0044 47F20502 		movw	r2, #28677
 2559 0048 B968     		ldr	r1, [r7, #8]
 2560 004a F868     		ldr	r0, [r7, #12]
 2561 004c FFF7FEFF 		bl	Get_RobStride_Motor_parameter
 596:User/Hardware/Robstride04.c ****         motor->Motor_Set_All.set_motor_mode = Pos_control_mode;
 2562              		.loc 1 596 45
 2563 0050 FB68     		ldr	r3, [r7, #12]
 2564 0052 0122     		movs	r2, #1
 2565 0054 1A75     		strb	r2, [r3, #20]
 597:User/Hardware/Robstride04.c ****         Enable_Motor(motor, hcan);
 2566              		.loc 1 597 9
 2567 0056 B968     		ldr	r1, [r7, #8]
 2568 0058 F868     		ldr	r0, [r7, #12]
 2569 005a FFF7FEFF 		bl	Enable_Motor
 598:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7024, motor->Motor_Set_All.set_limit_speed, 'p
 2570              		.loc 1 598 9
 2571 005e FB68     		ldr	r3, [r7, #12]
 2572 0060 D3ED0C7A 		vldr.32	s15, [r3, #48]
 2573 0064 7023     		movs	r3, #112
 2574 0066 B0EE670A 		vmov.f32	s0, s15
 2575 006a 47F22402 		movw	r2, #28708
 2576 006e B968     		ldr	r1, [r7, #8]
 2577 0070 F868     		ldr	r0, [r7, #12]
 2578 0072 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 599:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7025, motor->Motor_Set_All.set_acceleration, '
 2579              		.loc 1 599 9
 2580 0076 FB68     		ldr	r3, [r7, #12]
 2581 0078 D3ED087A 		vldr.32	s15, [r3, #32]
 2582 007c 7023     		movs	r3, #112
 2583 007e B0EE670A 		vmov.f32	s0, s15
 2584 0082 47F22502 		movw	r2, #28709
 2585 0086 B968     		ldr	r1, [r7, #8]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 58


 2586 0088 F868     		ldr	r0, [r7, #12]
 2587 008a FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 2588              	.L78:
 2589              	.LBB12:
 600:User/Hardware/Robstride04.c ****     }
 601:User/Hardware/Robstride04.c ****     
 602:User/Hardware/Robstride04.c ****     // 简单延时
 603:User/Hardware/Robstride04.c ****     for(uint32_t i = 0; i < 10000; i++); 
 2590              		.loc 1 603 18
 2591 008e 0023     		movs	r3, #0
 2592 0090 7B61     		str	r3, [r7, #20]
 2593              		.loc 1 603 5
 2594 0092 02E0     		b	.L79
 2595              	.L80:
 2596              		.loc 1 603 37 discriminator 3
 2597 0094 7B69     		ldr	r3, [r7, #20]
 2598 0096 0133     		adds	r3, r3, #1
 2599 0098 7B61     		str	r3, [r7, #20]
 2600              	.L79:
 2601              		.loc 1 603 27 discriminator 1
 2602 009a 7B69     		ldr	r3, [r7, #20]
 2603 009c 42F20F72 		movw	r2, #9999
 2604 00a0 9342     		cmp	r3, r2
 2605 00a2 F7D9     		bls	.L80
 2606              	.LBE12:
 604:User/Hardware/Robstride04.c ****     
 605:User/Hardware/Robstride04.c ****     Set_RobStride_Motor_parameter(motor, hcan, 0X7016, motor->Motor_Set_All.set_angle, 'p');
 2607              		.loc 1 605 5
 2608 00a4 FB68     		ldr	r3, [r7, #12]
 2609 00a6 D3ED0A7A 		vldr.32	s15, [r3, #40]
 2610 00aa 7023     		movs	r3, #112
 2611 00ac B0EE670A 		vmov.f32	s0, s15
 2612 00b0 47F21602 		movw	r2, #28694
 2613 00b4 B968     		ldr	r1, [r7, #8]
 2614 00b6 F868     		ldr	r0, [r7, #12]
 2615 00b8 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 606:User/Hardware/Robstride04.c **** }
 2616              		.loc 1 606 1
 2617 00bc 00BF     		nop
 2618 00be 1837     		adds	r7, r7, #24
 2619              	.LCFI102:
 2620              		.cfi_def_cfa_offset 8
 2621 00c0 BD46     		mov	sp, r7
 2622              	.LCFI103:
 2623              		.cfi_def_cfa_register 13
 2624              		@ sp needed
 2625 00c2 80BD     		pop	{r7, pc}
 2626              		.cfi_endproc
 2627              	.LFE163:
 2629              		.section	.text.RobStride_Motor_CSP_control,"ax",%progbits
 2630              		.align	1
 2631              		.global	RobStride_Motor_CSP_control
 2632              		.syntax unified
 2633              		.thumb
 2634              		.thumb_func
 2636              	RobStride_Motor_CSP_control:
 2637              	.LFB164:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 59


 607:User/Hardware/Robstride04.c **** 
 608:User/Hardware/Robstride04.c **** /*******************************************************************************
 609:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机位置模式(CSP位置模式控制)
 610:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 611:User/Hardware/Robstride04.c **** *******************************************************************************/
 612:User/Hardware/Robstride04.c **** void RobStride_Motor_CSP_control(RobStride_Motor_t* motor, hcan_t* hcan, float Angle, float limit_s
 613:User/Hardware/Robstride04.c **** {
 2638              		.loc 1 613 1
 2639              		.cfi_startproc
 2640              		@ args = 0, pretend = 0, frame = 24
 2641              		@ frame_needed = 1, uses_anonymous_args = 0
 2642 0000 80B5     		push	{r7, lr}
 2643              	.LCFI104:
 2644              		.cfi_def_cfa_offset 8
 2645              		.cfi_offset 7, -8
 2646              		.cfi_offset 14, -4
 2647 0002 86B0     		sub	sp, sp, #24
 2648              	.LCFI105:
 2649              		.cfi_def_cfa_offset 32
 2650 0004 00AF     		add	r7, sp, #0
 2651              	.LCFI106:
 2652              		.cfi_def_cfa_register 7
 2653 0006 F860     		str	r0, [r7, #12]
 2654 0008 B960     		str	r1, [r7, #8]
 2655 000a 87ED010A 		vstr.32	s0, [r7, #4]
 2656 000e C7ED000A 		vstr.32	s1, [r7]
 614:User/Hardware/Robstride04.c ****     if (motor->MIT_Mode)
 2657              		.loc 1 614 14
 2658 0012 FB68     		ldr	r3, [r7, #12]
 2659 0014 93F84130 		ldrb	r3, [r3, #65]	@ zero_extendqisi2
 2660              		.loc 1 614 8
 2661 0018 002B     		cmp	r3, #0
 2662 001a 08D0     		beq	.L82
 615:User/Hardware/Robstride04.c ****     {
 616:User/Hardware/Robstride04.c ****         RobStride_Motor_MIT_PositionControl(motor, hcan, Angle, limit_spd);
 2663              		.loc 1 616 9
 2664 001c D7ED000A 		vldr.32	s1, [r7]
 2665 0020 97ED010A 		vldr.32	s0, [r7, #4]
 2666 0024 B968     		ldr	r1, [r7, #8]
 2667 0026 F868     		ldr	r0, [r7, #12]
 2668 0028 FFF7FEFF 		bl	RobStride_Motor_MIT_PositionControl
 617:User/Hardware/Robstride04.c ****     }
 618:User/Hardware/Robstride04.c ****     else
 619:User/Hardware/Robstride04.c ****     {
 620:User/Hardware/Robstride04.c ****         motor->Motor_Set_All.set_angle = Angle;
 621:User/Hardware/Robstride04.c ****         motor->Motor_Set_All.set_limit_speed = limit_spd;
 622:User/Hardware/Robstride04.c ****         
 623:User/Hardware/Robstride04.c ****         if (motor->drw.run_mode.data != 1)
 624:User/Hardware/Robstride04.c ****         {
 625:User/Hardware/Robstride04.c ****             Set_RobStride_Motor_parameter(motor, hcan, 0X7005, CSP_control_mode, 'j');
 626:User/Hardware/Robstride04.c ****             Get_RobStride_Motor_parameter(motor, hcan, 0x7005);
 627:User/Hardware/Robstride04.c ****             Enable_Motor(motor, hcan);
 628:User/Hardware/Robstride04.c ****             Set_RobStride_Motor_parameter(motor, hcan, 0X7017, motor->Motor_Set_All.set_limit_speed
 629:User/Hardware/Robstride04.c ****         }
 630:User/Hardware/Robstride04.c ****         
 631:User/Hardware/Robstride04.c ****         // 简单延时
 632:User/Hardware/Robstride04.c ****         for(uint32_t i = 0; i < 10000; i++); 
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 60


 633:User/Hardware/Robstride04.c ****         
 634:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7016, motor->Motor_Set_All.set_angle, 'p');
 635:User/Hardware/Robstride04.c ****     }
 636:User/Hardware/Robstride04.c **** }
 2669              		.loc 1 636 1
 2670 002c 45E0     		b	.L87
 2671              	.L82:
 620:User/Hardware/Robstride04.c ****         motor->Motor_Set_All.set_limit_speed = limit_spd;
 2672              		.loc 1 620 40
 2673 002e FB68     		ldr	r3, [r7, #12]
 2674 0030 7A68     		ldr	r2, [r7, #4]	@ float
 2675 0032 9A62     		str	r2, [r3, #40]	@ float
 621:User/Hardware/Robstride04.c ****         
 2676              		.loc 1 621 46
 2677 0034 FB68     		ldr	r3, [r7, #12]
 2678 0036 3A68     		ldr	r2, [r7]	@ float
 2679 0038 1A63     		str	r2, [r3, #48]	@ float
 623:User/Hardware/Robstride04.c ****         {
 2680              		.loc 1 623 32
 2681 003a FB68     		ldr	r3, [r7, #12]
 2682 003c D3ED197A 		vldr.32	s15, [r3, #100]
 623:User/Hardware/Robstride04.c ****         {
 2683              		.loc 1 623 12
 2684 0040 B7EE007A 		vmov.f32	s14, #1.0e+0
 2685 0044 F4EE477A 		vcmp.f32	s15, s14
 2686 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2687 004c 1ED0     		beq	.L84
 625:User/Hardware/Robstride04.c ****             Get_RobStride_Motor_parameter(motor, hcan, 0x7005);
 2688              		.loc 1 625 13
 2689 004e 6A23     		movs	r3, #106
 2690 0050 B1EE040A 		vmov.f32	s0, #5.0e+0
 2691 0054 47F20502 		movw	r2, #28677
 2692 0058 B968     		ldr	r1, [r7, #8]
 2693 005a F868     		ldr	r0, [r7, #12]
 2694 005c FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 626:User/Hardware/Robstride04.c ****             Enable_Motor(motor, hcan);
 2695              		.loc 1 626 13
 2696 0060 47F20502 		movw	r2, #28677
 2697 0064 B968     		ldr	r1, [r7, #8]
 2698 0066 F868     		ldr	r0, [r7, #12]
 2699 0068 FFF7FEFF 		bl	Get_RobStride_Motor_parameter
 627:User/Hardware/Robstride04.c ****             Set_RobStride_Motor_parameter(motor, hcan, 0X7017, motor->Motor_Set_All.set_limit_speed
 2700              		.loc 1 627 13
 2701 006c B968     		ldr	r1, [r7, #8]
 2702 006e F868     		ldr	r0, [r7, #12]
 2703 0070 FFF7FEFF 		bl	Enable_Motor
 628:User/Hardware/Robstride04.c ****         }
 2704              		.loc 1 628 13
 2705 0074 FB68     		ldr	r3, [r7, #12]
 2706 0076 D3ED0C7A 		vldr.32	s15, [r3, #48]
 2707 007a 7023     		movs	r3, #112
 2708 007c B0EE670A 		vmov.f32	s0, s15
 2709 0080 47F21702 		movw	r2, #28695
 2710 0084 B968     		ldr	r1, [r7, #8]
 2711 0086 F868     		ldr	r0, [r7, #12]
 2712 0088 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 2713              	.L84:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 61


 2714              	.LBB13:
 632:User/Hardware/Robstride04.c ****         
 2715              		.loc 1 632 22
 2716 008c 0023     		movs	r3, #0
 2717 008e 7B61     		str	r3, [r7, #20]
 632:User/Hardware/Robstride04.c ****         
 2718              		.loc 1 632 9
 2719 0090 02E0     		b	.L85
 2720              	.L86:
 632:User/Hardware/Robstride04.c ****         
 2721              		.loc 1 632 41 discriminator 3
 2722 0092 7B69     		ldr	r3, [r7, #20]
 2723 0094 0133     		adds	r3, r3, #1
 2724 0096 7B61     		str	r3, [r7, #20]
 2725              	.L85:
 632:User/Hardware/Robstride04.c ****         
 2726              		.loc 1 632 31 discriminator 1
 2727 0098 7B69     		ldr	r3, [r7, #20]
 2728 009a 42F20F72 		movw	r2, #9999
 2729 009e 9342     		cmp	r3, r2
 2730 00a0 F7D9     		bls	.L86
 2731              	.LBE13:
 634:User/Hardware/Robstride04.c ****     }
 2732              		.loc 1 634 9
 2733 00a2 FB68     		ldr	r3, [r7, #12]
 2734 00a4 D3ED0A7A 		vldr.32	s15, [r3, #40]
 2735 00a8 7023     		movs	r3, #112
 2736 00aa B0EE670A 		vmov.f32	s0, s15
 2737 00ae 47F21602 		movw	r2, #28694
 2738 00b2 B968     		ldr	r1, [r7, #8]
 2739 00b4 F868     		ldr	r0, [r7, #12]
 2740 00b6 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 2741              	.L87:
 2742              		.loc 1 636 1
 2743 00ba 00BF     		nop
 2744 00bc 1837     		adds	r7, r7, #24
 2745              	.LCFI107:
 2746              		.cfi_def_cfa_offset 8
 2747 00be BD46     		mov	sp, r7
 2748              	.LCFI108:
 2749              		.cfi_def_cfa_register 13
 2750              		@ sp needed
 2751 00c0 80BD     		pop	{r7, pc}
 2752              		.cfi_endproc
 2753              	.LFE164:
 2755              		.section	.text.RobStride_Motor_Speed_control,"ax",%progbits
 2756              		.align	1
 2757              		.global	RobStride_Motor_Speed_control
 2758              		.syntax unified
 2759              		.thumb
 2760              		.thumb_func
 2762              	RobStride_Motor_Speed_control:
 2763              	.LFB165:
 637:User/Hardware/Robstride04.c **** 
 638:User/Hardware/Robstride04.c **** /*******************************************************************************
 639:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机速度模式
 640:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 62


 641:User/Hardware/Robstride04.c **** *******************************************************************************/
 642:User/Hardware/Robstride04.c **** void RobStride_Motor_Speed_control(RobStride_Motor_t* motor, hcan_t* hcan, float Speed, float limit
 643:User/Hardware/Robstride04.c **** {
 2764              		.loc 1 643 1
 2765              		.cfi_startproc
 2766              		@ args = 0, pretend = 0, frame = 16
 2767              		@ frame_needed = 1, uses_anonymous_args = 0
 2768 0000 80B5     		push	{r7, lr}
 2769              	.LCFI109:
 2770              		.cfi_def_cfa_offset 8
 2771              		.cfi_offset 7, -8
 2772              		.cfi_offset 14, -4
 2773 0002 84B0     		sub	sp, sp, #16
 2774              	.LCFI110:
 2775              		.cfi_def_cfa_offset 24
 2776 0004 00AF     		add	r7, sp, #0
 2777              	.LCFI111:
 2778              		.cfi_def_cfa_register 7
 2779 0006 F860     		str	r0, [r7, #12]
 2780 0008 B960     		str	r1, [r7, #8]
 2781 000a 87ED010A 		vstr.32	s0, [r7, #4]
 2782 000e C7ED000A 		vstr.32	s1, [r7]
 644:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_speed = Speed;
 2783              		.loc 1 644 36
 2784 0012 FB68     		ldr	r3, [r7, #12]
 2785 0014 7A68     		ldr	r2, [r7, #4]	@ float
 2786 0016 DA61     		str	r2, [r3, #28]	@ float
 645:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_limit_cur = limit_cur;
 2787              		.loc 1 645 40
 2788 0018 FB68     		ldr	r3, [r7, #12]
 2789 001a 3A68     		ldr	r2, [r7]	@ float
 2790 001c DA62     		str	r2, [r3, #44]	@ float
 646:User/Hardware/Robstride04.c ****     
 647:User/Hardware/Robstride04.c ****     if (motor->drw.run_mode.data != 2)
 2791              		.loc 1 647 28
 2792 001e FB68     		ldr	r3, [r7, #12]
 2793 0020 D3ED197A 		vldr.32	s15, [r3, #100]
 2794              		.loc 1 647 8
 2795 0024 B0EE007A 		vmov.f32	s14, #2.0e+0
 2796 0028 F4EE477A 		vcmp.f32	s15, s14
 2797 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2798 0030 2AD0     		beq	.L89
 648:User/Hardware/Robstride04.c ****     {
 649:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7005, Speed_control_mode, 'j');
 2799              		.loc 1 649 9
 2800 0032 6A23     		movs	r3, #106
 2801 0034 B0EE000A 		vmov.f32	s0, #2.0e+0
 2802 0038 47F20502 		movw	r2, #28677
 2803 003c B968     		ldr	r1, [r7, #8]
 2804 003e F868     		ldr	r0, [r7, #12]
 2805 0040 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 650:User/Hardware/Robstride04.c ****         Get_RobStride_Motor_parameter(motor, hcan, 0x7005);
 2806              		.loc 1 650 9
 2807 0044 47F20502 		movw	r2, #28677
 2808 0048 B968     		ldr	r1, [r7, #8]
 2809 004a F868     		ldr	r0, [r7, #12]
 2810 004c FFF7FEFF 		bl	Get_RobStride_Motor_parameter
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 63


 651:User/Hardware/Robstride04.c ****         Enable_Motor(motor, hcan);
 2811              		.loc 1 651 9
 2812 0050 B968     		ldr	r1, [r7, #8]
 2813 0052 F868     		ldr	r0, [r7, #12]
 2814 0054 FFF7FEFF 		bl	Enable_Motor
 652:User/Hardware/Robstride04.c ****         motor->Motor_Set_All.set_motor_mode = Speed_control_mode;
 2815              		.loc 1 652 45
 2816 0058 FB68     		ldr	r3, [r7, #12]
 2817 005a 0222     		movs	r2, #2
 2818 005c 1A75     		strb	r2, [r3, #20]
 653:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7018, motor->Motor_Set_All.set_limit_cur, 'p')
 2819              		.loc 1 653 9
 2820 005e FB68     		ldr	r3, [r7, #12]
 2821 0060 D3ED0B7A 		vldr.32	s15, [r3, #44]
 2822 0064 7023     		movs	r3, #112
 2823 0066 B0EE670A 		vmov.f32	s0, s15
 2824 006a 47F21802 		movw	r2, #28696
 2825 006e B968     		ldr	r1, [r7, #8]
 2826 0070 F868     		ldr	r0, [r7, #12]
 2827 0072 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 654:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7022, 10, 'p');
 2828              		.loc 1 654 9
 2829 0076 7023     		movs	r3, #112
 2830 0078 B2EE040A 		vmov.f32	s0, #1.0e+1
 2831 007c 47F22202 		movw	r2, #28706
 2832 0080 B968     		ldr	r1, [r7, #8]
 2833 0082 F868     		ldr	r0, [r7, #12]
 2834 0084 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 2835              	.L89:
 655:User/Hardware/Robstride04.c ****     }
 656:User/Hardware/Robstride04.c ****     
 657:User/Hardware/Robstride04.c ****     Set_RobStride_Motor_parameter(motor, hcan, 0X700A, motor->Motor_Set_All.set_speed, 'p');
 2836              		.loc 1 657 5
 2837 0088 FB68     		ldr	r3, [r7, #12]
 2838 008a D3ED077A 		vldr.32	s15, [r3, #28]
 2839 008e 7023     		movs	r3, #112
 2840 0090 B0EE670A 		vmov.f32	s0, s15
 2841 0094 47F20A02 		movw	r2, #28682
 2842 0098 B968     		ldr	r1, [r7, #8]
 2843 009a F868     		ldr	r0, [r7, #12]
 2844 009c FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 658:User/Hardware/Robstride04.c **** }
 2845              		.loc 1 658 1
 2846 00a0 00BF     		nop
 2847 00a2 1037     		adds	r7, r7, #16
 2848              	.LCFI112:
 2849              		.cfi_def_cfa_offset 8
 2850 00a4 BD46     		mov	sp, r7
 2851              	.LCFI113:
 2852              		.cfi_def_cfa_register 13
 2853              		@ sp needed
 2854 00a6 80BD     		pop	{r7, pc}
 2855              		.cfi_endproc
 2856              	.LFE165:
 2858              		.section	.text.RobStride_Motor_current_control,"ax",%progbits
 2859              		.align	1
 2860              		.global	RobStride_Motor_current_control
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 64


 2861              		.syntax unified
 2862              		.thumb
 2863              		.thumb_func
 2865              	RobStride_Motor_current_control:
 2866              	.LFB166:
 659:User/Hardware/Robstride04.c **** 
 660:User/Hardware/Robstride04.c **** /*******************************************************************************
 661:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机电流模式
 662:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 663:User/Hardware/Robstride04.c **** *******************************************************************************/
 664:User/Hardware/Robstride04.c **** void RobStride_Motor_current_control(RobStride_Motor_t* motor, hcan_t* hcan, float current)
 665:User/Hardware/Robstride04.c **** {
 2867              		.loc 1 665 1
 2868              		.cfi_startproc
 2869              		@ args = 0, pretend = 0, frame = 16
 2870              		@ frame_needed = 1, uses_anonymous_args = 0
 2871 0000 80B5     		push	{r7, lr}
 2872              	.LCFI114:
 2873              		.cfi_def_cfa_offset 8
 2874              		.cfi_offset 7, -8
 2875              		.cfi_offset 14, -4
 2876 0002 84B0     		sub	sp, sp, #16
 2877              	.LCFI115:
 2878              		.cfi_def_cfa_offset 24
 2879 0004 00AF     		add	r7, sp, #0
 2880              	.LCFI116:
 2881              		.cfi_def_cfa_register 7
 2882 0006 F860     		str	r0, [r7, #12]
 2883 0008 B960     		str	r1, [r7, #8]
 2884 000a 87ED010A 		vstr.32	s0, [r7, #4]
 666:User/Hardware/Robstride04.c ****     motor->Motor_Set_All.set_current = current;
 2885              		.loc 1 666 38
 2886 000e FB68     		ldr	r3, [r7, #12]
 2887 0010 7A68     		ldr	r2, [r7, #4]	@ float
 2888 0012 9A61     		str	r2, [r3, #24]	@ float
 667:User/Hardware/Robstride04.c ****     motor->output = motor->Motor_Set_All.set_current;
 2889              		.loc 1 667 41
 2890 0014 FB68     		ldr	r3, [r7, #12]
 2891 0016 9A69     		ldr	r2, [r3, #24]	@ float
 2892              		.loc 1 667 19
 2893 0018 FB68     		ldr	r3, [r7, #12]
 2894 001a 5A64     		str	r2, [r3, #68]	@ float
 668:User/Hardware/Robstride04.c ****     
 669:User/Hardware/Robstride04.c ****     if (motor->Motor_Set_All.set_motor_mode != 3)
 2895              		.loc 1 669 29
 2896 001c FB68     		ldr	r3, [r7, #12]
 2897 001e 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 2898              		.loc 1 669 8
 2899 0020 032B     		cmp	r3, #3
 2900 0022 15D0     		beq	.L91
 670:User/Hardware/Robstride04.c ****     {
 671:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7005, Elect_control_mode, 'j');
 2901              		.loc 1 671 9
 2902 0024 6A23     		movs	r3, #106
 2903 0026 B0EE080A 		vmov.f32	s0, #3.0e+0
 2904 002a 47F20502 		movw	r2, #28677
 2905 002e B968     		ldr	r1, [r7, #8]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 65


 2906 0030 F868     		ldr	r0, [r7, #12]
 2907 0032 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 672:User/Hardware/Robstride04.c ****         Get_RobStride_Motor_parameter(motor, hcan, 0x7005);
 2908              		.loc 1 672 9
 2909 0036 47F20502 		movw	r2, #28677
 2910 003a B968     		ldr	r1, [r7, #8]
 2911 003c F868     		ldr	r0, [r7, #12]
 2912 003e FFF7FEFF 		bl	Get_RobStride_Motor_parameter
 673:User/Hardware/Robstride04.c ****         motor->Motor_Set_All.set_motor_mode = Elect_control_mode;
 2913              		.loc 1 673 45
 2914 0042 FB68     		ldr	r3, [r7, #12]
 2915 0044 0322     		movs	r2, #3
 2916 0046 1A75     		strb	r2, [r3, #20]
 674:User/Hardware/Robstride04.c ****         Enable_Motor(motor, hcan);
 2917              		.loc 1 674 9
 2918 0048 B968     		ldr	r1, [r7, #8]
 2919 004a F868     		ldr	r0, [r7, #12]
 2920 004c FFF7FEFF 		bl	Enable_Motor
 2921              	.L91:
 675:User/Hardware/Robstride04.c ****     }
 676:User/Hardware/Robstride04.c ****     
 677:User/Hardware/Robstride04.c ****     Set_RobStride_Motor_parameter(motor, hcan, 0X7006, motor->Motor_Set_All.set_current, 'p');
 2922              		.loc 1 677 5
 2923 0050 FB68     		ldr	r3, [r7, #12]
 2924 0052 D3ED067A 		vldr.32	s15, [r3, #24]
 2925 0056 7023     		movs	r3, #112
 2926 0058 B0EE670A 		vmov.f32	s0, s15
 2927 005c 47F20602 		movw	r2, #28678
 2928 0060 B968     		ldr	r1, [r7, #8]
 2929 0062 F868     		ldr	r0, [r7, #12]
 2930 0064 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 678:User/Hardware/Robstride04.c **** }
 2931              		.loc 1 678 1
 2932 0068 00BF     		nop
 2933 006a 1037     		adds	r7, r7, #16
 2934              	.LCFI117:
 2935              		.cfi_def_cfa_offset 8
 2936 006c BD46     		mov	sp, r7
 2937              	.LCFI118:
 2938              		.cfi_def_cfa_register 13
 2939              		@ sp needed
 2940 006e 80BD     		pop	{r7, pc}
 2941              		.cfi_endproc
 2942              	.LFE166:
 2944              		.section	.text.RobStride_Motor_Set_Zero_control,"ax",%progbits
 2945              		.align	1
 2946              		.global	RobStride_Motor_Set_Zero_control
 2947              		.syntax unified
 2948              		.thumb
 2949              		.thumb_func
 2951              	RobStride_Motor_Set_Zero_control:
 2952              	.LFB167:
 679:User/Hardware/Robstride04.c **** 
 680:User/Hardware/Robstride04.c **** /*******************************************************************************
 681:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机零点模式
 682:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 683:User/Hardware/Robstride04.c **** *******************************************************************************/
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 66


 684:User/Hardware/Robstride04.c **** void RobStride_Motor_Set_Zero_control(RobStride_Motor_t* motor, hcan_t* hcan)
 685:User/Hardware/Robstride04.c **** {
 2953              		.loc 1 685 1
 2954              		.cfi_startproc
 2955              		@ args = 0, pretend = 0, frame = 8
 2956              		@ frame_needed = 1, uses_anonymous_args = 0
 2957 0000 80B5     		push	{r7, lr}
 2958              	.LCFI119:
 2959              		.cfi_def_cfa_offset 8
 2960              		.cfi_offset 7, -8
 2961              		.cfi_offset 14, -4
 2962 0002 82B0     		sub	sp, sp, #8
 2963              	.LCFI120:
 2964              		.cfi_def_cfa_offset 16
 2965 0004 00AF     		add	r7, sp, #0
 2966              	.LCFI121:
 2967              		.cfi_def_cfa_register 7
 2968 0006 7860     		str	r0, [r7, #4]
 2969 0008 3960     		str	r1, [r7]
 686:User/Hardware/Robstride04.c ****     Set_RobStride_Motor_parameter(motor, hcan, 0X7005, Set_Zero_mode, 'j');
 2970              		.loc 1 686 5
 2971 000a 6A23     		movs	r3, #106
 2972 000c B1EE000A 		vmov.f32	s0, #4.0e+0
 2973 0010 47F20502 		movw	r2, #28677
 2974 0014 3968     		ldr	r1, [r7]
 2975 0016 7868     		ldr	r0, [r7, #4]
 2976 0018 FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 687:User/Hardware/Robstride04.c **** }
 2977              		.loc 1 687 1
 2978 001c 00BF     		nop
 2979 001e 0837     		adds	r7, r7, #8
 2980              	.LCFI122:
 2981              		.cfi_def_cfa_offset 8
 2982 0020 BD46     		mov	sp, r7
 2983              	.LCFI123:
 2984              		.cfi_def_cfa_register 13
 2985              		@ sp needed
 2986 0022 80BD     		pop	{r7, pc}
 2987              		.cfi_endproc
 2988              	.LFE167:
 2990              		.section	.text.Enable_Motor,"ax",%progbits
 2991              		.align	1
 2992              		.global	Enable_Motor
 2993              		.syntax unified
 2994              		.thumb
 2995              		.thumb_func
 2997              	Enable_Motor:
 2998              	.LFB168:
 688:User/Hardware/Robstride04.c **** 
 689:User/Hardware/Robstride04.c **** /*******************************************************************************
 690:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机使能
 691:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 692:User/Hardware/Robstride04.c **** *******************************************************************************/
 693:User/Hardware/Robstride04.c **** void Enable_Motor(RobStride_Motor_t* motor, hcan_t* hcan)
 694:User/Hardware/Robstride04.c **** {
 2999              		.loc 1 694 1
 3000              		.cfi_startproc
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 67


 3001              		@ args = 0, pretend = 0, frame = 40
 3002              		@ frame_needed = 1, uses_anonymous_args = 0
 3003 0000 80B5     		push	{r7, lr}
 3004              	.LCFI124:
 3005              		.cfi_def_cfa_offset 8
 3006              		.cfi_offset 7, -8
 3007              		.cfi_offset 14, -4
 3008 0002 8AB0     		sub	sp, sp, #40
 3009              	.LCFI125:
 3010              		.cfi_def_cfa_offset 48
 3011 0004 00AF     		add	r7, sp, #0
 3012              	.LCFI126:
 3013              		.cfi_def_cfa_register 7
 3014 0006 7860     		str	r0, [r7, #4]
 3015 0008 3960     		str	r1, [r7]
 695:User/Hardware/Robstride04.c ****     if (motor->MIT_Mode)
 3016              		.loc 1 695 14
 3017 000a 7B68     		ldr	r3, [r7, #4]
 3018 000c 93F84130 		ldrb	r3, [r3, #65]	@ zero_extendqisi2
 3019              		.loc 1 695 8
 3020 0010 002B     		cmp	r3, #0
 3021 0012 04D0     		beq	.L94
 696:User/Hardware/Robstride04.c ****     {
 697:User/Hardware/Robstride04.c ****         RobStride_Motor_MIT_Enable(motor, hcan);
 3022              		.loc 1 697 9
 3023 0014 3968     		ldr	r1, [r7]
 3024 0016 7868     		ldr	r0, [r7, #4]
 3025 0018 FFF7FEFF 		bl	RobStride_Motor_MIT_Enable
 698:User/Hardware/Robstride04.c ****     }
 699:User/Hardware/Robstride04.c ****     else
 700:User/Hardware/Robstride04.c ****     {
 701:User/Hardware/Robstride04.c ****         uint8_t txdata[8] = {0};
 702:User/Hardware/Robstride04.c ****         CAN_TxHeaderTypeDef TxMessage;
 703:User/Hardware/Robstride04.c ****         
 704:User/Hardware/Robstride04.c ****         TxMessage.IDE = CAN_ID_EXT;
 705:User/Hardware/Robstride04.c ****         TxMessage.RTR = CAN_RTR_DATA;
 706:User/Hardware/Robstride04.c ****         TxMessage.DLC = 8;
 707:User/Hardware/Robstride04.c ****         TxMessage.ExtId = (uint32_t)Communication_Type_MotorEnable << 24 | 
 708:User/Hardware/Robstride04.c ****                           (uint32_t)motor->Master_CAN_ID << 8 | 
 709:User/Hardware/Robstride04.c ****                           motor->CAN_ID;
 710:User/Hardware/Robstride04.c ****         
 711:User/Hardware/Robstride04.c ****         // 替换为hcan参数
 712:User/Hardware/Robstride04.c ****         canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 713:User/Hardware/Robstride04.c ****     }
 714:User/Hardware/Robstride04.c **** }
 3026              		.loc 1 714 1
 3027 001c 1AE0     		b	.L96
 3028              	.L94:
 3029              	.LBB14:
 701:User/Hardware/Robstride04.c ****         CAN_TxHeaderTypeDef TxMessage;
 3030              		.loc 1 701 17
 3031 001e 07F12003 		add	r3, r7, #32
 3032 0022 0022     		movs	r2, #0
 3033 0024 1A60     		str	r2, [r3]
 3034 0026 5A60     		str	r2, [r3, #4]
 704:User/Hardware/Robstride04.c ****         TxMessage.RTR = CAN_RTR_DATA;
 3035              		.loc 1 704 23
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 68


 3036 0028 0123     		movs	r3, #1
 3037 002a 7B61     		str	r3, [r7, #20]
 705:User/Hardware/Robstride04.c ****         TxMessage.DLC = 8;
 3038              		.loc 1 705 23
 3039 002c 0023     		movs	r3, #0
 3040 002e BB61     		str	r3, [r7, #24]
 706:User/Hardware/Robstride04.c ****         TxMessage.ExtId = (uint32_t)Communication_Type_MotorEnable << 24 | 
 3041              		.loc 1 706 23
 3042 0030 0823     		movs	r3, #8
 3043 0032 FB61     		str	r3, [r7, #28]
 708:User/Hardware/Robstride04.c ****                           motor->CAN_ID;
 3044              		.loc 1 708 42
 3045 0034 7B68     		ldr	r3, [r7, #4]
 3046 0036 1B8A     		ldrh	r3, [r3, #16]
 708:User/Hardware/Robstride04.c ****                           motor->CAN_ID;
 3047              		.loc 1 708 58
 3048 0038 1B02     		lsls	r3, r3, #8
 709:User/Hardware/Robstride04.c ****         
 3049              		.loc 1 709 32
 3050 003a 7A68     		ldr	r2, [r7, #4]
 3051 003c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 708:User/Hardware/Robstride04.c ****                           motor->CAN_ID;
 3052              		.loc 1 708 63
 3053 003e 1343     		orrs	r3, r3, r2
 3054 0040 43F04073 		orr	r3, r3, #50331648
 707:User/Hardware/Robstride04.c ****                           (uint32_t)motor->Master_CAN_ID << 8 | 
 3055              		.loc 1 707 25
 3056 0044 3B61     		str	r3, [r7, #16]
 712:User/Hardware/Robstride04.c ****     }
 3057              		.loc 1 712 9
 3058 0046 3969     		ldr	r1, [r7, #16]
 3059 0048 FB69     		ldr	r3, [r7, #28]
 3060 004a 07F12002 		add	r2, r7, #32
 3061 004e 3868     		ldr	r0, [r7]
 3062 0050 FFF7FEFF 		bl	canx_send_ext_data
 3063              	.L96:
 3064              	.LBE14:
 3065              		.loc 1 714 1
 3066 0054 00BF     		nop
 3067 0056 2837     		adds	r7, r7, #40
 3068              	.LCFI127:
 3069              		.cfi_def_cfa_offset 8
 3070 0058 BD46     		mov	sp, r7
 3071              	.LCFI128:
 3072              		.cfi_def_cfa_register 13
 3073              		@ sp needed
 3074 005a 80BD     		pop	{r7, pc}
 3075              		.cfi_endproc
 3076              	.LFE168:
 3078              		.section	.text.Disenable_Motor,"ax",%progbits
 3079              		.align	1
 3080              		.global	Disenable_Motor
 3081              		.syntax unified
 3082              		.thumb
 3083              		.thumb_func
 3085              	Disenable_Motor:
 3086              	.LFB169:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 69


 715:User/Hardware/Robstride04.c **** 
 716:User/Hardware/Robstride04.c **** /*******************************************************************************
 717:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机失能
 718:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 719:User/Hardware/Robstride04.c **** *******************************************************************************/
 720:User/Hardware/Robstride04.c **** void Disenable_Motor(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t clear_error)
 721:User/Hardware/Robstride04.c **** {
 3087              		.loc 1 721 1
 3088              		.cfi_startproc
 3089              		@ args = 0, pretend = 0, frame = 48
 3090              		@ frame_needed = 1, uses_anonymous_args = 0
 3091 0000 80B5     		push	{r7, lr}
 3092              	.LCFI129:
 3093              		.cfi_def_cfa_offset 8
 3094              		.cfi_offset 7, -8
 3095              		.cfi_offset 14, -4
 3096 0002 8CB0     		sub	sp, sp, #48
 3097              	.LCFI130:
 3098              		.cfi_def_cfa_offset 56
 3099 0004 00AF     		add	r7, sp, #0
 3100              	.LCFI131:
 3101              		.cfi_def_cfa_register 7
 3102 0006 F860     		str	r0, [r7, #12]
 3103 0008 B960     		str	r1, [r7, #8]
 3104 000a 1346     		mov	r3, r2
 3105 000c FB71     		strb	r3, [r7, #7]
 722:User/Hardware/Robstride04.c ****     if (motor->MIT_Mode)
 3106              		.loc 1 722 14
 3107 000e FB68     		ldr	r3, [r7, #12]
 3108 0010 93F84130 		ldrb	r3, [r3, #65]	@ zero_extendqisi2
 3109              		.loc 1 722 8
 3110 0014 002B     		cmp	r3, #0
 3111 0016 04D0     		beq	.L98
 723:User/Hardware/Robstride04.c ****     {
 724:User/Hardware/Robstride04.c ****         RobStride_Motor_MIT_Disable(motor, hcan);
 3112              		.loc 1 724 9
 3113 0018 B968     		ldr	r1, [r7, #8]
 3114 001a F868     		ldr	r0, [r7, #12]
 3115 001c FFF7FEFF 		bl	RobStride_Motor_MIT_Disable
 725:User/Hardware/Robstride04.c ****     }
 726:User/Hardware/Robstride04.c ****     else
 727:User/Hardware/Robstride04.c ****     {
 728:User/Hardware/Robstride04.c ****         uint8_t txdata[8] = {0};
 729:User/Hardware/Robstride04.c ****         CAN_TxHeaderTypeDef TxMessage;
 730:User/Hardware/Robstride04.c ****         
 731:User/Hardware/Robstride04.c ****         txdata[0] = clear_error;
 732:User/Hardware/Robstride04.c ****         TxMessage.IDE = CAN_ID_EXT;
 733:User/Hardware/Robstride04.c ****         TxMessage.RTR = CAN_RTR_DATA;
 734:User/Hardware/Robstride04.c ****         TxMessage.DLC = 8;
 735:User/Hardware/Robstride04.c ****         TxMessage.ExtId = (uint32_t)Communication_Type_MotorStop << 24 | 
 736:User/Hardware/Robstride04.c ****                           (uint32_t)motor->Master_CAN_ID << 8 | 
 737:User/Hardware/Robstride04.c ****                           motor->CAN_ID;
 738:User/Hardware/Robstride04.c ****         
 739:User/Hardware/Robstride04.c ****         // 替换为hcan参数
 740:User/Hardware/Robstride04.c ****         canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 741:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7005, move_control_mode, 'j');
 742:User/Hardware/Robstride04.c ****     }
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 70


 743:User/Hardware/Robstride04.c **** }
 3116              		.loc 1 743 1
 3117 0020 26E0     		b	.L100
 3118              	.L98:
 3119              	.LBB15:
 728:User/Hardware/Robstride04.c ****         CAN_TxHeaderTypeDef TxMessage;
 3120              		.loc 1 728 17
 3121 0022 07F12803 		add	r3, r7, #40
 3122 0026 0022     		movs	r2, #0
 3123 0028 1A60     		str	r2, [r3]
 3124 002a 5A60     		str	r2, [r3, #4]
 731:User/Hardware/Robstride04.c ****         TxMessage.IDE = CAN_ID_EXT;
 3125              		.loc 1 731 19
 3126 002c FB79     		ldrb	r3, [r7, #7]
 3127 002e 87F82830 		strb	r3, [r7, #40]
 732:User/Hardware/Robstride04.c ****         TxMessage.RTR = CAN_RTR_DATA;
 3128              		.loc 1 732 23
 3129 0032 0123     		movs	r3, #1
 3130 0034 FB61     		str	r3, [r7, #28]
 733:User/Hardware/Robstride04.c ****         TxMessage.DLC = 8;
 3131              		.loc 1 733 23
 3132 0036 0023     		movs	r3, #0
 3133 0038 3B62     		str	r3, [r7, #32]
 734:User/Hardware/Robstride04.c ****         TxMessage.ExtId = (uint32_t)Communication_Type_MotorStop << 24 | 
 3134              		.loc 1 734 23
 3135 003a 0823     		movs	r3, #8
 3136 003c 7B62     		str	r3, [r7, #36]
 736:User/Hardware/Robstride04.c ****                           motor->CAN_ID;
 3137              		.loc 1 736 42
 3138 003e FB68     		ldr	r3, [r7, #12]
 3139 0040 1B8A     		ldrh	r3, [r3, #16]
 736:User/Hardware/Robstride04.c ****                           motor->CAN_ID;
 3140              		.loc 1 736 58
 3141 0042 1B02     		lsls	r3, r3, #8
 737:User/Hardware/Robstride04.c ****         
 3142              		.loc 1 737 32
 3143 0044 FA68     		ldr	r2, [r7, #12]
 3144 0046 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 736:User/Hardware/Robstride04.c ****                           motor->CAN_ID;
 3145              		.loc 1 736 63
 3146 0048 1343     		orrs	r3, r3, r2
 3147 004a 43F08063 		orr	r3, r3, #67108864
 735:User/Hardware/Robstride04.c ****                           (uint32_t)motor->Master_CAN_ID << 8 | 
 3148              		.loc 1 735 25
 3149 004e BB61     		str	r3, [r7, #24]
 740:User/Hardware/Robstride04.c ****         Set_RobStride_Motor_parameter(motor, hcan, 0X7005, move_control_mode, 'j');
 3150              		.loc 1 740 9
 3151 0050 B969     		ldr	r1, [r7, #24]
 3152 0052 7B6A     		ldr	r3, [r7, #36]
 3153 0054 07F12802 		add	r2, r7, #40
 3154 0058 B868     		ldr	r0, [r7, #8]
 3155 005a FFF7FEFF 		bl	canx_send_ext_data
 741:User/Hardware/Robstride04.c ****     }
 3156              		.loc 1 741 9
 3157 005e 6A23     		movs	r3, #106
 3158 0060 9FED050A 		vldr.32	s0, .L101
 3159 0064 47F20502 		movw	r2, #28677
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 71


 3160 0068 B968     		ldr	r1, [r7, #8]
 3161 006a F868     		ldr	r0, [r7, #12]
 3162 006c FFF7FEFF 		bl	Set_RobStride_Motor_parameter
 3163              	.L100:
 3164              	.LBE15:
 3165              		.loc 1 743 1
 3166 0070 00BF     		nop
 3167 0072 3037     		adds	r7, r7, #48
 3168              	.LCFI132:
 3169              		.cfi_def_cfa_offset 8
 3170 0074 BD46     		mov	sp, r7
 3171              	.LCFI133:
 3172              		.cfi_def_cfa_register 13
 3173              		@ sp needed
 3174 0076 80BD     		pop	{r7, pc}
 3175              	.L102:
 3176              		.align	2
 3177              	.L101:
 3178 0078 00000000 		.word	0
 3179              		.cfi_endproc
 3180              	.LFE169:
 3182              		.section	.text.Set_RobStride_Motor_parameter,"ax",%progbits
 3183              		.align	1
 3184              		.global	Set_RobStride_Motor_parameter
 3185              		.syntax unified
 3186              		.thumb
 3187              		.thumb_func
 3189              	Set_RobStride_Motor_parameter:
 3190              	.LFB170:
 744:User/Hardware/Robstride04.c **** 
 745:User/Hardware/Robstride04.c **** /*******************************************************************************
 746:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机写入参数
 747:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 748:User/Hardware/Robstride04.c **** *******************************************************************************/
 749:User/Hardware/Robstride04.c **** void Set_RobStride_Motor_parameter(RobStride_Motor_t* motor, hcan_t* hcan, uint16_t Index, float Va
 750:User/Hardware/Robstride04.c **** {
 3191              		.loc 1 750 1
 3192              		.cfi_startproc
 3193              		@ args = 0, pretend = 0, frame = 56
 3194              		@ frame_needed = 1, uses_anonymous_args = 0
 3195 0000 80B5     		push	{r7, lr}
 3196              	.LCFI134:
 3197              		.cfi_def_cfa_offset 8
 3198              		.cfi_offset 7, -8
 3199              		.cfi_offset 14, -4
 3200 0002 8EB0     		sub	sp, sp, #56
 3201              	.LCFI135:
 3202              		.cfi_def_cfa_offset 64
 3203 0004 00AF     		add	r7, sp, #0
 3204              	.LCFI136:
 3205              		.cfi_def_cfa_register 7
 3206 0006 7861     		str	r0, [r7, #20]
 3207 0008 3961     		str	r1, [r7, #16]
 3208 000a 1146     		mov	r1, r2
 3209 000c 87ED020A 		vstr.32	s0, [r7, #8]
 3210 0010 1A46     		mov	r2, r3
 3211 0012 0B46     		mov	r3, r1	@ movhi
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 72


 3212 0014 FB81     		strh	r3, [r7, #14]	@ movhi
 3213 0016 1346     		mov	r3, r2
 3214 0018 7B73     		strb	r3, [r7, #13]
 751:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 3215              		.loc 1 751 13
 3216 001a 07F13003 		add	r3, r7, #48
 3217 001e 0022     		movs	r2, #0
 3218 0020 1A60     		str	r2, [r3]
 3219 0022 5A60     		str	r2, [r3, #4]
 752:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 753:User/Hardware/Robstride04.c ****     
 754:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 3220              		.loc 1 754 19
 3221 0024 0123     		movs	r3, #1
 3222 0026 7B62     		str	r3, [r7, #36]
 755:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 3223              		.loc 1 755 19
 3224 0028 0023     		movs	r3, #0
 3225 002a BB62     		str	r3, [r7, #40]
 756:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 3226              		.loc 1 756 19
 3227 002c 0823     		movs	r3, #8
 3228 002e FB62     		str	r3, [r7, #44]
 757:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_SetSingleParameter << 24 | 
 758:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3229              		.loc 1 758 38
 3230 0030 7B69     		ldr	r3, [r7, #20]
 3231 0032 1B8A     		ldrh	r3, [r3, #16]
 3232              		.loc 1 758 54
 3233 0034 1B02     		lsls	r3, r3, #8
 759:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3234              		.loc 1 759 28
 3235 0036 7A69     		ldr	r2, [r7, #20]
 3236 0038 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 758:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3237              		.loc 1 758 59
 3238 003a 1343     		orrs	r3, r3, r2
 3239 003c 43F09053 		orr	r3, r3, #301989888
 757:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_SetSingleParameter << 24 | 
 3240              		.loc 1 757 21
 3241 0040 3B62     		str	r3, [r7, #32]
 760:User/Hardware/Robstride04.c ****     
 761:User/Hardware/Robstride04.c ****     txdata[0] = (uint8_t)(Index & 0xFF);
 3242              		.loc 1 761 17
 3243 0042 FB89     		ldrh	r3, [r7, #14]	@ movhi
 3244 0044 DBB2     		uxtb	r3, r3
 3245              		.loc 1 761 15
 3246 0046 87F83030 		strb	r3, [r7, #48]
 762:User/Hardware/Robstride04.c ****     txdata[1] = (uint8_t)(Index >> 8);
 3247              		.loc 1 762 17
 3248 004a FB89     		ldrh	r3, [r7, #14]
 3249 004c 1B0A     		lsrs	r3, r3, #8
 3250 004e 9BB2     		uxth	r3, r3
 3251 0050 DBB2     		uxtb	r3, r3
 3252              		.loc 1 762 15
 3253 0052 87F83130 		strb	r3, [r7, #49]
 763:User/Hardware/Robstride04.c ****     txdata[2] = 0x00;
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 73


 3254              		.loc 1 763 15
 3255 0056 0023     		movs	r3, #0
 3256 0058 87F83230 		strb	r3, [r7, #50]
 764:User/Hardware/Robstride04.c ****     txdata[3] = 0x00;
 3257              		.loc 1 764 15
 3258 005c 0023     		movs	r3, #0
 3259 005e 87F83330 		strb	r3, [r7, #51]
 765:User/Hardware/Robstride04.c ****     
 766:User/Hardware/Robstride04.c ****     if (Value_mode == 'p')
 3260              		.loc 1 766 8
 3261 0062 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 3262 0064 702B     		cmp	r3, #112
 3263 0066 02D1     		bne	.L104
 767:User/Hardware/Robstride04.c ****     {
 768:User/Hardware/Robstride04.c ****         memcpy(&txdata[4], &Value, 4);
 3264              		.loc 1 768 9
 3265 0068 BB68     		ldr	r3, [r7, #8]
 3266 006a 7B63     		str	r3, [r7, #52]
 3267 006c 1FE0     		b	.L105
 3268              	.L104:
 769:User/Hardware/Robstride04.c ****     }
 770:User/Hardware/Robstride04.c ****     else if (Value_mode == 'j')
 3269              		.loc 1 770 13
 3270 006e 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 3271 0070 6A2B     		cmp	r3, #106
 3272 0072 1CD1     		bne	.L105
 771:User/Hardware/Robstride04.c ****     {
 772:User/Hardware/Robstride04.c ****         motor->Motor_Set_All.set_motor_mode = (uint8_t)Value;
 3273              		.loc 1 772 47
 3274 0074 D7ED027A 		vldr.32	s15, [r7, #8]
 3275 0078 FCEEE77A 		vcvt.u32.f32	s15, s15
 3276 007c C7ED017A 		vstr.32	s15, [r7, #4]	@ int
 3277 0080 3B79     		ldrb	r3, [r7, #4]
 3278 0082 DAB2     		uxtb	r2, r3
 3279              		.loc 1 772 45
 3280 0084 7B69     		ldr	r3, [r7, #20]
 3281 0086 1A75     		strb	r2, [r3, #20]
 773:User/Hardware/Robstride04.c ****         txdata[4] = (uint8_t)Value;
 3282              		.loc 1 773 21
 3283 0088 D7ED027A 		vldr.32	s15, [r7, #8]
 3284 008c FCEEE77A 		vcvt.u32.f32	s15, s15
 3285 0090 C7ED017A 		vstr.32	s15, [r7, #4]	@ int
 3286 0094 3B79     		ldrb	r3, [r7, #4]
 3287 0096 DBB2     		uxtb	r3, r3
 3288              		.loc 1 773 19
 3289 0098 87F83430 		strb	r3, [r7, #52]
 774:User/Hardware/Robstride04.c ****         txdata[5] = 0x00;
 3290              		.loc 1 774 19
 3291 009c 0023     		movs	r3, #0
 3292 009e 87F83530 		strb	r3, [r7, #53]
 775:User/Hardware/Robstride04.c ****         txdata[6] = 0x00;
 3293              		.loc 1 775 19
 3294 00a2 0023     		movs	r3, #0
 3295 00a4 87F83630 		strb	r3, [r7, #54]
 776:User/Hardware/Robstride04.c ****         txdata[7] = 0x00;
 3296              		.loc 1 776 19
 3297 00a8 0023     		movs	r3, #0
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 74


 3298 00aa 87F83730 		strb	r3, [r7, #55]
 3299              	.L105:
 777:User/Hardware/Robstride04.c ****     }
 778:User/Hardware/Robstride04.c ****     
 779:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 780:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 3300              		.loc 1 780 5
 3301 00ae 396A     		ldr	r1, [r7, #32]
 3302 00b0 FB6A     		ldr	r3, [r7, #44]
 3303 00b2 07F13002 		add	r2, r7, #48
 3304 00b6 3869     		ldr	r0, [r7, #16]
 3305 00b8 FFF7FEFF 		bl	canx_send_ext_data
 781:User/Hardware/Robstride04.c **** }
 3306              		.loc 1 781 1
 3307 00bc 00BF     		nop
 3308 00be 3837     		adds	r7, r7, #56
 3309              	.LCFI137:
 3310              		.cfi_def_cfa_offset 8
 3311 00c0 BD46     		mov	sp, r7
 3312              	.LCFI138:
 3313              		.cfi_def_cfa_register 13
 3314              		@ sp needed
 3315 00c2 80BD     		pop	{r7, pc}
 3316              		.cfi_endproc
 3317              	.LFE170:
 3319              		.section	.text.Get_RobStride_Motor_parameter,"ax",%progbits
 3320              		.align	1
 3321              		.global	Get_RobStride_Motor_parameter
 3322              		.syntax unified
 3323              		.thumb
 3324              		.thumb_func
 3326              	Get_RobStride_Motor_parameter:
 3327              	.LFB171:
 782:User/Hardware/Robstride04.c **** 
 783:User/Hardware/Robstride04.c **** /*******************************************************************************
 784:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机单个参数读取
 785:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 786:User/Hardware/Robstride04.c **** *******************************************************************************/
 787:User/Hardware/Robstride04.c **** void Get_RobStride_Motor_parameter(RobStride_Motor_t* motor, hcan_t* hcan, uint16_t Index)
 788:User/Hardware/Robstride04.c **** {
 3328              		.loc 1 788 1
 3329              		.cfi_startproc
 3330              		@ args = 0, pretend = 0, frame = 48
 3331              		@ frame_needed = 1, uses_anonymous_args = 0
 3332 0000 80B5     		push	{r7, lr}
 3333              	.LCFI139:
 3334              		.cfi_def_cfa_offset 8
 3335              		.cfi_offset 7, -8
 3336              		.cfi_offset 14, -4
 3337 0002 8CB0     		sub	sp, sp, #48
 3338              	.LCFI140:
 3339              		.cfi_def_cfa_offset 56
 3340 0004 00AF     		add	r7, sp, #0
 3341              	.LCFI141:
 3342              		.cfi_def_cfa_register 7
 3343 0006 F860     		str	r0, [r7, #12]
 3344 0008 B960     		str	r1, [r7, #8]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 75


 3345 000a 1346     		mov	r3, r2
 3346 000c FB80     		strh	r3, [r7, #6]	@ movhi
 789:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 3347              		.loc 1 789 13
 3348 000e 07F12803 		add	r3, r7, #40
 3349 0012 0022     		movs	r2, #0
 3350 0014 1A60     		str	r2, [r3]
 3351 0016 5A60     		str	r2, [r3, #4]
 790:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 791:User/Hardware/Robstride04.c ****     
 792:User/Hardware/Robstride04.c ****     txdata[0] = (uint8_t)(Index & 0xFF);
 3352              		.loc 1 792 17
 3353 0018 FB88     		ldrh	r3, [r7, #6]	@ movhi
 3354 001a DBB2     		uxtb	r3, r3
 3355              		.loc 1 792 15
 3356 001c 87F82830 		strb	r3, [r7, #40]
 793:User/Hardware/Robstride04.c ****     txdata[1] = (uint8_t)(Index >> 8);
 3357              		.loc 1 793 17
 3358 0020 FB88     		ldrh	r3, [r7, #6]
 3359 0022 1B0A     		lsrs	r3, r3, #8
 3360 0024 9BB2     		uxth	r3, r3
 3361 0026 DBB2     		uxtb	r3, r3
 3362              		.loc 1 793 15
 3363 0028 87F82930 		strb	r3, [r7, #41]
 794:User/Hardware/Robstride04.c ****     
 795:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 3364              		.loc 1 795 19
 3365 002c 0123     		movs	r3, #1
 3366 002e FB61     		str	r3, [r7, #28]
 796:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 3367              		.loc 1 796 19
 3368 0030 0023     		movs	r3, #0
 3369 0032 3B62     		str	r3, [r7, #32]
 797:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 3370              		.loc 1 797 19
 3371 0034 0823     		movs	r3, #8
 3372 0036 7B62     		str	r3, [r7, #36]
 798:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_GetSingleParameter << 24 | 
 799:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3373              		.loc 1 799 38
 3374 0038 FB68     		ldr	r3, [r7, #12]
 3375 003a 1B8A     		ldrh	r3, [r3, #16]
 3376              		.loc 1 799 54
 3377 003c 1B02     		lsls	r3, r3, #8
 800:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3378              		.loc 1 800 28
 3379 003e FA68     		ldr	r2, [r7, #12]
 3380 0040 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 799:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3381              		.loc 1 799 59
 3382 0042 1343     		orrs	r3, r3, r2
 3383 0044 43F08853 		orr	r3, r3, #285212672
 798:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_GetSingleParameter << 24 | 
 3384              		.loc 1 798 21
 3385 0048 BB61     		str	r3, [r7, #24]
 801:User/Hardware/Robstride04.c ****     
 802:User/Hardware/Robstride04.c ****     // 替换为hcan参数
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 76


 803:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 3386              		.loc 1 803 5
 3387 004a B969     		ldr	r1, [r7, #24]
 3388 004c 7B6A     		ldr	r3, [r7, #36]
 3389 004e 07F12802 		add	r2, r7, #40
 3390 0052 B868     		ldr	r0, [r7, #8]
 3391 0054 FFF7FEFF 		bl	canx_send_ext_data
 804:User/Hardware/Robstride04.c **** }
 3392              		.loc 1 804 1
 3393 0058 00BF     		nop
 3394 005a 3037     		adds	r7, r7, #48
 3395              	.LCFI142:
 3396              		.cfi_def_cfa_offset 8
 3397 005c BD46     		mov	sp, r7
 3398              	.LCFI143:
 3399              		.cfi_def_cfa_register 13
 3400              		@ sp needed
 3401 005e 80BD     		pop	{r7, pc}
 3402              		.cfi_endproc
 3403              	.LFE171:
 3405              		.section	.text.Set_CAN_ID,"ax",%progbits
 3406              		.align	1
 3407              		.global	Set_CAN_ID
 3408              		.syntax unified
 3409              		.thumb
 3410              		.thumb_func
 3412              	Set_CAN_ID:
 3413              	.LFB172:
 805:User/Hardware/Robstride04.c **** 
 806:User/Hardware/Robstride04.c **** /*******************************************************************************
 807:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机设置CAN_ID
 808:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 809:User/Hardware/Robstride04.c **** *******************************************************************************/
 810:User/Hardware/Robstride04.c **** void Set_CAN_ID(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t Set_CAN_ID)
 811:User/Hardware/Robstride04.c **** {
 3414              		.loc 1 811 1
 3415              		.cfi_startproc
 3416              		@ args = 0, pretend = 0, frame = 48
 3417              		@ frame_needed = 1, uses_anonymous_args = 0
 3418 0000 80B5     		push	{r7, lr}
 3419              	.LCFI144:
 3420              		.cfi_def_cfa_offset 8
 3421              		.cfi_offset 7, -8
 3422              		.cfi_offset 14, -4
 3423 0002 8CB0     		sub	sp, sp, #48
 3424              	.LCFI145:
 3425              		.cfi_def_cfa_offset 56
 3426 0004 00AF     		add	r7, sp, #0
 3427              	.LCFI146:
 3428              		.cfi_def_cfa_register 7
 3429 0006 F860     		str	r0, [r7, #12]
 3430 0008 B960     		str	r1, [r7, #8]
 3431 000a 1346     		mov	r3, r2
 3432 000c FB71     		strb	r3, [r7, #7]
 812:User/Hardware/Robstride04.c ****     Disenable_Motor(motor, hcan, 0);
 3433              		.loc 1 812 5
 3434 000e 0022     		movs	r2, #0
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 77


 3435 0010 B968     		ldr	r1, [r7, #8]
 3436 0012 F868     		ldr	r0, [r7, #12]
 3437 0014 FFF7FEFF 		bl	Disenable_Motor
 813:User/Hardware/Robstride04.c ****     
 814:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 3438              		.loc 1 814 13
 3439 0018 07F12803 		add	r3, r7, #40
 3440 001c 0022     		movs	r2, #0
 3441 001e 1A60     		str	r2, [r3]
 3442 0020 5A60     		str	r2, [r3, #4]
 815:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 816:User/Hardware/Robstride04.c ****     
 817:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 3443              		.loc 1 817 19
 3444 0022 0123     		movs	r3, #1
 3445 0024 FB61     		str	r3, [r7, #28]
 818:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 3446              		.loc 1 818 19
 3447 0026 0023     		movs	r3, #0
 3448 0028 3B62     		str	r3, [r7, #32]
 819:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 3449              		.loc 1 819 19
 3450 002a 0823     		movs	r3, #8
 3451 002c 7B62     		str	r3, [r7, #36]
 820:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_Can_ID << 24 | 
 821:User/Hardware/Robstride04.c ****                       (uint32_t)Set_CAN_ID << 16 | 
 3452              		.loc 1 821 23
 3453 002e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3454              		.loc 1 821 44
 3455 0030 1A04     		lsls	r2, r3, #16
 822:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3456              		.loc 1 822 38
 3457 0032 FB68     		ldr	r3, [r7, #12]
 3458 0034 1B8A     		ldrh	r3, [r3, #16]
 3459              		.loc 1 822 54
 3460 0036 1B02     		lsls	r3, r3, #8
 821:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3461              		.loc 1 821 50
 3462 0038 1343     		orrs	r3, r3, r2
 823:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3463              		.loc 1 823 28
 3464 003a FA68     		ldr	r2, [r7, #12]
 3465 003c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 822:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3466              		.loc 1 822 59
 3467 003e 1343     		orrs	r3, r3, r2
 3468 0040 43F0E063 		orr	r3, r3, #117440512
 820:User/Hardware/Robstride04.c ****                       (uint32_t)Set_CAN_ID << 16 | 
 3469              		.loc 1 820 21
 3470 0044 BB61     		str	r3, [r7, #24]
 824:User/Hardware/Robstride04.c ****     
 825:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 826:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 3471              		.loc 1 826 5
 3472 0046 B969     		ldr	r1, [r7, #24]
 3473 0048 7B6A     		ldr	r3, [r7, #36]
 3474 004a 07F12802 		add	r2, r7, #40
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 78


 3475 004e B868     		ldr	r0, [r7, #8]
 3476 0050 FFF7FEFF 		bl	canx_send_ext_data
 827:User/Hardware/Robstride04.c **** }
 3477              		.loc 1 827 1
 3478 0054 00BF     		nop
 3479 0056 3037     		adds	r7, r7, #48
 3480              	.LCFI147:
 3481              		.cfi_def_cfa_offset 8
 3482 0058 BD46     		mov	sp, r7
 3483              	.LCFI148:
 3484              		.cfi_def_cfa_register 13
 3485              		@ sp needed
 3486 005a 80BD     		pop	{r7, pc}
 3487              		.cfi_endproc
 3488              	.LFE172:
 3490              		.section	.text.Set_ZeroPos,"ax",%progbits
 3491              		.align	1
 3492              		.global	Set_ZeroPos
 3493              		.syntax unified
 3494              		.thumb
 3495              		.thumb_func
 3497              	Set_ZeroPos:
 3498              	.LFB173:
 828:User/Hardware/Robstride04.c **** 
 829:User/Hardware/Robstride04.c **** /*******************************************************************************
 830:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机设置机械零点
 831:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 832:User/Hardware/Robstride04.c **** *******************************************************************************/
 833:User/Hardware/Robstride04.c **** void Set_ZeroPos(RobStride_Motor_t* motor, hcan_t* hcan)
 834:User/Hardware/Robstride04.c **** {
 3499              		.loc 1 834 1
 3500              		.cfi_startproc
 3501              		@ args = 0, pretend = 0, frame = 40
 3502              		@ frame_needed = 1, uses_anonymous_args = 0
 3503 0000 80B5     		push	{r7, lr}
 3504              	.LCFI149:
 3505              		.cfi_def_cfa_offset 8
 3506              		.cfi_offset 7, -8
 3507              		.cfi_offset 14, -4
 3508 0002 8AB0     		sub	sp, sp, #40
 3509              	.LCFI150:
 3510              		.cfi_def_cfa_offset 48
 3511 0004 00AF     		add	r7, sp, #0
 3512              	.LCFI151:
 3513              		.cfi_def_cfa_register 7
 3514 0006 7860     		str	r0, [r7, #4]
 3515 0008 3960     		str	r1, [r7]
 835:User/Hardware/Robstride04.c ****     Disenable_Motor(motor, hcan, 0);
 3516              		.loc 1 835 5
 3517 000a 0022     		movs	r2, #0
 3518 000c 3968     		ldr	r1, [r7]
 3519 000e 7868     		ldr	r0, [r7, #4]
 3520 0010 FFF7FEFF 		bl	Disenable_Motor
 836:User/Hardware/Robstride04.c ****     
 837:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 3521              		.loc 1 837 13
 3522 0014 07F12003 		add	r3, r7, #32
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 79


 3523 0018 0022     		movs	r2, #0
 3524 001a 1A60     		str	r2, [r3]
 3525 001c 5A60     		str	r2, [r3, #4]
 838:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 839:User/Hardware/Robstride04.c ****     
 840:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 3526              		.loc 1 840 19
 3527 001e 0123     		movs	r3, #1
 3528 0020 7B61     		str	r3, [r7, #20]
 841:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 3529              		.loc 1 841 19
 3530 0022 0023     		movs	r3, #0
 3531 0024 BB61     		str	r3, [r7, #24]
 842:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 3532              		.loc 1 842 19
 3533 0026 0823     		movs	r3, #8
 3534 0028 FB61     		str	r3, [r7, #28]
 843:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_SetPosZero << 24 | 
 844:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3535              		.loc 1 844 38
 3536 002a 7B68     		ldr	r3, [r7, #4]
 3537 002c 1B8A     		ldrh	r3, [r3, #16]
 3538              		.loc 1 844 54
 3539 002e 1B02     		lsls	r3, r3, #8
 845:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3540              		.loc 1 845 28
 3541 0030 7A68     		ldr	r2, [r7, #4]
 3542 0032 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 844:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3543              		.loc 1 844 59
 3544 0034 1343     		orrs	r3, r3, r2
 3545 0036 43F0C063 		orr	r3, r3, #100663296
 843:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_SetPosZero << 24 | 
 3546              		.loc 1 843 21
 3547 003a 3B61     		str	r3, [r7, #16]
 846:User/Hardware/Robstride04.c ****     
 847:User/Hardware/Robstride04.c ****     txdata[0] = 1;
 3548              		.loc 1 847 15
 3549 003c 0123     		movs	r3, #1
 3550 003e 87F82030 		strb	r3, [r7, #32]
 848:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 849:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 3551              		.loc 1 849 5
 3552 0042 3969     		ldr	r1, [r7, #16]
 3553 0044 FB69     		ldr	r3, [r7, #28]
 3554 0046 07F12002 		add	r2, r7, #32
 3555 004a 3868     		ldr	r0, [r7]
 3556 004c FFF7FEFF 		bl	canx_send_ext_data
 850:User/Hardware/Robstride04.c ****     
 851:User/Hardware/Robstride04.c ****     Enable_Motor(motor, hcan);
 3557              		.loc 1 851 5
 3558 0050 3968     		ldr	r1, [r7]
 3559 0052 7868     		ldr	r0, [r7, #4]
 3560 0054 FFF7FEFF 		bl	Enable_Motor
 852:User/Hardware/Robstride04.c **** }
 3561              		.loc 1 852 1
 3562 0058 00BF     		nop
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 80


 3563 005a 2837     		adds	r7, r7, #40
 3564              	.LCFI152:
 3565              		.cfi_def_cfa_offset 8
 3566 005c BD46     		mov	sp, r7
 3567              	.LCFI153:
 3568              		.cfi_def_cfa_register 13
 3569              		@ sp needed
 3570 005e 80BD     		pop	{r7, pc}
 3571              		.cfi_endproc
 3572              	.LFE173:
 3574              		.section	.text.RobStride_Motor_MotorDataSave,"ax",%progbits
 3575              		.align	1
 3576              		.global	RobStride_Motor_MotorDataSave
 3577              		.syntax unified
 3578              		.thumb
 3579              		.thumb_func
 3581              	RobStride_Motor_MotorDataSave:
 3582              	.LFB174:
 853:User/Hardware/Robstride04.c **** 
 854:User/Hardware/Robstride04.c **** /*******************************************************************************
 855:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机数据保存
 856:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 857:User/Hardware/Robstride04.c **** *******************************************************************************/
 858:User/Hardware/Robstride04.c **** void RobStride_Motor_MotorDataSave(RobStride_Motor_t* motor, hcan_t* hcan)
 859:User/Hardware/Robstride04.c **** {
 3583              		.loc 1 859 1
 3584              		.cfi_startproc
 3585              		@ args = 0, pretend = 0, frame = 40
 3586              		@ frame_needed = 1, uses_anonymous_args = 0
 3587 0000 80B5     		push	{r7, lr}
 3588              	.LCFI154:
 3589              		.cfi_def_cfa_offset 8
 3590              		.cfi_offset 7, -8
 3591              		.cfi_offset 14, -4
 3592 0002 8AB0     		sub	sp, sp, #40
 3593              	.LCFI155:
 3594              		.cfi_def_cfa_offset 48
 3595 0004 00AF     		add	r7, sp, #0
 3596              	.LCFI156:
 3597              		.cfi_def_cfa_register 7
 3598 0006 7860     		str	r0, [r7, #4]
 3599 0008 3960     		str	r1, [r7]
 860:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 3600              		.loc 1 860 13
 3601 000a 07F12003 		add	r3, r7, #32
 3602 000e 0022     		movs	r2, #0
 3603 0010 1A60     		str	r2, [r3]
 3604 0012 5A60     		str	r2, [r3, #4]
 861:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 862:User/Hardware/Robstride04.c ****     
 863:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 3605              		.loc 1 863 19
 3606 0014 0123     		movs	r3, #1
 3607 0016 7B61     		str	r3, [r7, #20]
 864:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 3608              		.loc 1 864 19
 3609 0018 0023     		movs	r3, #0
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 81


 3610 001a BB61     		str	r3, [r7, #24]
 865:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 3611              		.loc 1 865 19
 3612 001c 0823     		movs	r3, #8
 3613 001e FB61     		str	r3, [r7, #28]
 866:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_MotorDataSave << 24 | 
 867:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3614              		.loc 1 867 38
 3615 0020 7B68     		ldr	r3, [r7, #4]
 3616 0022 1B8A     		ldrh	r3, [r3, #16]
 3617              		.loc 1 867 54
 3618 0024 1B02     		lsls	r3, r3, #8
 868:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3619              		.loc 1 868 28
 3620 0026 7A68     		ldr	r2, [r7, #4]
 3621 0028 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 867:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3622              		.loc 1 867 59
 3623 002a 1343     		orrs	r3, r3, r2
 3624 002c 43F0B053 		orr	r3, r3, #369098752
 866:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_MotorDataSave << 24 | 
 3625              		.loc 1 866 21
 3626 0030 3B61     		str	r3, [r7, #16]
 869:User/Hardware/Robstride04.c ****     
 870:User/Hardware/Robstride04.c ****     txdata[0] = 0x01;
 3627              		.loc 1 870 15
 3628 0032 0123     		movs	r3, #1
 3629 0034 87F82030 		strb	r3, [r7, #32]
 871:User/Hardware/Robstride04.c ****     txdata[1] = 0x02;
 3630              		.loc 1 871 15
 3631 0038 0223     		movs	r3, #2
 3632 003a 87F82130 		strb	r3, [r7, #33]
 872:User/Hardware/Robstride04.c ****     txdata[2] = 0x03;
 3633              		.loc 1 872 15
 3634 003e 0323     		movs	r3, #3
 3635 0040 87F82230 		strb	r3, [r7, #34]
 873:User/Hardware/Robstride04.c ****     txdata[3] = 0x04;
 3636              		.loc 1 873 15
 3637 0044 0423     		movs	r3, #4
 3638 0046 87F82330 		strb	r3, [r7, #35]
 874:User/Hardware/Robstride04.c ****     txdata[4] = 0x05;
 3639              		.loc 1 874 15
 3640 004a 0523     		movs	r3, #5
 3641 004c 87F82430 		strb	r3, [r7, #36]
 875:User/Hardware/Robstride04.c ****     txdata[5] = 0x06;
 3642              		.loc 1 875 15
 3643 0050 0623     		movs	r3, #6
 3644 0052 87F82530 		strb	r3, [r7, #37]
 876:User/Hardware/Robstride04.c ****     txdata[6] = 0x07;
 3645              		.loc 1 876 15
 3646 0056 0723     		movs	r3, #7
 3647 0058 87F82630 		strb	r3, [r7, #38]
 877:User/Hardware/Robstride04.c ****     txdata[7] = 0x08;
 3648              		.loc 1 877 15
 3649 005c 0823     		movs	r3, #8
 3650 005e 87F82730 		strb	r3, [r7, #39]
 878:User/Hardware/Robstride04.c ****     
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 82


 879:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 880:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 3651              		.loc 1 880 5
 3652 0062 3969     		ldr	r1, [r7, #16]
 3653 0064 FB69     		ldr	r3, [r7, #28]
 3654 0066 07F12002 		add	r2, r7, #32
 3655 006a 3868     		ldr	r0, [r7]
 3656 006c FFF7FEFF 		bl	canx_send_ext_data
 881:User/Hardware/Robstride04.c **** }
 3657              		.loc 1 881 1
 3658 0070 00BF     		nop
 3659 0072 2837     		adds	r7, r7, #40
 3660              	.LCFI157:
 3661              		.cfi_def_cfa_offset 8
 3662 0074 BD46     		mov	sp, r7
 3663              	.LCFI158:
 3664              		.cfi_def_cfa_register 13
 3665              		@ sp needed
 3666 0076 80BD     		pop	{r7, pc}
 3667              		.cfi_endproc
 3668              	.LFE174:
 3670              		.section	.text.RobStride_Motor_BaudRateChange,"ax",%progbits
 3671              		.align	1
 3672              		.global	RobStride_Motor_BaudRateChange
 3673              		.syntax unified
 3674              		.thumb
 3675              		.thumb_func
 3677              	RobStride_Motor_BaudRateChange:
 3678              	.LFB175:
 882:User/Hardware/Robstride04.c **** 
 883:User/Hardware/Robstride04.c **** /*******************************************************************************
 884:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机波特率修改
 885:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 886:User/Hardware/Robstride04.c **** *******************************************************************************/
 887:User/Hardware/Robstride04.c **** void RobStride_Motor_BaudRateChange(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t F_CMD)
 888:User/Hardware/Robstride04.c **** {
 3679              		.loc 1 888 1
 3680              		.cfi_startproc
 3681              		@ args = 0, pretend = 0, frame = 48
 3682              		@ frame_needed = 1, uses_anonymous_args = 0
 3683 0000 80B5     		push	{r7, lr}
 3684              	.LCFI159:
 3685              		.cfi_def_cfa_offset 8
 3686              		.cfi_offset 7, -8
 3687              		.cfi_offset 14, -4
 3688 0002 8CB0     		sub	sp, sp, #48
 3689              	.LCFI160:
 3690              		.cfi_def_cfa_offset 56
 3691 0004 00AF     		add	r7, sp, #0
 3692              	.LCFI161:
 3693              		.cfi_def_cfa_register 7
 3694 0006 F860     		str	r0, [r7, #12]
 3695 0008 B960     		str	r1, [r7, #8]
 3696 000a 1346     		mov	r3, r2
 3697 000c FB71     		strb	r3, [r7, #7]
 889:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 3698              		.loc 1 889 13
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 83


 3699 000e 07F12803 		add	r3, r7, #40
 3700 0012 0022     		movs	r2, #0
 3701 0014 1A60     		str	r2, [r3]
 3702 0016 5A60     		str	r2, [r3, #4]
 890:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 891:User/Hardware/Robstride04.c ****     
 892:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 3703              		.loc 1 892 19
 3704 0018 0123     		movs	r3, #1
 3705 001a FB61     		str	r3, [r7, #28]
 893:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 3706              		.loc 1 893 19
 3707 001c 0023     		movs	r3, #0
 3708 001e 3B62     		str	r3, [r7, #32]
 894:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 3709              		.loc 1 894 19
 3710 0020 0823     		movs	r3, #8
 3711 0022 7B62     		str	r3, [r7, #36]
 895:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_BaudRateChange << 24 | 
 896:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3712              		.loc 1 896 38
 3713 0024 FB68     		ldr	r3, [r7, #12]
 3714 0026 1B8A     		ldrh	r3, [r3, #16]
 3715              		.loc 1 896 54
 3716 0028 1B02     		lsls	r3, r3, #8
 897:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3717              		.loc 1 897 28
 3718 002a FA68     		ldr	r2, [r7, #12]
 3719 002c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 896:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3720              		.loc 1 896 59
 3721 002e 1343     		orrs	r3, r3, r2
 3722 0030 43F0B853 		orr	r3, r3, #385875968
 895:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_BaudRateChange << 24 | 
 3723              		.loc 1 895 21
 3724 0034 BB61     		str	r3, [r7, #24]
 898:User/Hardware/Robstride04.c ****     
 899:User/Hardware/Robstride04.c ****     txdata[0] = 0x01;
 3725              		.loc 1 899 15
 3726 0036 0123     		movs	r3, #1
 3727 0038 87F82830 		strb	r3, [r7, #40]
 900:User/Hardware/Robstride04.c ****     txdata[1] = 0x02;
 3728              		.loc 1 900 15
 3729 003c 0223     		movs	r3, #2
 3730 003e 87F82930 		strb	r3, [r7, #41]
 901:User/Hardware/Robstride04.c ****     txdata[2] = 0x03;
 3731              		.loc 1 901 15
 3732 0042 0323     		movs	r3, #3
 3733 0044 87F82A30 		strb	r3, [r7, #42]
 902:User/Hardware/Robstride04.c ****     txdata[3] = 0x04;
 3734              		.loc 1 902 15
 3735 0048 0423     		movs	r3, #4
 3736 004a 87F82B30 		strb	r3, [r7, #43]
 903:User/Hardware/Robstride04.c ****     txdata[4] = 0x05;
 3737              		.loc 1 903 15
 3738 004e 0523     		movs	r3, #5
 3739 0050 87F82C30 		strb	r3, [r7, #44]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 84


 904:User/Hardware/Robstride04.c ****     txdata[5] = 0x06;
 3740              		.loc 1 904 15
 3741 0054 0623     		movs	r3, #6
 3742 0056 87F82D30 		strb	r3, [r7, #45]
 905:User/Hardware/Robstride04.c ****     txdata[6] = F_CMD;
 3743              		.loc 1 905 15
 3744 005a FB79     		ldrb	r3, [r7, #7]
 3745 005c 87F82E30 		strb	r3, [r7, #46]
 906:User/Hardware/Robstride04.c ****     txdata[7] = 0x08;
 3746              		.loc 1 906 15
 3747 0060 0823     		movs	r3, #8
 3748 0062 87F82F30 		strb	r3, [r7, #47]
 907:User/Hardware/Robstride04.c ****     
 908:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 909:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 3749              		.loc 1 909 5
 3750 0066 B969     		ldr	r1, [r7, #24]
 3751 0068 7B6A     		ldr	r3, [r7, #36]
 3752 006a 07F12802 		add	r2, r7, #40
 3753 006e B868     		ldr	r0, [r7, #8]
 3754 0070 FFF7FEFF 		bl	canx_send_ext_data
 910:User/Hardware/Robstride04.c **** }
 3755              		.loc 1 910 1
 3756 0074 00BF     		nop
 3757 0076 3037     		adds	r7, r7, #48
 3758              	.LCFI162:
 3759              		.cfi_def_cfa_offset 8
 3760 0078 BD46     		mov	sp, r7
 3761              	.LCFI163:
 3762              		.cfi_def_cfa_register 13
 3763              		@ sp needed
 3764 007a 80BD     		pop	{r7, pc}
 3765              		.cfi_endproc
 3766              	.LFE175:
 3768              		.section	.text.RobStride_Motor_ProactiveEscalationSet,"ax",%progbits
 3769              		.align	1
 3770              		.global	RobStride_Motor_ProactiveEscalationSet
 3771              		.syntax unified
 3772              		.thumb
 3773              		.thumb_func
 3775              	RobStride_Motor_ProactiveEscalationSet:
 3776              	.LFB176:
 911:User/Hardware/Robstride04.c **** 
 912:User/Hardware/Robstride04.c **** /*******************************************************************************
 913:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机主动上报设置
 914:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 915:User/Hardware/Robstride04.c **** *******************************************************************************/
 916:User/Hardware/Robstride04.c **** void RobStride_Motor_ProactiveEscalationSet(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t F_CMD)
 917:User/Hardware/Robstride04.c **** {
 3777              		.loc 1 917 1
 3778              		.cfi_startproc
 3779              		@ args = 0, pretend = 0, frame = 48
 3780              		@ frame_needed = 1, uses_anonymous_args = 0
 3781 0000 80B5     		push	{r7, lr}
 3782              	.LCFI164:
 3783              		.cfi_def_cfa_offset 8
 3784              		.cfi_offset 7, -8
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 85


 3785              		.cfi_offset 14, -4
 3786 0002 8CB0     		sub	sp, sp, #48
 3787              	.LCFI165:
 3788              		.cfi_def_cfa_offset 56
 3789 0004 00AF     		add	r7, sp, #0
 3790              	.LCFI166:
 3791              		.cfi_def_cfa_register 7
 3792 0006 F860     		str	r0, [r7, #12]
 3793 0008 B960     		str	r1, [r7, #8]
 3794 000a 1346     		mov	r3, r2
 3795 000c FB71     		strb	r3, [r7, #7]
 918:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 3796              		.loc 1 918 13
 3797 000e 07F12803 		add	r3, r7, #40
 3798 0012 0022     		movs	r2, #0
 3799 0014 1A60     		str	r2, [r3]
 3800 0016 5A60     		str	r2, [r3, #4]
 919:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 920:User/Hardware/Robstride04.c ****     
 921:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 3801              		.loc 1 921 19
 3802 0018 0123     		movs	r3, #1
 3803 001a FB61     		str	r3, [r7, #28]
 922:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 3804              		.loc 1 922 19
 3805 001c 0023     		movs	r3, #0
 3806 001e 3B62     		str	r3, [r7, #32]
 923:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 3807              		.loc 1 923 19
 3808 0020 0823     		movs	r3, #8
 3809 0022 7B62     		str	r3, [r7, #36]
 924:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_ProactiveEscalationSet << 24 | 
 925:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3810              		.loc 1 925 38
 3811 0024 FB68     		ldr	r3, [r7, #12]
 3812 0026 1B8A     		ldrh	r3, [r3, #16]
 3813              		.loc 1 925 54
 3814 0028 1B02     		lsls	r3, r3, #8
 926:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3815              		.loc 1 926 28
 3816 002a FA68     		ldr	r2, [r7, #12]
 3817 002c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 925:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3818              		.loc 1 925 59
 3819 002e 1343     		orrs	r3, r3, r2
 3820 0030 43F0C053 		orr	r3, r3, #402653184
 924:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_ProactiveEscalationSet << 24 | 
 3821              		.loc 1 924 21
 3822 0034 BB61     		str	r3, [r7, #24]
 927:User/Hardware/Robstride04.c ****     
 928:User/Hardware/Robstride04.c ****     txdata[0] = 0x01;
 3823              		.loc 1 928 15
 3824 0036 0123     		movs	r3, #1
 3825 0038 87F82830 		strb	r3, [r7, #40]
 929:User/Hardware/Robstride04.c ****     txdata[1] = 0x02;
 3826              		.loc 1 929 15
 3827 003c 0223     		movs	r3, #2
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 86


 3828 003e 87F82930 		strb	r3, [r7, #41]
 930:User/Hardware/Robstride04.c ****     txdata[2] = 0x03;
 3829              		.loc 1 930 15
 3830 0042 0323     		movs	r3, #3
 3831 0044 87F82A30 		strb	r3, [r7, #42]
 931:User/Hardware/Robstride04.c ****     txdata[3] = 0x04;
 3832              		.loc 1 931 15
 3833 0048 0423     		movs	r3, #4
 3834 004a 87F82B30 		strb	r3, [r7, #43]
 932:User/Hardware/Robstride04.c ****     txdata[4] = 0x05;
 3835              		.loc 1 932 15
 3836 004e 0523     		movs	r3, #5
 3837 0050 87F82C30 		strb	r3, [r7, #44]
 933:User/Hardware/Robstride04.c ****     txdata[5] = 0x06;
 3838              		.loc 1 933 15
 3839 0054 0623     		movs	r3, #6
 3840 0056 87F82D30 		strb	r3, [r7, #45]
 934:User/Hardware/Robstride04.c ****     txdata[6] = F_CMD;
 3841              		.loc 1 934 15
 3842 005a FB79     		ldrb	r3, [r7, #7]
 3843 005c 87F82E30 		strb	r3, [r7, #46]
 935:User/Hardware/Robstride04.c ****     txdata[7] = 0x08;
 3844              		.loc 1 935 15
 3845 0060 0823     		movs	r3, #8
 3846 0062 87F82F30 		strb	r3, [r7, #47]
 936:User/Hardware/Robstride04.c ****     
 937:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 938:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 3847              		.loc 1 938 5
 3848 0066 B969     		ldr	r1, [r7, #24]
 3849 0068 7B6A     		ldr	r3, [r7, #36]
 3850 006a 07F12802 		add	r2, r7, #40
 3851 006e B868     		ldr	r0, [r7, #8]
 3852 0070 FFF7FEFF 		bl	canx_send_ext_data
 939:User/Hardware/Robstride04.c **** }
 3853              		.loc 1 939 1
 3854 0074 00BF     		nop
 3855 0076 3037     		adds	r7, r7, #48
 3856              	.LCFI167:
 3857              		.cfi_def_cfa_offset 8
 3858 0078 BD46     		mov	sp, r7
 3859              	.LCFI168:
 3860              		.cfi_def_cfa_register 13
 3861              		@ sp needed
 3862 007a 80BD     		pop	{r7, pc}
 3863              		.cfi_endproc
 3864              	.LFE176:
 3866              		.section	.text.RobStride_Motor_MotorModeSet,"ax",%progbits
 3867              		.align	1
 3868              		.global	RobStride_Motor_MotorModeSet
 3869              		.syntax unified
 3870              		.thumb
 3871              		.thumb_func
 3873              	RobStride_Motor_MotorModeSet:
 3874              	.LFB177:
 940:User/Hardware/Robstride04.c **** 
 941:User/Hardware/Robstride04.c **** /*******************************************************************************
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 87


 942:User/Hardware/Robstride04.c **** * 函数功能  : RobStride电机协议修改
 943:User/Hardware/Robstride04.c **** * 修改点：参数改为hcan_t* hcan
 944:User/Hardware/Robstride04.c **** *******************************************************************************/
 945:User/Hardware/Robstride04.c **** void RobStride_Motor_MotorModeSet(RobStride_Motor_t* motor, hcan_t* hcan, uint8_t F_CMD)
 946:User/Hardware/Robstride04.c **** {
 3875              		.loc 1 946 1
 3876              		.cfi_startproc
 3877              		@ args = 0, pretend = 0, frame = 48
 3878              		@ frame_needed = 1, uses_anonymous_args = 0
 3879 0000 80B5     		push	{r7, lr}
 3880              	.LCFI169:
 3881              		.cfi_def_cfa_offset 8
 3882              		.cfi_offset 7, -8
 3883              		.cfi_offset 14, -4
 3884 0002 8CB0     		sub	sp, sp, #48
 3885              	.LCFI170:
 3886              		.cfi_def_cfa_offset 56
 3887 0004 00AF     		add	r7, sp, #0
 3888              	.LCFI171:
 3889              		.cfi_def_cfa_register 7
 3890 0006 F860     		str	r0, [r7, #12]
 3891 0008 B960     		str	r1, [r7, #8]
 3892 000a 1346     		mov	r3, r2
 3893 000c FB71     		strb	r3, [r7, #7]
 947:User/Hardware/Robstride04.c ****     uint8_t txdata[8] = {0};
 3894              		.loc 1 947 13
 3895 000e 07F12803 		add	r3, r7, #40
 3896 0012 0022     		movs	r2, #0
 3897 0014 1A60     		str	r2, [r3]
 3898 0016 5A60     		str	r2, [r3, #4]
 948:User/Hardware/Robstride04.c ****     CAN_TxHeaderTypeDef TxMessage;
 949:User/Hardware/Robstride04.c ****     
 950:User/Hardware/Robstride04.c ****     TxMessage.IDE = CAN_ID_EXT;
 3899              		.loc 1 950 19
 3900 0018 0123     		movs	r3, #1
 3901 001a FB61     		str	r3, [r7, #28]
 951:User/Hardware/Robstride04.c ****     TxMessage.RTR = CAN_RTR_DATA;
 3902              		.loc 1 951 19
 3903 001c 0023     		movs	r3, #0
 3904 001e 3B62     		str	r3, [r7, #32]
 952:User/Hardware/Robstride04.c ****     TxMessage.DLC = 8;
 3905              		.loc 1 952 19
 3906 0020 0823     		movs	r3, #8
 3907 0022 7B62     		str	r3, [r7, #36]
 953:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_MotorModeSet << 24 | 
 954:User/Hardware/Robstride04.c ****                       (uint32_t)motor->Master_CAN_ID << 8 | 
 3908              		.loc 1 954 38
 3909 0024 FB68     		ldr	r3, [r7, #12]
 3910 0026 1B8A     		ldrh	r3, [r3, #16]
 3911              		.loc 1 954 54
 3912 0028 1B02     		lsls	r3, r3, #8
 955:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3913              		.loc 1 955 28
 3914 002a FA68     		ldr	r2, [r7, #12]
 3915 002c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 954:User/Hardware/Robstride04.c ****                       motor->CAN_ID;
 3916              		.loc 1 954 59
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 88


 3917 002e 1343     		orrs	r3, r3, r2
 3918 0030 43F0C853 		orr	r3, r3, #419430400
 953:User/Hardware/Robstride04.c ****     TxMessage.ExtId = (uint32_t)Communication_Type_MotorModeSet << 24 | 
 3919              		.loc 1 953 21
 3920 0034 BB61     		str	r3, [r7, #24]
 956:User/Hardware/Robstride04.c ****     
 957:User/Hardware/Robstride04.c ****     txdata[0] = 0x01;
 3921              		.loc 1 957 15
 3922 0036 0123     		movs	r3, #1
 3923 0038 87F82830 		strb	r3, [r7, #40]
 958:User/Hardware/Robstride04.c ****     txdata[1] = 0x02;
 3924              		.loc 1 958 15
 3925 003c 0223     		movs	r3, #2
 3926 003e 87F82930 		strb	r3, [r7, #41]
 959:User/Hardware/Robstride04.c ****     txdata[2] = 0x03;
 3927              		.loc 1 959 15
 3928 0042 0323     		movs	r3, #3
 3929 0044 87F82A30 		strb	r3, [r7, #42]
 960:User/Hardware/Robstride04.c ****     txdata[3] = 0x04;
 3930              		.loc 1 960 15
 3931 0048 0423     		movs	r3, #4
 3932 004a 87F82B30 		strb	r3, [r7, #43]
 961:User/Hardware/Robstride04.c ****     txdata[4] = 0x05;
 3933              		.loc 1 961 15
 3934 004e 0523     		movs	r3, #5
 3935 0050 87F82C30 		strb	r3, [r7, #44]
 962:User/Hardware/Robstride04.c ****     txdata[5] = 0x06;
 3936              		.loc 1 962 15
 3937 0054 0623     		movs	r3, #6
 3938 0056 87F82D30 		strb	r3, [r7, #45]
 963:User/Hardware/Robstride04.c ****     txdata[6] = F_CMD;
 3939              		.loc 1 963 15
 3940 005a FB79     		ldrb	r3, [r7, #7]
 3941 005c 87F82E30 		strb	r3, [r7, #46]
 964:User/Hardware/Robstride04.c ****     txdata[7] = 0x08;
 3942              		.loc 1 964 15
 3943 0060 0823     		movs	r3, #8
 3944 0062 87F82F30 		strb	r3, [r7, #47]
 965:User/Hardware/Robstride04.c ****     
 966:User/Hardware/Robstride04.c ****     // 替换为hcan参数
 967:User/Hardware/Robstride04.c ****     canx_send_ext_data(hcan, TxMessage.ExtId, txdata, TxMessage.DLC);
 3945              		.loc 1 967 5
 3946 0066 B969     		ldr	r1, [r7, #24]
 3947 0068 7B6A     		ldr	r3, [r7, #36]
 3948 006a 07F12802 		add	r2, r7, #40
 3949 006e B868     		ldr	r0, [r7, #8]
 3950 0070 FFF7FEFF 		bl	canx_send_ext_data
 968:User/Hardware/Robstride04.c **** }
 3951              		.loc 1 968 1
 3952 0074 00BF     		nop
 3953 0076 3037     		adds	r7, r7, #48
 3954              	.LCFI172:
 3955              		.cfi_def_cfa_offset 8
 3956 0078 BD46     		mov	sp, r7
 3957              	.LCFI173:
 3958              		.cfi_def_cfa_register 13
 3959              		@ sp needed
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 89


 3960 007a 80BD     		pop	{r7, pc}
 3961              		.cfi_endproc
 3962              	.LFE177:
 3964              		.section	.text.data_read_write_init,"ax",%progbits
 3965              		.align	1
 3966              		.global	data_read_write_init
 3967              		.syntax unified
 3968              		.thumb
 3969              		.thumb_func
 3971              	data_read_write_init:
 3972              	.LFB178:
 969:User/Hardware/Robstride04.c **** 
 970:User/Hardware/Robstride04.c **** /*******************************************************************************
 971:User/Hardware/Robstride04.c **** * 函数功能  : 数据读写结构体初始化
 972:User/Hardware/Robstride04.c **** *******************************************************************************/
 973:User/Hardware/Robstride04.c **** void data_read_write_init(data_read_write_t* drw)
 974:User/Hardware/Robstride04.c **** {
 3973              		.loc 1 974 1
 3974              		.cfi_startproc
 3975              		@ args = 0, pretend = 0, frame = 8
 3976              		@ frame_needed = 1, uses_anonymous_args = 0
 3977              		@ link register save eliminated.
 3978 0000 80B4     		push	{r7}
 3979              	.LCFI174:
 3980              		.cfi_def_cfa_offset 4
 3981              		.cfi_offset 7, -4
 3982 0002 83B0     		sub	sp, sp, #12
 3983              	.LCFI175:
 3984              		.cfi_def_cfa_offset 16
 3985 0004 00AF     		add	r7, sp, #0
 3986              	.LCFI176:
 3987              		.cfi_def_cfa_register 7
 3988 0006 7860     		str	r0, [r7, #4]
 975:User/Hardware/Robstride04.c ****     drw->run_mode.index = Index_List[0];
 3989              		.loc 1 975 37
 3990 0008 47F20502 		movw	r2, #28677
 3991              		.loc 1 975 25
 3992 000c 7B68     		ldr	r3, [r7, #4]
 3993 000e 1A80     		strh	r2, [r3]	@ movhi
 976:User/Hardware/Robstride04.c ****     drw->iq_ref.index = Index_List[1];
 3994              		.loc 1 976 35
 3995 0010 47F20602 		movw	r2, #28678
 3996              		.loc 1 976 23
 3997 0014 7B68     		ldr	r3, [r7, #4]
 3998 0016 1A81     		strh	r2, [r3, #8]	@ movhi
 977:User/Hardware/Robstride04.c ****     drw->spd_ref.index = Index_List[2];
 3999              		.loc 1 977 36
 4000 0018 47F20A02 		movw	r2, #28682
 4001              		.loc 1 977 24
 4002 001c 7B68     		ldr	r3, [r7, #4]
 4003 001e 1A82     		strh	r2, [r3, #16]	@ movhi
 978:User/Hardware/Robstride04.c ****     drw->imit_torque.index = Index_List[3];
 4004              		.loc 1 978 40
 4005 0020 47F20B02 		movw	r2, #28683
 4006              		.loc 1 978 28
 4007 0024 7B68     		ldr	r3, [r7, #4]
 4008 0026 1A83     		strh	r2, [r3, #24]	@ movhi
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 90


 979:User/Hardware/Robstride04.c ****     drw->cur_kp.index = Index_List[4];
 4009              		.loc 1 979 35
 4010 0028 47F21002 		movw	r2, #28688
 4011              		.loc 1 979 23
 4012 002c 7B68     		ldr	r3, [r7, #4]
 4013 002e 1A84     		strh	r2, [r3, #32]	@ movhi
 980:User/Hardware/Robstride04.c ****     drw->cur_ki.index = Index_List[5];
 4014              		.loc 1 980 35
 4015 0030 47F21102 		movw	r2, #28689
 4016              		.loc 1 980 23
 4017 0034 7B68     		ldr	r3, [r7, #4]
 4018 0036 1A85     		strh	r2, [r3, #40]	@ movhi
 981:User/Hardware/Robstride04.c ****     drw->cur_filt_gain.index = Index_List[6];
 4019              		.loc 1 981 42
 4020 0038 47F21402 		movw	r2, #28692
 4021              		.loc 1 981 30
 4022 003c 7B68     		ldr	r3, [r7, #4]
 4023 003e 1A86     		strh	r2, [r3, #48]	@ movhi
 982:User/Hardware/Robstride04.c ****     drw->loc_ref.index = Index_List[7];
 4024              		.loc 1 982 36
 4025 0040 47F21602 		movw	r2, #28694
 4026              		.loc 1 982 24
 4027 0044 7B68     		ldr	r3, [r7, #4]
 4028 0046 1A87     		strh	r2, [r3, #56]	@ movhi
 983:User/Hardware/Robstride04.c ****     drw->limit_spd.index = Index_List[8];
 4029              		.loc 1 983 38
 4030 0048 47F21702 		movw	r2, #28695
 4031              		.loc 1 983 26
 4032 004c 7B68     		ldr	r3, [r7, #4]
 4033 004e A3F84020 		strh	r2, [r3, #64]	@ movhi
 984:User/Hardware/Robstride04.c ****     drw->limit_cur.index = Index_List[9];
 4034              		.loc 1 984 38
 4035 0052 47F21802 		movw	r2, #28696
 4036              		.loc 1 984 26
 4037 0056 7B68     		ldr	r3, [r7, #4]
 4038 0058 A3F84820 		strh	r2, [r3, #72]	@ movhi
 985:User/Hardware/Robstride04.c ****     drw->mechPos.index = Index_List[10];
 4039              		.loc 1 985 36
 4040 005c 47F21902 		movw	r2, #28697
 4041              		.loc 1 985 24
 4042 0060 7B68     		ldr	r3, [r7, #4]
 4043 0062 A3F85020 		strh	r2, [r3, #80]	@ movhi
 986:User/Hardware/Robstride04.c ****     drw->iqf.index = Index_List[11];
 4044              		.loc 1 986 32
 4045 0066 47F21A02 		movw	r2, #28698
 4046              		.loc 1 986 20
 4047 006a 7B68     		ldr	r3, [r7, #4]
 4048 006c A3F85820 		strh	r2, [r3, #88]	@ movhi
 987:User/Hardware/Robstride04.c ****     drw->mechVel.index = Index_List[12];
 4049              		.loc 1 987 36
 4050 0070 47F21B02 		movw	r2, #28699
 4051              		.loc 1 987 24
 4052 0074 7B68     		ldr	r3, [r7, #4]
 4053 0076 A3F86020 		strh	r2, [r3, #96]	@ movhi
 988:User/Hardware/Robstride04.c ****     drw->VBUS.index = Index_List[13];
 4054              		.loc 1 988 33
 4055 007a 47F21C02 		movw	r2, #28700
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 91


 4056              		.loc 1 988 21
 4057 007e 7B68     		ldr	r3, [r7, #4]
 4058 0080 A3F86820 		strh	r2, [r3, #104]	@ movhi
 989:User/Hardware/Robstride04.c ****     drw->rotation.index = Index_List[14];
 4059              		.loc 1 989 37
 4060 0084 47F21D02 		movw	r2, #28701
 4061              		.loc 1 989 25
 4062 0088 7B68     		ldr	r3, [r7, #4]
 4063 008a A3F87020 		strh	r2, [r3, #112]	@ movhi
 990:User/Hardware/Robstride04.c **** }
 4064              		.loc 1 990 1
 4065 008e 00BF     		nop
 4066 0090 0C37     		adds	r7, r7, #12
 4067              	.LCFI177:
 4068              		.cfi_def_cfa_offset 4
 4069 0092 BD46     		mov	sp, r7
 4070              	.LCFI178:
 4071              		.cfi_def_cfa_register 13
 4072              		@ sp needed
 4073 0094 5DF8047B 		ldr	r7, [sp], #4
 4074              	.LCFI179:
 4075              		.cfi_restore 7
 4076              		.cfi_def_cfa_offset 0
 4077 0098 7047     		bx	lr
 4078              		.cfi_endproc
 4079              	.LFE178:
 4081              		.section	.text.Get_MIT_Mode,"ax",%progbits
 4082              		.align	1
 4083              		.global	Get_MIT_Mode
 4084              		.syntax unified
 4085              		.thumb
 4086              		.thumb_func
 4088              	Get_MIT_Mode:
 4089              	.LFB179:
 991:User/Hardware/Robstride04.c **** 
 992:User/Hardware/Robstride04.c **** /*******************************************************************************
 993:User/Hardware/Robstride04.c **** * 函数功能  : 获取MIT模式状态
 994:User/Hardware/Robstride04.c **** *******************************************************************************/
 995:User/Hardware/Robstride04.c **** bool Get_MIT_Mode(RobStride_Motor_t* motor)
 996:User/Hardware/Robstride04.c **** {
 4090              		.loc 1 996 1
 4091              		.cfi_startproc
 4092              		@ args = 0, pretend = 0, frame = 8
 4093              		@ frame_needed = 1, uses_anonymous_args = 0
 4094              		@ link register save eliminated.
 4095 0000 80B4     		push	{r7}
 4096              	.LCFI180:
 4097              		.cfi_def_cfa_offset 4
 4098              		.cfi_offset 7, -4
 4099 0002 83B0     		sub	sp, sp, #12
 4100              	.LCFI181:
 4101              		.cfi_def_cfa_offset 16
 4102 0004 00AF     		add	r7, sp, #0
 4103              	.LCFI182:
 4104              		.cfi_def_cfa_register 7
 4105 0006 7860     		str	r0, [r7, #4]
 997:User/Hardware/Robstride04.c ****     return motor->MIT_Mode;
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 92


 4106              		.loc 1 997 17
 4107 0008 7B68     		ldr	r3, [r7, #4]
 4108 000a 93F84130 		ldrb	r3, [r3, #65]	@ zero_extendqisi2
 998:User/Hardware/Robstride04.c **** }
 4109              		.loc 1 998 1
 4110 000e 1846     		mov	r0, r3
 4111 0010 0C37     		adds	r7, r7, #12
 4112              	.LCFI183:
 4113              		.cfi_def_cfa_offset 4
 4114 0012 BD46     		mov	sp, r7
 4115              	.LCFI184:
 4116              		.cfi_def_cfa_register 13
 4117              		@ sp needed
 4118 0014 5DF8047B 		ldr	r7, [sp], #4
 4119              	.LCFI185:
 4120              		.cfi_restore 7
 4121              		.cfi_def_cfa_offset 0
 4122 0018 7047     		bx	lr
 4123              		.cfi_endproc
 4124              	.LFE179:
 4126              		.section	.text.get_MIT_Type,"ax",%progbits
 4127              		.align	1
 4128              		.global	get_MIT_Type
 4129              		.syntax unified
 4130              		.thumb
 4131              		.thumb_func
 4133              	get_MIT_Type:
 4134              	.LFB180:
 999:User/Hardware/Robstride04.c **** 
1000:User/Hardware/Robstride04.c **** /*******************************************************************************
1001:User/Hardware/Robstride04.c **** * 函数功能  : 获取MIT类型
1002:User/Hardware/Robstride04.c **** *******************************************************************************/
1003:User/Hardware/Robstride04.c **** enum MIT_TYPE get_MIT_Type(RobStride_Motor_t* motor)
1004:User/Hardware/Robstride04.c **** {
 4135              		.loc 1 1004 1
 4136              		.cfi_startproc
 4137              		@ args = 0, pretend = 0, frame = 8
 4138              		@ frame_needed = 1, uses_anonymous_args = 0
 4139              		@ link register save eliminated.
 4140 0000 80B4     		push	{r7}
 4141              	.LCFI186:
 4142              		.cfi_def_cfa_offset 4
 4143              		.cfi_offset 7, -4
 4144 0002 83B0     		sub	sp, sp, #12
 4145              	.LCFI187:
 4146              		.cfi_def_cfa_offset 16
 4147 0004 00AF     		add	r7, sp, #0
 4148              	.LCFI188:
 4149              		.cfi_def_cfa_register 7
 4150 0006 7860     		str	r0, [r7, #4]
1005:User/Hardware/Robstride04.c ****     return motor->MIT_Type;
 4151              		.loc 1 1005 17
 4152 0008 7B68     		ldr	r3, [r7, #4]
 4153 000a 93F84230 		ldrb	r3, [r3, #66]	@ zero_extendqisi2
1006:User/Hardware/Robstride04.c **** }...
 4154              		.loc 1 1006 1
 4155 000e 1846     		mov	r0, r3
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 93


 4156 0010 0C37     		adds	r7, r7, #12
 4157              	.LCFI189:
 4158              		.cfi_def_cfa_offset 4
 4159 0012 BD46     		mov	sp, r7
 4160              	.LCFI190:
 4161              		.cfi_def_cfa_register 13
 4162              		@ sp needed
 4163 0014 5DF8047B 		ldr	r7, [sp], #4
 4164              	.LCFI191:
 4165              		.cfi_restore 7
 4166              		.cfi_def_cfa_offset 0
 4167 0018 7047     		bx	lr
 4168              		.cfi_endproc
 4169              	.LFE180:
 4171              		.text
 4172              	.Letext0:
 4173              		.file 2 "C:/Users/Godwin/13.2 Rel1/arm-none-eabi/include/machine/_default_types.h"
 4174              		.file 3 "C:/Users/Godwin/13.2 Rel1/arm-none-eabi/include/sys/_stdint.h"
 4175              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h723xx.h"
 4176              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h7xx.h"
 4177              		.file 6 "C:/Users/Godwin/13.2 Rel1/lib/gcc/arm-none-eabi/13.2.1/include/stddef.h"
 4178              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 4179              		.file 8 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_fdcan.h"
 4180              		.file 9 "User/BSP/can_receive_send.h"
 4181              		.file 10 "User/Hardware/Robstride04.h"
 4182              		.file 11 "C:/Users/Godwin/13.2 Rel1/arm-none-eabi/include/string.h"
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 94


DEFINED SYMBOLS
                            *ABS*:00000000 Robstride04.c
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:24     .rodata.Index_List:00000000 Index_List
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:21     .rodata.Index_List:00000000 $d
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:45     .bss.Mailbox:00000000 Mailbox
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:42     .bss.Mailbox:00000000 $d
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:48     .text.uint16_to_float_lz:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:54     .text.uint16_to_float_lz:00000000 uint16_to_float_lz
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:129    .text.float_to_uint_lz_lz:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:135    .text.float_to_uint_lz_lz:00000000 float_to_uint_lz_lz
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:226    .text.Byte_to_float:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:232    .text.Byte_to_float:00000000 Byte_to_float
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:306    .text.mapFaults:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:312    .text.mapFaults:00000000 mapFaults
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:442    .text.RobStride_Motor_Init:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:448    .text.RobStride_Motor_Init:00000000 RobStride_Motor_Init
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3971   .text.data_read_write_init:00000000 data_read_write_init
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:509    .text.RobStride_Motor_Init_Offset:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:515    .text.RobStride_Motor_Init_Offset:00000000 RobStride_Motor_Init_Offset
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:557    .text.RobStride_Motor_Analysis:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:563    .text.RobStride_Motor_Analysis:00000000 RobStride_Motor_Analysis
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:967    .text.RobStride_Motor_Analysis:00000298 $d
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:981    .text.RobStride_Motor_Analysis:000002d0 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1088   .text.RobStride_Motor_Analysis:00000388 $d
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1096   .text.RobStride_Motor_Analysis:000003a0 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1204   .text.RobStride_Get_CAN_ID:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1210   .text.RobStride_Get_CAN_ID:00000000 RobStride_Get_CAN_ID
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1275   .text.RobStride_Motor_move_control:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1281   .text.RobStride_Motor_move_control:00000000 RobStride_Motor_move_control
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3189   .text.Set_RobStride_Motor_parameter:00000000 Set_RobStride_Motor_parameter
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3326   .text.Get_RobStride_Motor_parameter:00000000 Get_RobStride_Motor_parameter
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2997   .text.Enable_Motor:00000000 Enable_Motor
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1504   .text.RobStride_Motor_move_control:000001b8 $d
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1515   .text.RobStride_Motor_MIT_Enable:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1521   .text.RobStride_Motor_MIT_Enable:00000000 RobStride_Motor_MIT_Enable
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1605   .text.RobStride_Motor_MIT_Disable:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1611   .text.RobStride_Motor_MIT_Disable:00000000 RobStride_Motor_MIT_Disable
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1695   .text.RobStride_Motor_MIT_ClearOrCheckError:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1701   .text.RobStride_Motor_MIT_ClearOrCheckError:00000000 RobStride_Motor_MIT_ClearOrCheckError
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1787   .text.RobStride_Motor_MIT_SetMotorType:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1793   .text.RobStride_Motor_MIT_SetMotorType:00000000 RobStride_Motor_MIT_SetMotorType
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1879   .text.RobStride_Motor_MIT_SetMotorId:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1885   .text.RobStride_Motor_MIT_SetMotorId:00000000 RobStride_Motor_MIT_SetMotorId
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1971   .text.RobStride_Motor_MIT_Control:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:1977   .text.RobStride_Motor_MIT_Control:00000000 RobStride_Motor_MIT_Control
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2162   .text.RobStride_Motor_MIT_Control:0000016c $d
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2173   .text.RobStride_Motor_MIT_PositionControl:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2179   .text.RobStride_Motor_MIT_PositionControl:00000000 RobStride_Motor_MIT_PositionControl
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2249   .text.RobStride_Motor_MIT_SpeedControl:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2255   .text.RobStride_Motor_MIT_SpeedControl:00000000 RobStride_Motor_MIT_SpeedControl
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2325   .text.RobStride_Motor_MIT_SetZeroPos:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2331   .text.RobStride_Motor_MIT_SetZeroPos:00000000 RobStride_Motor_MIT_SetZeroPos
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2415   .text.RobStride_Motor_MIT_SetProtocol:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2421   .text.RobStride_Motor_MIT_SetProtocol:00000000 RobStride_Motor_MIT_SetProtocol
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2507   .text.RobStride_Motor_Pos_control:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2513   .text.RobStride_Motor_Pos_control:00000000 RobStride_Motor_Pos_control
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2630   .text.RobStride_Motor_CSP_control:00000000 $t
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s 			page 95


C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2636   .text.RobStride_Motor_CSP_control:00000000 RobStride_Motor_CSP_control
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2756   .text.RobStride_Motor_Speed_control:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2762   .text.RobStride_Motor_Speed_control:00000000 RobStride_Motor_Speed_control
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2859   .text.RobStride_Motor_current_control:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2865   .text.RobStride_Motor_current_control:00000000 RobStride_Motor_current_control
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2945   .text.RobStride_Motor_Set_Zero_control:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2951   .text.RobStride_Motor_Set_Zero_control:00000000 RobStride_Motor_Set_Zero_control
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:2991   .text.Enable_Motor:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3079   .text.Disenable_Motor:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3085   .text.Disenable_Motor:00000000 Disenable_Motor
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3178   .text.Disenable_Motor:00000078 $d
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3183   .text.Set_RobStride_Motor_parameter:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3320   .text.Get_RobStride_Motor_parameter:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3406   .text.Set_CAN_ID:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3412   .text.Set_CAN_ID:00000000 Set_CAN_ID
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3491   .text.Set_ZeroPos:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3497   .text.Set_ZeroPos:00000000 Set_ZeroPos
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3575   .text.RobStride_Motor_MotorDataSave:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3581   .text.RobStride_Motor_MotorDataSave:00000000 RobStride_Motor_MotorDataSave
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3671   .text.RobStride_Motor_BaudRateChange:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3677   .text.RobStride_Motor_BaudRateChange:00000000 RobStride_Motor_BaudRateChange
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3769   .text.RobStride_Motor_ProactiveEscalationSet:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3775   .text.RobStride_Motor_ProactiveEscalationSet:00000000 RobStride_Motor_ProactiveEscalationSet
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3867   .text.RobStride_Motor_MotorModeSet:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3873   .text.RobStride_Motor_MotorModeSet:00000000 RobStride_Motor_MotorModeSet
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:3965   .text.data_read_write_init:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:4082   .text.Get_MIT_Mode:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:4088   .text.Get_MIT_Mode:00000000 Get_MIT_Mode
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:4127   .text.get_MIT_Type:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\ccTmkLri.s:4133   .text.get_MIT_Type:00000000 get_MIT_Type

UNDEFINED SYMBOLS
memcpy
canx_send_ext_data
float_to_uint_lz
canx_send_data

ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"gom_protocol.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "User/Hardware/Unitree/gom_protocol.c"
  19              		.section	.text.modify_data,"ax",%progbits
  20              		.align	1
  21              		.global	modify_data
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	modify_data:
  27              	.LFB0:
   1:User/Hardware/Unitree/gom_protocol.c **** #include "gom_protocol.h"
   2:User/Hardware/Unitree/gom_protocol.c **** #include <string.h>
   3:User/Hardware/Unitree/gom_protocol.c **** 
   4:User/Hardware/Unitree/gom_protocol.c **** #define SATURATE(_IN, _MIN, _MAX) \
   5:User/Hardware/Unitree/gom_protocol.c **** 	{                             \
   6:User/Hardware/Unitree/gom_protocol.c **** 		if ((_IN) <= (_MIN))      \
   7:User/Hardware/Unitree/gom_protocol.c **** 			(_IN) = (_MIN);       \
   8:User/Hardware/Unitree/gom_protocol.c **** 		else if ((_IN) >= (_MAX)) \
   9:User/Hardware/Unitree/gom_protocol.c **** 			(_IN) = (_MAX);       \
  10:User/Hardware/Unitree/gom_protocol.c **** 	}
  11:User/Hardware/Unitree/gom_protocol.c **** 
  12:User/Hardware/Unitree/gom_protocol.c **** /// @brief 将发送给电机的浮点参数转换为定点类型参数
  13:User/Hardware/Unitree/gom_protocol.c **** /// @param motor_s 要转换的电机指令结构体
  14:User/Hardware/Unitree/gom_protocol.c **** void modify_data(MotorCmd_t *motor_s)
  15:User/Hardware/Unitree/gom_protocol.c **** {
  28              		.loc 1 15 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 82B0     		sub	sp, sp, #8
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 2


  16:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.head[0] = 0xFE;
  44              		.loc 1 16 35
  45 0008 7B68     		ldr	r3, [r7, #4]
  46 000a FE22     		movs	r2, #254
  47 000c 1A76     		strb	r2, [r3, #24]
  17:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.head[1] = 0xEE;
  48              		.loc 1 17 35
  49 000e 7B68     		ldr	r3, [r7, #4]
  50 0010 EE22     		movs	r2, #238
  51 0012 5A76     		strb	r2, [r3, #25]
  18:User/Hardware/Unitree/gom_protocol.c **** 
  19:User/Hardware/Unitree/gom_protocol.c **** 	SATURATE(motor_s->id, 0, 15);
  52              		.loc 1 19 2
  53 0014 7B68     		ldr	r3, [r7, #4]
  54 0016 1B88     		ldrh	r3, [r3]
  55 0018 002B     		cmp	r3, #0
  56 001a 03D1     		bne	.L2
  57              		.loc 1 19 2 is_stmt 0 discriminator 1
  58 001c 7B68     		ldr	r3, [r7, #4]
  59 001e 0022     		movs	r2, #0
  60 0020 1A80     		strh	r2, [r3]	@ movhi
  61 0022 06E0     		b	.L3
  62              	.L2:
  63              		.loc 1 19 2 discriminator 2
  64 0024 7B68     		ldr	r3, [r7, #4]
  65 0026 1B88     		ldrh	r3, [r3]
  66 0028 0E2B     		cmp	r3, #14
  67 002a 02D9     		bls	.L3
  68              		.loc 1 19 2 discriminator 3
  69 002c 7B68     		ldr	r3, [r7, #4]
  70 002e 0F22     		movs	r2, #15
  71 0030 1A80     		strh	r2, [r3]	@ movhi
  72              	.L3:
  20:User/Hardware/Unitree/gom_protocol.c **** 	SATURATE(motor_s->mode, 0, 7);
  73              		.loc 1 20 2 is_stmt 1
  74 0032 7B68     		ldr	r3, [r7, #4]
  75 0034 5B88     		ldrh	r3, [r3, #2]
  76 0036 002B     		cmp	r3, #0
  77 0038 03D1     		bne	.L4
  78              		.loc 1 20 2 is_stmt 0 discriminator 1
  79 003a 7B68     		ldr	r3, [r7, #4]
  80 003c 0022     		movs	r2, #0
  81 003e 5A80     		strh	r2, [r3, #2]	@ movhi
  82 0040 06E0     		b	.L5
  83              	.L4:
  84              		.loc 1 20 2 discriminator 2
  85 0042 7B68     		ldr	r3, [r7, #4]
  86 0044 5B88     		ldrh	r3, [r3, #2]
  87 0046 062B     		cmp	r3, #6
  88 0048 02D9     		bls	.L5
  89              		.loc 1 20 2 discriminator 3
  90 004a 7B68     		ldr	r3, [r7, #4]
  91 004c 0722     		movs	r2, #7
  92 004e 5A80     		strh	r2, [r3, #2]	@ movhi
  93              	.L5:
  21:User/Hardware/Unitree/gom_protocol.c **** 	SATURATE(motor_s->K_P, 0.0f, 25.599f);
  94              		.loc 1 21 2 is_stmt 1
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 3


  95 0050 7B68     		ldr	r3, [r7, #4]
  96 0052 D3ED047A 		vldr.32	s15, [r3, #16]
  97 0056 F5EEC07A 		vcmpe.f32	s15, #0
  98 005a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  99 005e 04D8     		bhi	.L36
 100              		.loc 1 21 2 is_stmt 0 discriminator 1
 101 0060 7B68     		ldr	r3, [r7, #4]
 102 0062 4FF00002 		mov	r2, #0
 103 0066 1A61     		str	r2, [r3, #16]	@ float
 104 0068 0CE0     		b	.L8
 105              	.L36:
 106              		.loc 1 21 2 discriminator 2
 107 006a 7B68     		ldr	r3, [r7, #4]
 108 006c D3ED047A 		vldr.32	s15, [r3, #16]
 109 0070 9FED797A 		vldr.32	s14, .L41
 110 0074 F4EEC77A 		vcmpe.f32	s15, s14
 111 0078 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 112 007c 02DB     		blt	.L8
 113              		.loc 1 21 2 discriminator 3
 114 007e 7B68     		ldr	r3, [r7, #4]
 115 0080 764A     		ldr	r2, .L41+4
 116 0082 1A61     		str	r2, [r3, #16]	@ float
 117              	.L8:
  22:User/Hardware/Unitree/gom_protocol.c **** 	SATURATE(motor_s->K_W, 0.0f, 25.599f);
 118              		.loc 1 22 2 is_stmt 1
 119 0084 7B68     		ldr	r3, [r7, #4]
 120 0086 D3ED057A 		vldr.32	s15, [r3, #20]
 121 008a F5EEC07A 		vcmpe.f32	s15, #0
 122 008e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 123 0092 04D8     		bhi	.L37
 124              		.loc 1 22 2 is_stmt 0 discriminator 1
 125 0094 7B68     		ldr	r3, [r7, #4]
 126 0096 4FF00002 		mov	r2, #0
 127 009a 5A61     		str	r2, [r3, #20]	@ float
 128 009c 0CE0     		b	.L12
 129              	.L37:
 130              		.loc 1 22 2 discriminator 2
 131 009e 7B68     		ldr	r3, [r7, #4]
 132 00a0 D3ED057A 		vldr.32	s15, [r3, #20]
 133 00a4 9FED6C7A 		vldr.32	s14, .L41
 134 00a8 F4EEC77A 		vcmpe.f32	s15, s14
 135 00ac F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 136 00b0 02DB     		blt	.L12
 137              		.loc 1 22 2 discriminator 3
 138 00b2 7B68     		ldr	r3, [r7, #4]
 139 00b4 694A     		ldr	r2, .L41+4
 140 00b6 5A61     		str	r2, [r3, #20]	@ float
 141              	.L12:
  23:User/Hardware/Unitree/gom_protocol.c **** 	SATURATE(motor_s->T, -127.99f, 127.99f);
 142              		.loc 1 23 2 is_stmt 1
 143 00b8 7B68     		ldr	r3, [r7, #4]
 144 00ba D3ED017A 		vldr.32	s15, [r3, #4]
 145 00be 9FED687A 		vldr.32	s14, .L41+8
 146 00c2 F4EEC77A 		vcmpe.f32	s15, s14
 147 00c6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 148 00ca 03D8     		bhi	.L38
 149              		.loc 1 23 2 is_stmt 0 discriminator 1
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 4


 150 00cc 7B68     		ldr	r3, [r7, #4]
 151 00ce 654A     		ldr	r2, .L41+12
 152 00d0 5A60     		str	r2, [r3, #4]	@ float
 153 00d2 0CE0     		b	.L16
 154              	.L38:
 155              		.loc 1 23 2 discriminator 2
 156 00d4 7B68     		ldr	r3, [r7, #4]
 157 00d6 D3ED017A 		vldr.32	s15, [r3, #4]
 158 00da 9FED637A 		vldr.32	s14, .L41+16
 159 00de F4EEC77A 		vcmpe.f32	s15, s14
 160 00e2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 161 00e6 02DB     		blt	.L16
 162              		.loc 1 23 2 discriminator 3
 163 00e8 7B68     		ldr	r3, [r7, #4]
 164 00ea 604A     		ldr	r2, .L41+20
 165 00ec 5A60     		str	r2, [r3, #4]	@ float
 166              	.L16:
  24:User/Hardware/Unitree/gom_protocol.c **** 	SATURATE(motor_s->W, -804.00f, 804.00f);
 167              		.loc 1 24 2 is_stmt 1
 168 00ee 7B68     		ldr	r3, [r7, #4]
 169 00f0 D3ED027A 		vldr.32	s15, [r3, #8]
 170 00f4 9FED5E7A 		vldr.32	s14, .L41+24
 171 00f8 F4EEC77A 		vcmpe.f32	s15, s14
 172 00fc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 173 0100 03D8     		bhi	.L39
 174              		.loc 1 24 2 is_stmt 0 discriminator 1
 175 0102 7B68     		ldr	r3, [r7, #4]
 176 0104 5B4A     		ldr	r2, .L41+28
 177 0106 9A60     		str	r2, [r3, #8]	@ float
 178 0108 0CE0     		b	.L20
 179              	.L39:
 180              		.loc 1 24 2 discriminator 2
 181 010a 7B68     		ldr	r3, [r7, #4]
 182 010c D3ED027A 		vldr.32	s15, [r3, #8]
 183 0110 9FED597A 		vldr.32	s14, .L41+32
 184 0114 F4EEC77A 		vcmpe.f32	s15, s14
 185 0118 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 186 011c 02DB     		blt	.L20
 187              		.loc 1 24 2 discriminator 3
 188 011e 7B68     		ldr	r3, [r7, #4]
 189 0120 564A     		ldr	r2, .L41+36
 190 0122 9A60     		str	r2, [r3, #8]	@ float
 191              	.L20:
  25:User/Hardware/Unitree/gom_protocol.c **** 	SATURATE(motor_s->Pos, -411774.0f, 411774.0f);
 192              		.loc 1 25 2 is_stmt 1
 193 0124 7B68     		ldr	r3, [r7, #4]
 194 0126 D3ED037A 		vldr.32	s15, [r3, #12]
 195 012a 9FED557A 		vldr.32	s14, .L41+40
 196 012e F4EEC77A 		vcmpe.f32	s15, s14
 197 0132 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 198 0136 03D8     		bhi	.L40
 199              		.loc 1 25 2 is_stmt 0 discriminator 1
 200 0138 7B68     		ldr	r3, [r7, #4]
 201 013a 524A     		ldr	r2, .L41+44
 202 013c DA60     		str	r2, [r3, #12]	@ float
 203 013e 0CE0     		b	.L24
 204              	.L40:
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 5


 205              		.loc 1 25 2 discriminator 2
 206 0140 7B68     		ldr	r3, [r7, #4]
 207 0142 D3ED037A 		vldr.32	s15, [r3, #12]
 208 0146 9FED507A 		vldr.32	s14, .L41+48
 209 014a F4EEC77A 		vcmpe.f32	s15, s14
 210 014e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 211 0152 02DB     		blt	.L24
 212              		.loc 1 25 2 discriminator 3
 213 0154 7B68     		ldr	r3, [r7, #4]
 214 0156 4D4A     		ldr	r2, .L41+52
 215 0158 DA60     		str	r2, [r3, #12]	@ float
 216              	.L24:
  26:User/Hardware/Unitree/gom_protocol.c **** 
  27:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.mode.id = motor_s->id;
 217              		.loc 1 27 44 is_stmt 1
 218 015a 7B68     		ldr	r3, [r7, #4]
 219 015c 1B88     		ldrh	r3, [r3]
 220 015e 03F00F03 		and	r3, r3, #15
 221 0162 D9B2     		uxtb	r1, r3
 222              		.loc 1 27 35
 223 0164 7A68     		ldr	r2, [r7, #4]
 224 0166 937E     		ldrb	r3, [r2, #26]
 225 0168 61F30303 		bfi	r3, r1, #0, #4
 226 016c 9376     		strb	r3, [r2, #26]
  28:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.mode.status = motor_s->mode;
 227              		.loc 1 28 48
 228 016e 7B68     		ldr	r3, [r7, #4]
 229 0170 5B88     		ldrh	r3, [r3, #2]
 230 0172 03F00703 		and	r3, r3, #7
 231 0176 D9B2     		uxtb	r1, r3
 232              		.loc 1 28 39
 233 0178 7A68     		ldr	r2, [r7, #4]
 234 017a 937E     		ldrb	r3, [r2, #26]
 235 017c 61F30613 		bfi	r3, r1, #4, #3
 236 0180 9376     		strb	r3, [r2, #26]
  29:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.comd.k_pos = motor_s->K_P / 25.6f * 32768.0f;
 237              		.loc 1 29 47
 238 0182 7B68     		ldr	r3, [r7, #4]
 239 0184 93ED047A 		vldr.32	s14, [r3, #16]
 240              		.loc 1 29 53
 241 0188 DFED416A 		vldr.32	s13, .L41+56
 242 018c C7EE267A 		vdiv.f32	s15, s14, s13
 243              		.loc 1 29 61
 244 0190 9FED407A 		vldr.32	s14, .L41+60
 245 0194 67EE877A 		vmul.f32	s15, s15, s14
 246              		.loc 1 29 38
 247 0198 FDEEE77A 		vcvt.s32.f32	s15, s15
 248 019c 17EE903A 		vmov	r3, s15	@ int
 249 01a0 1AB2     		sxth	r2, r3
 250 01a2 7B68     		ldr	r3, [r7, #4]
 251 01a4 A3F82320 		strh	r2, [r3, #35]	@ unaligned
  30:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.comd.k_spd = motor_s->K_W / 25.6f * 32768.0f;
 252              		.loc 1 30 47
 253 01a8 7B68     		ldr	r3, [r7, #4]
 254 01aa 93ED057A 		vldr.32	s14, [r3, #20]
 255              		.loc 1 30 53
 256 01ae DFED386A 		vldr.32	s13, .L41+56
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 6


 257 01b2 C7EE267A 		vdiv.f32	s15, s14, s13
 258              		.loc 1 30 61
 259 01b6 9FED377A 		vldr.32	s14, .L41+60
 260 01ba 67EE877A 		vmul.f32	s15, s15, s14
 261              		.loc 1 30 38
 262 01be FDEEE77A 		vcvt.s32.f32	s15, s15
 263 01c2 17EE903A 		vmov	r3, s15	@ int
 264 01c6 1AB2     		sxth	r2, r3
 265 01c8 7B68     		ldr	r3, [r7, #4]
 266 01ca A3F82520 		strh	r2, [r3, #37]	@ unaligned
  31:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.comd.pos_des = motor_s->Pos / 6.28318f * 32768.0f;
 267              		.loc 1 31 49
 268 01ce 7B68     		ldr	r3, [r7, #4]
 269 01d0 93ED037A 		vldr.32	s14, [r3, #12]
 270              		.loc 1 31 55
 271 01d4 DFED306A 		vldr.32	s13, .L41+64
 272 01d8 C7EE267A 		vdiv.f32	s15, s14, s13
 273              		.loc 1 31 66
 274 01dc 9FED2D7A 		vldr.32	s14, .L41+60
 275 01e0 67EE877A 		vmul.f32	s15, s15, s14
 276              		.loc 1 31 40
 277 01e4 FDEEE77A 		vcvt.s32.f32	s15, s15
 278 01e8 17EE902A 		vmov	r2, s15	@ int
 279 01ec 7B68     		ldr	r3, [r7, #4]
 280 01ee C3F81F20 		str	r2, [r3, #31]	@ unaligned
  32:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.comd.spd_des = motor_s->W / 6.28318f * 256.0f;
 281              		.loc 1 32 49
 282 01f2 7B68     		ldr	r3, [r7, #4]
 283 01f4 93ED027A 		vldr.32	s14, [r3, #8]
 284              		.loc 1 32 53
 285 01f8 DFED276A 		vldr.32	s13, .L41+64
 286 01fc C7EE267A 		vdiv.f32	s15, s14, s13
 287              		.loc 1 32 64
 288 0200 9FED267A 		vldr.32	s14, .L41+68
 289 0204 67EE877A 		vmul.f32	s15, s15, s14
 290              		.loc 1 32 40
 291 0208 FDEEE77A 		vcvt.s32.f32	s15, s15
 292 020c 17EE903A 		vmov	r3, s15	@ int
 293 0210 1AB2     		sxth	r2, r3
 294 0212 7B68     		ldr	r3, [r7, #4]
 295 0214 A3F81D20 		strh	r2, [r3, #29]	@ unaligned
  33:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.comd.tor_des = motor_s->T * 256.0f;
 296              		.loc 1 33 49
 297 0218 7B68     		ldr	r3, [r7, #4]
 298 021a D3ED017A 		vldr.32	s15, [r3, #4]
 299              		.loc 1 33 53
 300 021e 9FED1F7A 		vldr.32	s14, .L41+68
 301 0222 67EE877A 		vmul.f32	s15, s15, s14
 302              		.loc 1 33 40
 303 0226 FDEEE77A 		vcvt.s32.f32	s15, s15
 304 022a 17EE903A 		vmov	r3, s15	@ int
 305 022e 1AB2     		sxth	r2, r3
 306 0230 7B68     		ldr	r3, [r7, #4]
 307 0232 A3F81B20 		strh	r2, [r3, #27]	@ unaligned
  34:User/Hardware/Unitree/gom_protocol.c **** 	motor_s->motor_send_data.CRC16 = crc_ccitt(0, (uint8_t *)&motor_s->motor_send_data, sizeof(RIS_Con
 308              		.loc 1 34 59
 309 0236 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 7


 310 0238 1833     		adds	r3, r3, #24
 311              		.loc 1 34 35
 312 023a 0F22     		movs	r2, #15
 313 023c 1946     		mov	r1, r3
 314 023e 0020     		movs	r0, #0
 315 0240 FFF7FEFF 		bl	crc_ccitt
 316 0244 0346     		mov	r3, r0
 317 0246 1A46     		mov	r2, r3
 318              		.loc 1 34 33 discriminator 1
 319 0248 7B68     		ldr	r3, [r7, #4]
 320 024a A3F82720 		strh	r2, [r3, #39]	@ unaligned
  35:User/Hardware/Unitree/gom_protocol.c **** }
 321              		.loc 1 35 1
 322 024e 00BF     		nop
 323 0250 0837     		adds	r7, r7, #8
 324              	.LCFI3:
 325              		.cfi_def_cfa_offset 8
 326 0252 BD46     		mov	sp, r7
 327              	.LCFI4:
 328              		.cfi_def_cfa_register 13
 329              		@ sp needed
 330 0254 80BD     		pop	{r7, pc}
 331              	.L42:
 332 0256 00BF     		.align	2
 333              	.L41:
 334 0258 C1CACC41 		.word	1103940289
 335 025c C1CACC41 		.word	1103940289
 336 0260 E1FAFFC2 		.word	-1023411487
 337 0264 E1FAFFC2 		.word	-1023411487
 338 0268 E1FAFF42 		.word	1124072161
 339 026c E1FAFF42 		.word	1124072161
 340 0270 000049C4 		.word	-1001848832
 341 0274 000049C4 		.word	-1001848832
 342 0278 00004944 		.word	1145634816
 343 027c 00004944 		.word	1145634816
 344 0280 C00FC9C8 		.word	-926347328
 345 0284 C00FC9C8 		.word	-926347328
 346 0288 C00FC948 		.word	1221136320
 347 028c C00FC948 		.word	1221136320
 348 0290 CDCCCC41 		.word	1103940813
 349 0294 00000047 		.word	1191182336
 350 0298 D00FC940 		.word	1086918608
 351 029c 00008043 		.word	1132462080
 352              		.cfi_endproc
 353              	.LFE0:
 355              		.section	.text.extract_data,"ax",%progbits
 356              		.align	1
 357              		.global	extract_data
 358              		.syntax unified
 359              		.thumb
 360              		.thumb_func
 362              	extract_data:
 363              	.LFB1:
  36:User/Hardware/Unitree/gom_protocol.c **** 
  37:User/Hardware/Unitree/gom_protocol.c **** /// @brief 将接收到的定点类型原始数据转换为浮点参数类型
  38:User/Hardware/Unitree/gom_protocol.c **** /// @param motor_r 要转换的电机反馈结构体
  39:User/Hardware/Unitree/gom_protocol.c **** void extract_data(MotorData_t *motor_r)
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 8


  40:User/Hardware/Unitree/gom_protocol.c **** {
 364              		.loc 1 40 1
 365              		.cfi_startproc
 366              		@ args = 0, pretend = 0, frame = 8
 367              		@ frame_needed = 1, uses_anonymous_args = 0
 368 0000 80B5     		push	{r7, lr}
 369              	.LCFI5:
 370              		.cfi_def_cfa_offset 8
 371              		.cfi_offset 7, -8
 372              		.cfi_offset 14, -4
 373 0002 82B0     		sub	sp, sp, #8
 374              	.LCFI6:
 375              		.cfi_def_cfa_offset 16
 376 0004 00AF     		add	r7, sp, #0
 377              	.LCFI7:
 378              		.cfi_def_cfa_register 7
 379 0006 7860     		str	r0, [r7, #4]
  41:User/Hardware/Unitree/gom_protocol.c **** 	if (motor_r->motor_recv_data.head[0] != 0xFD || motor_r->motor_recv_data.head[1] != 0xEE)
 380              		.loc 1 41 35
 381 0008 7B68     		ldr	r3, [r7, #4]
 382 000a 93F82C30 		ldrb	r3, [r3, #44]	@ zero_extendqisi2
 383              		.loc 1 41 5
 384 000e FD2B     		cmp	r3, #253
 385 0010 04D1     		bne	.L44
 386              		.loc 1 41 79 discriminator 1
 387 0012 7B68     		ldr	r3, [r7, #4]
 388 0014 93F82D30 		ldrb	r3, [r3, #45]	@ zero_extendqisi2
 389              		.loc 1 41 47 discriminator 1
 390 0018 EE2B     		cmp	r3, #238
 391 001a 03D0     		beq	.L45
 392              	.L44:
  42:User/Hardware/Unitree/gom_protocol.c **** 	{
  43:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->correct = 0;
 393              		.loc 1 43 20
 394 001c 7B68     		ldr	r3, [r7, #4]
 395 001e 0022     		movs	r2, #0
 396 0020 9A61     		str	r2, [r3, #24]
  44:User/Hardware/Unitree/gom_protocol.c **** 		return;
 397              		.loc 1 44 3
 398 0022 81E0     		b	.L43
 399              	.L45:
  45:User/Hardware/Unitree/gom_protocol.c **** 	}
  46:User/Hardware/Unitree/gom_protocol.c **** 	motor_r->calc_crc = crc_ccitt(0, (uint8_t *)&motor_r->motor_recv_data, sizeof(RIS_MotorData_t) - s
 400              		.loc 1 46 46
 401 0024 7B68     		ldr	r3, [r7, #4]
 402 0026 2C33     		adds	r3, r3, #44
 403              		.loc 1 46 22
 404 0028 0E22     		movs	r2, #14
 405 002a 1946     		mov	r1, r3
 406 002c 0020     		movs	r0, #0
 407 002e FFF7FEFF 		bl	crc_ccitt
 408 0032 0346     		mov	r3, r0
 409 0034 1A46     		mov	r2, r3
 410              		.loc 1 46 20 discriminator 1
 411 0036 7B68     		ldr	r3, [r7, #4]
 412 0038 1A84     		strh	r2, [r3, #32]	@ movhi
  47:User/Hardware/Unitree/gom_protocol.c **** 	if (motor_r->motor_recv_data.CRC16 != motor_r->calc_crc)
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 9


 413              		.loc 1 47 30
 414 003a 7B68     		ldr	r3, [r7, #4]
 415 003c 5A8F     		ldrh	r2, [r3, #58]
 416              		.loc 1 47 47
 417 003e 7B68     		ldr	r3, [r7, #4]
 418 0040 1B8C     		ldrh	r3, [r3, #32]
 419              		.loc 1 47 5
 420 0042 9A42     		cmp	r2, r3
 421 0044 0FD0     		beq	.L47
  48:User/Hardware/Unitree/gom_protocol.c **** 	{
  49:User/Hardware/Unitree/gom_protocol.c **** 		memset(&motor_r->motor_recv_data, 0, sizeof(RIS_MotorData_t));
 422              		.loc 1 49 10
 423 0046 7B68     		ldr	r3, [r7, #4]
 424 0048 2C33     		adds	r3, r3, #44
 425              		.loc 1 49 3
 426 004a 1022     		movs	r2, #16
 427 004c 0021     		movs	r1, #0
 428 004e 1846     		mov	r0, r3
 429 0050 FFF7FEFF 		bl	memset
  50:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->correct = 0;
 430              		.loc 1 50 20
 431 0054 7B68     		ldr	r3, [r7, #4]
 432 0056 0022     		movs	r2, #0
 433 0058 9A61     		str	r2, [r3, #24]
  51:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->bad_msg++;
 434              		.loc 1 51 10
 435 005a 7B68     		ldr	r3, [r7, #4]
 436 005c 9B6A     		ldr	r3, [r3, #40]
 437              		.loc 1 51 19
 438 005e 5A1C     		adds	r2, r3, #1
 439 0060 7B68     		ldr	r3, [r7, #4]
 440 0062 9A62     		str	r2, [r3, #40]
  52:User/Hardware/Unitree/gom_protocol.c **** 		return;
 441              		.loc 1 52 3
 442 0064 60E0     		b	.L43
 443              	.L47:
  53:User/Hardware/Unitree/gom_protocol.c **** 	}
  54:User/Hardware/Unitree/gom_protocol.c **** 	else
  55:User/Hardware/Unitree/gom_protocol.c **** 	{
  56:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->motor_id = motor_r->motor_recv_data.mode.id;
 444              		.loc 1 56 52
 445 0066 7B68     		ldr	r3, [r7, #4]
 446 0068 93F82E30 		ldrb	r3, [r3, #46]
 447 006c C3F30303 		ubfx	r3, r3, #0, #4
 448 0070 DBB2     		uxtb	r3, r3
 449 0072 1A46     		mov	r2, r3
 450              		.loc 1 56 21
 451 0074 7B68     		ldr	r3, [r7, #4]
 452 0076 1A70     		strb	r2, [r3]
  57:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->mode = motor_r->motor_recv_data.mode.status;
 453              		.loc 1 57 48
 454 0078 7B68     		ldr	r3, [r7, #4]
 455 007a 93F82E30 		ldrb	r3, [r3, #46]
 456 007e C3F30213 		ubfx	r3, r3, #4, #3
 457 0082 DBB2     		uxtb	r3, r3
 458 0084 1A46     		mov	r2, r3
 459              		.loc 1 57 17
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 10


 460 0086 7B68     		ldr	r3, [r7, #4]
 461 0088 5A70     		strb	r2, [r3, #1]
  58:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->Temp = motor_r->motor_recv_data.fbk.temp;
 462              		.loc 1 58 47
 463 008a 7B68     		ldr	r3, [r7, #4]
 464 008c 93F93730 		ldrsb	r3, [r3, #55]
 465 0090 1A46     		mov	r2, r3
 466              		.loc 1 58 17
 467 0092 7B68     		ldr	r3, [r7, #4]
 468 0094 5A60     		str	r2, [r3, #4]
  59:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->MError = motor_r->motor_recv_data.fbk.MError;
 469              		.loc 1 59 49
 470 0096 7B68     		ldr	r3, [r7, #4]
 471 0098 93F83830 		ldrb	r3, [r3, #56]
 472 009c C3F30203 		ubfx	r3, r3, #0, #3
 473 00a0 DBB2     		uxtb	r3, r3
 474 00a2 1A46     		mov	r2, r3
 475              		.loc 1 59 19
 476 00a4 7B68     		ldr	r3, [r7, #4]
 477 00a6 9A60     		str	r2, [r3, #8]
  60:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->W = ((float)motor_r->motor_recv_data.fbk.speed / 256.0f) * 6.28318f;
 478              		.loc 1 60 52
 479 00a8 7B68     		ldr	r3, [r7, #4]
 480 00aa B3F93130 		ldrsh	r3, [r3, #49]	@ unaligned
 481 00ae 1BB2     		sxth	r3, r3
 482              		.loc 1 60 17
 483 00b0 07EE903A 		vmov	s15, r3	@ int
 484 00b4 B8EEE77A 		vcvt.f32.s32	s14, s15
 485              		.loc 1 60 59
 486 00b8 DFED1D6A 		vldr.32	s13, .L48
 487 00bc C7EE267A 		vdiv.f32	s15, s14, s13
 488              		.loc 1 60 69
 489 00c0 9FED1C7A 		vldr.32	s14, .L48+4
 490 00c4 67EE877A 		vmul.f32	s15, s15, s14
 491              		.loc 1 60 14
 492 00c8 7B68     		ldr	r3, [r7, #4]
 493 00ca C3ED047A 		vstr.32	s15, [r3, #16]
  61:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->T = ((float)motor_r->motor_recv_data.fbk.torque) / 256.0f;
 494              		.loc 1 61 52
 495 00ce 7B68     		ldr	r3, [r7, #4]
 496 00d0 B3F92F30 		ldrsh	r3, [r3, #47]	@ unaligned
 497 00d4 1BB2     		sxth	r3, r3
 498              		.loc 1 61 17
 499 00d6 07EE903A 		vmov	s15, r3	@ int
 500 00da B8EEE77A 		vcvt.f32.s32	s14, s15
 501              		.loc 1 61 61
 502 00de DFED146A 		vldr.32	s13, .L48
 503 00e2 C7EE267A 		vdiv.f32	s15, s14, s13
 504              		.loc 1 61 14
 505 00e6 7B68     		ldr	r3, [r7, #4]
 506 00e8 C3ED037A 		vstr.32	s15, [r3, #12]
  62:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->Pos = 6.28318f * ((float)motor_r->motor_recv_data.fbk.pos) / 32768.0f;
 507              		.loc 1 62 65
 508 00ec 7B68     		ldr	r3, [r7, #4]
 509 00ee D3F83330 		ldr	r3, [r3, #51]	@ unaligned
 510              		.loc 1 62 30
 511 00f2 07EE903A 		vmov	s15, r3	@ int
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 11


 512 00f6 F8EEE77A 		vcvt.f32.s32	s15, s15
 513              		.loc 1 62 27
 514 00fa 9FED0E7A 		vldr.32	s14, .L48+4
 515 00fe 27EE877A 		vmul.f32	s14, s15, s14
 516              		.loc 1 62 71
 517 0102 DFED0D6A 		vldr.32	s13, .L48+8
 518 0106 C7EE267A 		vdiv.f32	s15, s14, s13
 519              		.loc 1 62 16
 520 010a 7B68     		ldr	r3, [r7, #4]
 521 010c C3ED057A 		vstr.32	s15, [r3, #20]
  63:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->footForce = motor_r->motor_recv_data.fbk.force;
 522              		.loc 1 63 52
 523 0110 7B68     		ldr	r3, [r7, #4]
 524 0112 1B8F     		ldrh	r3, [r3, #56]	@ movhi
 525 0114 C3F3CB03 		ubfx	r3, r3, #3, #12
 526 0118 9BB2     		uxth	r3, r3
 527 011a 1A46     		mov	r2, r3
 528              		.loc 1 63 22
 529 011c 7B68     		ldr	r3, [r7, #4]
 530 011e DA61     		str	r2, [r3, #28]
  64:User/Hardware/Unitree/gom_protocol.c **** 		motor_r->correct = 1;
 531              		.loc 1 64 20
 532 0120 7B68     		ldr	r3, [r7, #4]
 533 0122 0122     		movs	r2, #1
 534 0124 9A61     		str	r2, [r3, #24]
  65:User/Hardware/Unitree/gom_protocol.c **** 		return;
 535              		.loc 1 65 3
 536 0126 00BF     		nop
 537              	.L43:
  66:User/Hardware/Unitree/gom_protocol.c **** 	}
  67:User/Hardware/Unitree/gom_protocol.c **** }
 538              		.loc 1 67 1
 539 0128 0837     		adds	r7, r7, #8
 540              	.LCFI8:
 541              		.cfi_def_cfa_offset 8
 542 012a BD46     		mov	sp, r7
 543              	.LCFI9:
 544              		.cfi_def_cfa_register 13
 545              		@ sp needed
 546 012c 80BD     		pop	{r7, pc}
 547              	.L49:
 548 012e 00BF     		.align	2
 549              	.L48:
 550 0130 00008043 		.word	1132462080
 551 0134 D00FC940 		.word	1086918608
 552 0138 00000047 		.word	1191182336
 553              		.cfi_endproc
 554              	.LFE1:
 556              		.text
 557              	.Letext0:
 558              		.file 2 "C:/Users/Godwin/13.2 Rel1/arm-none-eabi/include/machine/_default_types.h"
 559              		.file 3 "C:/Users/Godwin/13.2 Rel1/arm-none-eabi/include/sys/_stdint.h"
 560              		.file 4 "C:/Users/Godwin/13.2 Rel1/lib/gcc/arm-none-eabi/13.2.1/include/stddef.h"
 561              		.file 5 "User/Hardware/Unitree/gom_protocol.h"
 562              		.file 6 "C:/Users/Godwin/13.2 Rel1/arm-none-eabi/include/string.h"
 563              		.file 7 "User/Hardware/Unitree/crc_ccitt.h"
ARM GAS  C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 gom_protocol.c
C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s:20     .text.modify_data:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s:26     .text.modify_data:00000000 modify_data
C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s:334    .text.modify_data:00000258 $d
C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s:356    .text.extract_data:00000000 $t
C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s:362    .text.extract_data:00000000 extract_data
C:\Users\Godwin\AppData\Local\Temp\cc4qr8dy.s:550    .text.extract_data:00000130 $d

UNDEFINED SYMBOLS
crc_ccitt
memset
